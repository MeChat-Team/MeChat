
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.github.io
 */

import{_ as P}from"./index.vue_vue_type_script_setup_true_lang-FDL5yZdU.js";import{d as j,m as B,r as N,n as q,a as A,p as n,g as R,c as $,b as t,w as o,e as r,h as u,i as g,G as y,j as E,_ as H,k as b}from"./index-TOhlAu5k.js";import{a as x}from"./config-CFeX2CT3.js";const I={class:"flex justify-between"},M=j({__name:"chevereto",setup(O){const l=B({cheveretoStatus:"",cheveretoUploadPath:"",cheveretoKey:""}),m=N();async function p(){const a=await x.queryConfig({keys:["cheveretoKey","cheveretoUploadPath","cheveretoStatus"]});Object.assign(l,a.data)}function f(){var a;(a=m.value)==null||a.validate(async e=>{if(e){try{await x.setConfig({settings:w(l)}),y.success("变更配置信息成功")}catch{}p()}else y.error("请填写完整信息")})}function w(a){return Object.keys(a).map(e=>({configKey:e,configVal:a[e]}))}const _=q(()=>[{required:Number(l.cheveretoStatus)===1,message:"开启配置后请填写此项",trigger:"change"}]);return A(()=>{p()}),(a,e)=>{const v=E,V=H,C=P,k=n("el-button"),U=n("el-switch"),c=n("el-form-item"),d=n("el-col"),i=n("el-row"),h=n("el-input"),K=n("el-form"),S=n("el-card");return R(),$("div",null,[t(C,null,{title:o(()=>e[3]||(e[3]=[r("div",{class:"flex items-center gap-4"},"Chevereto图床设置",-1)])),content:o(()=>e[4]||(e[4]=[r("div",{class:"text-sm/6"},[r("div",null,[u(" 详细搭建及配置请参考 "),r("a",{href:"https://v4-docs.chevereto.com/developer/api/api-v1.html",target:"_blank"},"Chevereto图床文档"),u(" 。如果同时开启多个存储服务，腾讯云、阿里云优先级高于 Chevereto 图床。 ")])],-1)])),default:o(()=>[t(V,{outline:"",onClick:f},{default:o(()=>[t(v,{name:"i-ri:file-text-line"}),e[5]||(e[5]=u(" 保存设置 "))]),_:1})]),_:1}),t(S,{style:{margin:"20px"}},{header:o(()=>[r("div",I,[e[7]||(e[7]=r("b",null,"chevereto图床参数设置",-1)),t(k,{class:"button",text:"",onClick:f},{default:o(()=>e[6]||(e[6]=[u(" 保存设置 ")])),_:1})])]),default:o(()=>[t(K,{ref_key:"formRef",ref:m,model:l,"label-width":"100px"},{default:o(()=>[t(i,null,{default:o(()=>[t(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[t(c,{label:"服务启用状态",prop:"cheveretoStatus"},{default:o(()=>[t(U,{modelValue:l.cheveretoStatus,"onUpdate:modelValue":e[0]||(e[0]=s=>l.cheveretoStatus=s),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(i,null,{default:o(()=>[t(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[t(c,{label:"上传地址",prop:"cheveretoUploadPath",rules:g(_)},{default:o(()=>[t(h,{modelValue:l.cheveretoUploadPath,"onUpdate:modelValue":e[1]||(e[1]=s=>l.cheveretoUploadPath=s),placeholder:"请填写您的图床上传地址",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),t(i,null,{default:o(()=>[t(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[t(c,{label:"ApiKey",prop:"cheveretoKey",rules:g(_)},{default:o(()=>[t(h,{modelValue:l.cheveretoKey,"onUpdate:modelValue":e[2]||(e[2]=s=>l.cheveretoKey=s),placeholder:"请填写ApiKey",clearable:"",type:"password","show-password":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}});typeof b=="function"&&b(M);export{M as default};


/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.github.io
 */

import{d as M,P as C,u as k,aa as x,r as l,a as y,$ as B,g as r,c as i,b as u,i as e,V as t,e as p,w as R,F as $,s as H,af as T,y as S,O as w,A as V,j,l as z}from"./index-TOhlAu5k.js";import{u as N}from"./index-DiAwnlh9.js";import{_ as O}from"./index.vue_vue_type_script_setup_true_lang-T5hrod0s.js";import{_ as E}from"./index.vue_vue_type_script_setup_true_lang-D6GOBwnL.js";import"./sub.vue_vue_type_script_setup_true_lang-B0kJ-CO6.js";import"./item.vue_vue_type_script_setup_true_lang-MVc3MW5U.js";import"./HTooltip.vue_vue_type_script_setup_true_lang-DYNfog0x.js";const F=M({name:"SubSidebar",__name:"index",setup(P){const f=C(),s=k(),c=x(),a=l(),b=l(!1),g=l(!1);function d(){const o=a.value.scrollTop;b.value=o>0;const n=a.value.clientHeight,m=a.value.scrollHeight;g.value=Math.ceil(o+n)<m}const h=l();return y(()=>{d();const{height:o}=N(h);B(()=>o.value,()=>{o.value>0&&d()},{immediate:!0})}),(o,n)=>{const m=j;return r(),i("div",{class:t(["sub-sidebar-container",{"is-collapse":e(s).mode==="pc"&&e(s).settings.menu.subMenuCollapse}])},[u(O,{"show-logo":e(s).settings.menu.menuMode==="single",class:t(["sidebar-logo",{"sidebar-logo-bg":e(s).settings.menu.menuMode==="single"}])},null,8,["show-logo","class"]),p("div",{ref_key:"subSidebarRef",ref:a,class:t(["sub-sidebar flex-1 transition-shadow-300",{"shadow-top":e(b),"shadow-bottom":e(g)}]),onScroll:d},[p("div",{ref_key:"menuRef",ref:h},[u(T,{name:"sub-sidebar"},{default:R(()=>[(r(!0),i($,null,H(e(c).allMenus,(v,_)=>S((r(),i("div",{key:_},[u(E,{menu:v.children,value:e(f).meta.activeMenu||e(f).path,"default-openeds":e(c).defaultOpenedPaths,accordion:e(s).settings.menu.subMenuUniqueOpened,collapse:e(s).mode==="pc"&&e(s).settings.menu.subMenuCollapse,class:"menu"},null,8,["menu","value","default-openeds","accordion","collapse"])],512)),[[w,_===e(c).actived]])),128))]),_:1})],512)],34),e(s).mode==="pc"?(r(),i("div",{key:0,class:t(["relative flex items-center px-4 py-3",[e(s).settings.menu.subMenuCollapse?"justify-center":"justify-end"]])},[S(p("span",{class:t(["flex-center cursor-pointer rounded bg-stone-1 p-2 transition dark-bg-stone-9 hover-bg-stone-2 dark-hover-bg-stone-8",{"-rotate-z-180":e(s).settings.menu.subMenuCollapse}]),onClick:n[0]||(n[0]=v=>e(s).toggleSidebarCollapse())},[u(m,{name:"toolbar-collapse"})],2),[[w,e(s).settings.menu.enableSubMenuCollapseButton]])],2)):V("",!0)],2)}}}),J=z(F,[["__scopeId","data-v-61f98f34"]]);export{J as default};

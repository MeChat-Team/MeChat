
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.github.io
 */

import{_ as q}from"./index.vue_vue_type_script_setup_true_lang-FDL5yZdU.js";import{d as F,m as h,r as v,a as j,p as o,g as A,c as E,b as e,w as l,e as s,A as I,h as R,i as y,J as V,G as b,j as T,_ as $,k}from"./index-TOhlAu5k.js";import{a as w}from"./config-CFeX2CT3.js";const M={class:"text-sm/6"};const O=F({__name:"visible",setup(S){const n=h({pluginUrl:"",pluginKey:"",siteRobotName:"",pluginFirst:"1",isHidePlugin:"0"}),U=v({pluginUrl:[{required:!0,trigger:"blur",message:"请填写插件地址"}],pluginKey:[{required:!0,trigger:"blur",message:"请填写插件key"}]}),p=v();async function m(){const a=await w.queryConfig({keys:["pluginUrl","pluginKey","pluginFirst","isHidePlugin"]});Object.assign(n,a.data)}function K(){var a;(a=p.value)==null||a.validate(async t=>{if(t){try{await w.setConfig({settings:C(n)}),b.success("变更配置信息成功")}catch{}m()}else b.error("请填写完整信息")})}function C(a){return Object.keys(a).map(t=>({configKey:t,configVal:a[t]}))}return j(()=>{m()}),(a,t)=>{const c=T,N=$,B=q,f=o("el-input"),u=o("el-form-item"),r=o("el-col"),d=o("el-row"),_=o("el-switch"),g=o("el-icon"),x=o("el-tooltip"),H=o("el-form"),P=o("el-card");return A(),E("div",null,[e(B,null,{title:l(()=>t[4]||(t[4]=[s("div",{class:"flex items-center gap-4"},"插件应用基础配置",-1)])),content:l(()=>[s("div",M,[t[6]||(t[6]=s("div",null," 插件基础配置，包括插件地址、插件 Key、隐藏插件、插件优先显示等。 ",-1)),I("",!0)])]),default:l(()=>[e(N,{outline:"",onClick:K},{default:l(()=>[e(c,{name:"i-ri:file-text-line"}),t[7]||(t[7]=R(" 保存设置 "))]),_:1})]),_:1}),e(P,{style:{margin:"20px"}},{default:l(()=>[e(H,{ref_key:"formRef",ref:p,rules:U.value,model:n,"label-width":"150px"},{default:l(()=>[e(d,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"插件地址",prop:"pluginUrl"},{default:l(()=>[e(f,{modelValue:n.pluginUrl,"onUpdate:modelValue":t[0]||(t[0]=i=>n.pluginUrl=i),placeholder:"插件地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"插件 Key",prop:"pluginKey"},{default:l(()=>[e(f,{modelValue:n.pluginKey,"onUpdate:modelValue":t[1]||(t[1]=i=>n.pluginKey=i),placeholder:"插件 Key",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"隐藏插件",prop:"isHidePlugin"},{default:l(()=>[e(_,{modelValue:n.isHidePlugin,"onUpdate:modelValue":t[2]||(t[2]=i=>n.isHidePlugin=i),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(x,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>t[8]||(t[8]=[s("div",{style:{width:"250px"}},[s("p",null,"开启后，将隐藏插件功能")],-1)])),default:l(()=>[e(g,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(y(V))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"插件优先显示",prop:"pluginFirst"},{default:l(()=>[e(_,{modelValue:n.pluginFirst,"onUpdate:modelValue":t[3]||(t[3]=i=>n.pluginFirst=i),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(x,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>t[9]||(t[9]=[s("div",{style:{width:"250px"}},[s("p",null,"开启后，对话页默认优先显示插件")],-1)])),default:l(()=>[e(g,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(y(V))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof k=="function"&&k(O);export{O as default};


/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.github.io
 */

import{_ as Ne}from"./index.vue_vue_type_script_setup_true_lang-Ddax1S58.js";import{_ as Se}from"./index.vue_vue_type_script_setup_true_lang-FDL5yZdU.js";import{I as J,d as Ae,r as b,m as E,n as H,a as Ce,p as m,q as De,g as n,c as N,b as t,w as o,e as y,h as s,F as q,s as F,i as u,y as ae,z as f,t as g,J as z,A as V,B as qe,C as Fe,D as Le,G as $,E as Oe,H as de,j as Re,_ as Be,k as ne}from"./index-TOhlAu5k.js";import{u as Pe}from"./utcformatTime-Bq4gDWNx.js";import{a as re,M as Ie,b as ze,c as $e,d as he,e as je}from"./index-BE-LteFu.js";const X={queryModels:D=>J.get("models/query",{params:D}),setModels:D=>J.post("models/setModel",D),delModels:D=>J.post("models/delModel",D)},Ye={class:"w-full overflow-y-scroll whitespace-nowrap"},Ke=["src"],Ge={class:"input-with-text"},Je={class:"input-with-text"},Ee={class:"mr-5 flex justify-end"},He=Ae({__name:"key",setup(D){b();const Q=b(),W=b(0),S=b(!1),L=b(!1),se=b(!1);b(!1);const c=E({keyType:"",model:"",status:null,page:1,size:10}),h=b(),A=b(0),a=E({keyType:1,modelName:"",key:"",modelAvatar:"",status:!0,model:"",isTokenBased:!1,tokenFeeRatio:1e3,modelOrder:0,maxModelTokens:8e3,proxyUrl:"",timeout:300,deduct:1,deductType:1,maxRounds:12,isFileUpload:0,modelLimits:50,modelDescription:""}),Z=b(`/api/upload/file?dir=${encodeURIComponent("system/models")}`),ue=E({keyType:[{required:!0,message:"请选择调用模型类型",trigger:"blur"}],modelName:[{required:!0,message:"请填写您的模型名称",trigger:"blur"}],key:[{required:!1,message:"请填写您的调用模型key",trigger:"blur"}],status:[{required:!0,message:"请选择key的启用状态",trigger:"change"}],isFileUpload:[{required:!1,message:"请选择当前模型是否开启文件上传及支持种类",trigger:"change"}],isTokenBased:[{required:!0,message:"请选择当前key是否基于token计费",trigger:"change"}],tokenFeeRatio:[{required:!1,message:"token计费比例",trigger:"change"}],model:[{required:!0,message:"请选择当前key需要绑定的模型",trigger:"change"}],modelOrder:[{required:!0,message:"请填写当前模型排序",trigger:"blur"}],maxModelTokens:[{required:!0,message:"请填写模型最大token数",trigger:"blur"}],proxyUrl:[{required:!1,message:"请填写指定代理地址",trigger:"blur"}],modelAvatar:[{required:!1,message:"请填写AI模型使用的头像, 不填写使用系统默认",trigger:"blur"}],timeout:[{required:!0,message:"请填写超时时间 默认 60 单位（秒）",trigger:"blur"}],deductType:[{required:!0,message:"请选择当前模型扣费类型",trigger:"change"}],deduct:[{required:!0,message:"请填写当前模型扣费金额（需要是正整数）",trigger:"blur"}],maxRounds:[{required:!0,message:"请填写允许用户选择的最大上下文轮次",trigger:"blur"}],modelLimits:[{required:!0,message:"请填写模型调用频率限制",trigger:"blur"}],modelDescription:[{required:!1,message:"请填写模型描述",trigger:"blur"}]});function ie(d){A.value=0,d==null||d.resetFields()}const pe=H(()=>je[a.keyType]),me=H(()=>A.value?"修改模型":"新增模型"),fe=H(()=>A.value?"确认更新":"确认新增"),ee=b([]);async function C(){try{L.value=!0;const d=await X.queryModels(c);L.value=!1;const{rows:l,count:i}=d.data;W.value=i,ee.value=l}catch{L.value=!1}}async function ye(d){const{id:l}=d;await X.delModels({id:l}),$({type:"success",message:"操作完成！"}),C()}function ge(d){A.value=d.id;const{keyType:l,modelName:i,key:k,status:w,model:x,modelOrder:U,maxModelTokens:r,proxyUrl:_,timeout:O,deductType:R,deduct:T,maxRounds:p,modelAvatar:j,isTokenBased:Y,tokenFeeRatio:K,isFileUpload:G,modelLimits:B,modelDescription:M}=d;Oe(()=>{Object.assign(a,{keyType:l,modelName:i,key:k,status:w,model:x,modelOrder:U,maxModelTokens:r,proxyUrl:_,timeout:O,deductType:R,deduct:T,maxRounds:p,modelAvatar:j,isTokenBased:Y,tokenFeeRatio:K,isFileUpload:G,modelLimits:B,modelDescription:M})}),S.value=!0}function ce(d){d==null||d.resetFields(),C()}async function ke(){if(a.modelAvatar){const d=await _e(a.modelAvatar);be(d,le)}}function be(d,l){const i=new FormData;i.append("file",d),de.post(Z.value,i,{headers:{"Content-Type":"multipart/form-data"}}).then(k=>{l(k.data)}).catch(k=>{console.error("上传失败",k)})}async function _e(d){const l=await de.get(d,{responseType:"blob"});let i="downloaded_file";const k=l.headers["content-disposition"];if(k){const w=/filename="([^"]+)"/.exec(k);w!=null&&w[1]&&(i=w[1])}else i=ve(d);return new File([l.data],i,{type:l.data.type})}function ve(d){const i=new URL(d).pathname;return i.substring(i.lastIndexOf("/")+1)}async function we(d){d==null||d.validate(async l=>{if(l){const i=JSON.parse(JSON.stringify(a));if(delete i.id,A.value&&(i.id=A.value),Number(a.keyType)===1){const w=JSON.parse(JSON.stringify(a.key)).split(`
`);i.key=w}await X.setModels(i),$({type:"success",message:"操作成功！"}),A.value=0,S.value=!1,C()}})}const le=(d,l)=>{console.log("response: ",d.data),a.modelAvatar=d.data},Te=d=>{if(["image/png","image/jpeg","image/gif","image/webp"].includes(d.type)){if(d.size/1024>300)return $.error("当前限制文件最大不超过 300KB!"),!1}else return $.error("当前系统仅支持 PNG、JPEG、GIF 和 WebP 格式的图片!"),!1};return Ce(()=>{C()}),(d,l)=>{const i=Re,k=Be,w=Se,x=m("el-option"),U=m("el-select"),r=m("el-form-item"),_=m("el-button"),O=m("el-form"),R=Ne,T=m("el-tag"),p=m("el-table-column"),j=m("el-popconfirm"),Y=m("el-table"),K=m("el-pagination"),G=m("el-row"),B=m("el-switch"),M=m("el-icon"),P=m("el-tooltip"),v=m("el-input"),Ve=m("el-upload"),te=m("el-input-number"),I=m("el-radio"),xe=m("el-radio-group"),Ue=m("el-dialog"),oe=De("loading");return n(),N("div",null,[t(w,null,{title:o(()=>l[29]||(l[29]=[y("div",{class:"flex items-center gap-4"},"模型配置说明",-1)])),content:o(()=>l[30]||(l[30]=[y("div",{class:"text-sm/6"},[y("div",null,"模型分为（基础对话｜创意模型｜特殊模型三类）。"),y("div",null," 基础对话：用户可以在用户端选择的模型，用于对话、问答、聊天等功能，仅支持 OpenAI Chat 格式，其他模型需自行使用分发程序适配。 "),y("div",null," 创意模型：用户端不展示，包含【Midjourney 绘图】【Dalle 绘图】【SDXL 绘图】【Suno音乐】，用于插件调用。 "),y("div",null," 其中，其中 Midjourney 对接 Midjourney-Proxy-Plus 格式，SDXL、LumaVideo 及 SunoMusic 适配柏拉图，益丰，GPTNB "),y("div",null,"特殊模型：用户端不展示，包含【TTS朗读】【GPTs】。")],-1)])),default:o(()=>[t(k,{outline:"",type:"success",onClick:l[0]||(l[0]=e=>S.value=!0)},{default:o(()=>[t(i,{name:"i-ri:file-text-line"}),l[31]||(l[31]=s(" 添加模型 "))]),_:1})]),_:1}),t(R,null,{default:o(()=>[t(O,{ref_key:"formRef",ref:Q,inline:!0,model:c},{default:o(()=>[t(r,{label:"模型类型",prop:"model"},{default:o(()=>[t(U,{modelValue:c.keyType,"onUpdate:modelValue":l[1]||(l[1]=e=>c.keyType=e),filterable:"","allow-create":"",placeholder:"请选择或填写绑定的模型",clearable:"",style:{width:"160px"}},{default:o(()=>[(n(!0),N(q,null,F(u(re),e=>(n(),f(x,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"使用模型",prop:"model"},{default:o(()=>[t(U,{modelValue:c.model,"onUpdate:modelValue":l[2]||(l[2]=e=>c.model=e),filterable:"","allow-create":"",placeholder:"请选择或填写绑定的模型",clearable:"",style:{width:"160px"}},{default:o(()=>[(n(!0),N(q,null,F(u(Ie),e=>(n(),f(x,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"启用状态",prop:"status"},{default:o(()=>[t(U,{modelValue:c.status,"onUpdate:modelValue":l[3]||(l[3]=e=>c.status=e),placeholder:"请选择key启用状态",clearable:"",style:{width:"160px"}},{default:o(()=>[(n(!0),N(q,null,F(u(ze),e=>(n(),f(x,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,null,{default:o(()=>[t(_,{type:"primary",onClick:C},{default:o(()=>l[32]||(l[32]=[s(" 查询 ")])),_:1}),t(_,{onClick:l[4]||(l[4]=e=>ce(u(Q)))},{default:o(()=>l[33]||(l[33]=[s(" 重置 ")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(R,{style:{width:"100%"}},{default:o(()=>[ae((n(),f(Y,{border:"",data:u(ee),style:{width:"100%"},size:"large"},{default:o(()=>[t(p,{prop:"keyType",label:"模型类型",width:"120"},{default:o(e=>[t(T,{type:"success"},{default:o(()=>[s(g(u($e)[e.row.keyType]),1)]),_:2},1024)]),_:1}),t(p,{prop:"modelOrder",label:"模型排序",width:"90",align:"center"}),t(p,{prop:"modelLimits",label:"频率限制",width:"90",align:"center"}),t(p,{prop:"modelName",label:"模型名称",width:"180"}),t(p,{prop:"status",align:"center",label:"启用状态",width:"90"},{default:o(e=>[t(T,{type:e.row.status?"success":"danger"},{default:o(()=>[s(g(e.row.status?"使用中":"已暂停"),1)]),_:2},1032,["type"])]),_:1}),t(p,{prop:"key",label:"模型KEY",width:"460"},{default:o(e=>[y("div",Ye,g(e.row.key),1)]),_:1}),t(p,{prop:"model",align:"center",label:"绑定模型",width:"180"},{default:o(e=>[t(T,{type:e.row.model.includes("gpt-4")?"success":"info"},{default:o(()=>[s(g(e.row.model),1)]),_:2},1032,["type"])]),_:1}),t(p,{prop:"isTokenBased",align:"center",label:"Token计费",width:"120"},{default:o(e=>[t(T,{type:e.row.isTokenBased?"success":"danger"},{default:o(()=>[s(g(e.row.isTokenBased?"是":"否"),1)]),_:2},1032,["type"])]),_:1}),t(p,{prop:"deductType",align:"center",label:"扣费类型",width:"90"},{default:o(e=>[t(T,{type:e.row.deductType===1?"success":e.row.deductType===2?"warning":"info"},{default:o(()=>[s(g(e.row.deductType===1?"普通积分":e.row.deductType===2?"高级积分":"绘画积分"),1)]),_:2},1032,["type"])]),_:1}),t(p,{prop:"deduct",align:"center",label:"单次扣除",width:"90"},{default:o(e=>[t(T,{type:e.row.deductType===1?"success":"warning"},{default:o(()=>[s(g(`${e.row.deduct} 积分`),1)]),_:2},1032,["type"])]),_:1}),t(p,{prop:"useCount",align:"center",label:"调用次数",width:"90"}),t(p,{prop:"useToken",align:"center",label:"已使用Token",width:"120"}),t(p,{prop:"keyStatus",align:"center",label:"key状态",width:"110"},{default:o(e=>[t(T,{type:e.row.keyStatus===1?"success":"danger"},{default:o(()=>[s(g(e.row.keyStatus===1?"正常工作":e.row.keyStatus===-1?"已被封禁":"余额耗尽 "),1)]),_:2},1032,["type"])]),_:1}),t(p,{prop:"maxModelTokens",align:"center",label:"模型最大上下文",width:"140"},{default:o(e=>[t(_,{type:"info",text:""},{default:o(()=>[s(g(e.row.maxModelTokens||"-"),1)]),_:2},1024)]),_:1}),t(p,{prop:"proxyUrl",align:"center",label:"绑定的代理地址",width:"140"},{default:o(e=>[t(_,{type:"info",text:""},{default:o(()=>[s(g(e.row.proxyUrl||"-"),1)]),_:2},1024)]),_:1}),t(p,{prop:"proxyUrl",align:"center",label:"变更提示信息",width:"180"},{default:o(e=>[s(g(e.row.remark||"-"),1)]),_:1}),t(p,{prop:"createdAt",align:"center",label:"添加时间",width:"120"},{default:o(e=>[s(g(u(Pe)(e.row.createdAt,"YYYY-MM-DD")),1)]),_:1}),t(p,{fixed:"right",label:"操作",width:"200"},{default:o(e=>[t(_,{link:"",type:"primary",size:"small",onClick:Me=>ge(e.row)},{default:o(()=>l[34]||(l[34]=[s(" 变更 ")])),_:2},1032,["onClick"]),t(j,{title:"确认删除此秘钥么?",width:"180","icon-color":"red",onConfirm:Me=>ye(e.row)},{reference:o(()=>[t(_,{link:"",type:"danger",size:"small"},{default:o(()=>l[35]||(l[35]=[s(" 删除秘钥 ")])),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[oe,u(L)]]),t(G,{class:"mt-5 flex justify-end"},{default:o(()=>[t(K,{"current-page":c.page,"onUpdate:currentPage":l[5]||(l[5]=e=>c.page=e),"page-size":c.size,"onUpdate:pageSize":l[6]||(l[6]=e=>c.size=e),class:"mr-5","page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:u(W),onSizeChange:C,onCurrentChange:C},null,8,["current-page","page-size","total"])]),_:1})]),_:1}),t(Ue,{modelValue:u(S),"onUpdate:modelValue":l[27]||(l[27]=e=>Le(S)?S.value=e:null),"close-on-click-modal":!1,title:me.value,width:"770",class:"max-h-[90vh] overflow-y-auto rounded-md p-4",onClose:l[28]||(l[28]=e=>ie(u(h)))},{footer:o(()=>[y("span",Ee,[t(_,{onClick:l[25]||(l[25]=e=>S.value=!1)},{default:o(()=>l[45]||(l[45]=[s("取消")])),_:1}),t(_,{type:"primary",onClick:l[26]||(l[26]=e=>we(u(h)))},{default:o(()=>[s(g(fe.value),1)]),_:1})])]),default:o(()=>[ae((n(),f(O,{ref_key:"formPackageRef",ref:h,"label-position":"right","label-width":"120px",model:a,rules:ue},{default:o(()=>[t(r,{label:"模型类型选择",prop:"keyType"},{default:o(()=>[t(U,{modelValue:a.keyType,"onUpdate:modelValue":l[7]||(l[7]=e=>a.keyType=e),placeholder:"请选择模型类型",style:{width:"100%"}},{default:o(()=>[(n(!0),N(q,null,F(u(re),e=>(n(),f(x,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),[1].includes(Number(a.keyType))?(n(),f(r,{key:0,label:"用户端显示",prop:"status"},{default:o(()=>[t(B,{modelValue:a.status,"onUpdate:modelValue":l[8]||(l[8]=e=>a.status=e)},null,8,["modelValue"]),t(P,{class:"box-item",effect:"dark",placement:"right"},{content:o(()=>l[36]||(l[36]=[y("div",{style:{width:"250px"}}," 关闭将在用户端隐藏此模型、但不会影响后台的调用 ",-1)])),default:o(()=>[t(M,{class:"ml-3 cursor-pointer"},{default:o(()=>[t(u(z))]),_:1})]),_:1})]),_:1})):V("",!0),t(r,{label:"模型显示名称",prop:"modelName"},{default:o(()=>[t(v,{modelValue:a.modelName,"onUpdate:modelValue":l[9]||(l[9]=e=>a.modelName=e),placeholder:"请填写模型显示名称（用户端看到的）"},null,8,["modelValue"])]),_:1}),[1].includes(Number(a.keyType))?(n(),f(r,{key:1,label:"模型简介",prop:"key"},{default:o(()=>[t(v,{modelValue:a.modelDescription,"onUpdate:modelValue":l[10]||(l[10]=e=>a.modelDescription=e),type:"text",placeholder:"请填写模型简介"},null,8,["modelValue"])]),_:1})):V("",!0),[1].includes(Number(a.keyType))?(n(),f(r,{key:2,label:"模型图标",prop:"modelAvatar"},{default:o(()=>[t(v,{modelValue:a.modelAvatar,"onUpdate:modelValue":l[11]||(l[11]=e=>a.modelAvatar=e),placeholder:"请填写或上传网站模型图标",clearable:""},{append:o(()=>[t(Ve,{class:"avatar-uploader",action:u(Z),"show-file-list":!1,"on-success":le,"before-upload":Te,style:{display:"flex","align-items":"center","justify-content":"center"}},{default:o(()=>[a.modelAvatar?(n(),N("img",{key:0,src:a.modelAvatar,style:{"max-width":"1.5rem","max-height":"1.5rem",margin:"5px 0","object-fit":"contain"}},null,8,Ke)):(n(),f(M,{key:1,style:{width:"1rem"}},{default:o(()=>[t(u(qe))]),_:1}))]),_:1},8,["action"]),a.modelAvatar?(n(),f(M,{key:0,onClick:ke,style:{"margin-left":"35px",width:"1rem"}},{default:o(()=>[t(u(Fe))]),_:1})):V("",!0)]),_:1},8,["modelValue"])]),_:1})):V("",!0),t(r,{label:"模型排序",prop:"modelOrder"},{default:o(()=>[y("div",Ge,[t(te,{modelValue:a.modelOrder,"onUpdate:modelValue":l[12]||(l[12]=e=>a.modelOrder=e),max:999,min:0,step:10,class:"input-number",style:{"margin-right":"10px"}},null,8,["modelValue"]),t(P,{class:"box-item",effect:"dark",placement:"right"},{content:o(()=>l[37]||(l[37]=[y("div",{style:{width:"250px"}},"模型排序，越小越靠前。",-1)])),default:o(()=>[t(M,{class:"ml-3 cursor-pointer"},{default:o(()=>[t(u(z))]),_:1})]),_:1})])]),_:1}),t(r,{label:"模型调用频率",prop:"modelLimits"},{default:o(()=>[y("div",Je,[t(te,{modelValue:a.modelLimits,"onUpdate:modelValue":l[13]||(l[13]=e=>a.modelLimits=e),max:999,min:0,step:5,class:"input-number",style:{"margin-right":"10px"}},null,8,["modelValue"]),l[38]||(l[38]=y("span",{class:"unit-text"},"次/小时",-1))])]),_:1}),t(r,{label:"指定代理地址",prop:"proxyUrl"},{default:o(()=>[t(v,{modelValue:a.proxyUrl,"onUpdate:modelValue":l[14]||(l[14]=e=>a.proxyUrl=e),modelModifiers:{number:!0},placeholder:"如需使用代理请填写、不填写默认使用全局配置！"},null,8,["modelValue"])]),_:1}),t(r,{label:"模型密钥",prop:"key"},{default:o(()=>[t(v,{modelValue:a.key,"onUpdate:modelValue":l[15]||(l[15]=e=>a.key=e),type:"text",placeholder:"请填写模型Key"},null,8,["modelValue"])]),_:1}),t(r,{label:"账号关联模型",prop:"model"},{default:o(()=>[t(U,{modelValue:a.model,"onUpdate:modelValue":l[16]||(l[16]=e=>a.model=e),filterable:"",clearable:"",placeholder:"请选用或填写绑定的模型","allow-create":""},{default:o(()=>[(n(!0),N(q,null,F(pe.value,e=>(n(),f(x,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"模型扣费类型",prop:"deductType"},{default:o(()=>[t(U,{modelValue:a.deductType,"onUpdate:modelValue":l[17]||(l[17]=e=>a.deductType=e),filterable:"","allow-create":"",clearable:"",placeholder:"请选用模型扣费类型"},{default:o(()=>[(n(!0),N(q,null,F(u(he),e=>(n(),f(x,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"单次扣除金额",prop:"deduct"},{default:o(()=>[t(v,{modelValue:a.deduct,"onUpdate:modelValue":l[18]||(l[18]=e=>a.deduct=e),modelModifiers:{number:!0},placeholder:"请填写单次调用此key的扣费金额！"},null,8,["modelValue"])]),_:1}),[1].includes(Number(a.keyType))?(n(),f(r,{key:3,label:"上下文限制",prop:"maxRounds"},{default:o(()=>[t(v,{modelValue:a.maxRounds,"onUpdate:modelValue":l[19]||(l[19]=e=>a.maxRounds=e),modelModifiers:{number:!0},placeholder:"请填写允许用户选择的最高上下文条数！"},null,8,["modelValue"])]),_:1})):V("",!0),[1].includes(Number(a.keyType))?(n(),f(r,{key:4,label:"模型最大Token",prop:"maxModelTokens"},{default:o(()=>[t(v,{modelValue:a.maxModelTokens,"onUpdate:modelValue":l[20]||(l[20]=e=>a.maxModelTokens=e),modelModifiers:{number:!0},placeholder:"请填写模型最大Token、不填写默认使用默认！"},null,8,["modelValue"])]),_:1})):V("",!0),t(r,{label:"调用超时时间",prop:"timeout"},{default:o(()=>[t(v,{modelValue:a.timeout,"onUpdate:modelValue":l[21]||(l[21]=e=>a.timeout=e),modelModifiers:{number:!0},placeholder:"请填写key的超时时间单位（秒）！"},null,8,["modelValue"])]),_:1}),[1,3].includes(Number(a.keyType))?(n(),f(r,{key:5,label:"文件上传",prop:"isFileUpload"},{default:o(()=>[t(xe,{modelValue:a.isFileUpload,"onUpdate:modelValue":l[22]||(l[22]=e=>a.isFileUpload=e)},{default:o(()=>[t(I,{label:0},{default:o(()=>l[39]||(l[39]=[s(" 不使用 ")])),_:1}),t(I,{label:1},{default:o(()=>l[40]||(l[40]=[s(" 逆向格式 ")])),_:1}),t(I,{label:2},{default:o(()=>l[41]||(l[41]=[s(" 4o格式 ")])),_:1}),t(I,{label:3},{default:o(()=>l[42]||(l[42]=[s(" 文件分析 ")])),_:1})]),_:1},8,["modelValue"]),t(P,{class:"box-item",effect:"dark",placement:"right"},{content:o(()=>l[43]||(l[43]=[y("div",{style:{width:"250px"}}," 选择是否开启文件上传及其格式，逆向格式【直接附带链接，仅支持逆向渠道】，4o格式【OpenAI Chat 的识图格式，仅支持图片】，文件分析【内置方式的文件分析，支持全模型分析带文字的文件】 ",-1)])),default:o(()=>[t(M,{class:"ml-3 cursor-pointer"},{default:o(()=>[t(u(z))]),_:1})]),_:1})]),_:1})):V("",!0),[1,3].includes(Number(a.keyType))?(n(),f(r,{key:6,label:"token 关联计费",prop:"isTokenBased"},{default:o(()=>[t(B,{modelValue:a.isTokenBased,"onUpdate:modelValue":l[23]||(l[23]=e=>a.isTokenBased=e)},null,8,["modelValue"]),t(P,{class:"box-item",effect:"dark",placement:"right"},{content:o(()=>l[44]||(l[44]=[y("div",{style:{width:"250px"}}," 关联 token 的梯度计费模型，每次扣除的积分 = 单次扣除金额 *（token 消耗 / token 计费比例）结果向上取整【例如单次扣除金额为 3 积分，token 计费比例为 1000，用户调用消耗 2500 token，那么扣除的积分为 3 *（2500 / 1000）向上取整 9 积分】 ",-1)])),default:o(()=>[t(M,{class:"ml-3 cursor-pointer"},{default:o(()=>[t(u(z))]),_:1})]),_:1})]),_:1})):V("",!0),[1,3].includes(Number(a.keyType))?(n(),f(r,{key:7,label:"token计费比例",prop:"tokenFeeRatio"},{default:o(()=>[t(v,{modelValue:a.tokenFeeRatio,"onUpdate:modelValue":l[24]||(l[24]=e=>a.tokenFeeRatio=e),modelModifiers:{number:!0},placeholder:"请填写token计费比例",style:{width:"80%"}},null,8,["modelValue"])]),_:1})):V("",!0)]),_:1},8,["model","rules"])),[[oe,u(se)]])]),_:1},8,["modelValue","title"])])}}});typeof ne=="function"&&ne(He);export{He as default};

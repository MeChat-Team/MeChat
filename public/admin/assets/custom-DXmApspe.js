
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.github.io
 */

import{_ as F}from"./index.vue_vue_type_script_setup_true_lang-Ddax1S58.js";import{_ as M}from"./index.vue_vue_type_script_setup_true_lang-FDL5yZdU.js";import{d as O,u as P,r as u,m as h,a as G,p as f,q as H,g as s,c as b,b as a,w as l,e as j,i as n,W,v as I,x as J,F as N,s as R,h as c,y as Q,z as p,D as X,E as Y,G as S,t as Z,k as D}from"./index-TOhlAu5k.js";import{A as g}from"./badWords-B0QcDwBi.js";import{E as ee}from"./index-BE-LteFu.js";const te=O({__name:"custom",setup(le){P();const k=u(),T=u(0),m=u(!1),r=h({word:"",status:"",page:1,size:500}),V=u();async function i(){try{m.value=!0;const o=await g.queryBadWords(r),{rows:e,count:v}=o.data;m.value=!1,T.value=v,V.value=e}catch{m.value=!1}}function z(o){o==null||o.resetFields(),i()}G(()=>{i()});const d=u(""),_=u(!1),B=u();async function A(o){await g.delBadWords({id:o}),S.success("删除敏感词成功"),await i()}function K(){_.value=!0,Y(()=>{B.value.input.focus()})}async function x(){d.value&&(await g.addBadWords({word:d.value}),S.success("添加敏感词成功"),r.status="",await i()),_.value=!1,d.value=""}return(o,e)=>{const v=M,w=f("el-form-item"),L=f("el-option"),U=f("el-select"),y=f("el-button"),$=f("el-form"),C=F,q=f("el-tag"),E=H("loading");return s(),b("div",null,[a(v,null,{title:l(()=>e[4]||(e[4]=[j("div",{class:"flex items-center gap-4"},"自定义敏感词",-1)])),_:1}),a(C,null,{default:l(()=>[a($,{ref_key:"formRef",ref:k,inline:!0,model:r},{default:l(()=>[a(w,{label:"敏感词",prop:"word"},{default:l(()=>[a(n(W),{modelValue:r.word,"onUpdate:modelValue":e[0]||(e[0]=t=>r.word=t),placeholder:"敏感词[模糊搜索]",onKeydown:I(J(i,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"])]),_:1}),a(w,{label:"敏感词状态",prop:"status"},{default:l(()=>[a(U,{modelValue:r.status,"onUpdate:modelValue":e[1]||(e[1]=t=>r.status=t),placeholder:"请选择敏感词状态",clearable:"",style:{width:"160px"}},{default:l(()=>[(s(!0),b(N,null,R(n(ee),t=>(s(),p(L,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(w,null,{default:l(()=>[a(y,{type:"primary",onClick:i},{default:l(()=>e[5]||(e[5]=[c(" 查询 ")])),_:1}),a(y,{onClick:e[2]||(e[2]=t=>z(n(k)))},{default:l(()=>e[6]||(e[6]=[c(" 重置 ")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),Q((s(),p(C,{style:{width:"100%"}},{default:l(()=>[(s(!0),b(N,null,R(n(V),t=>(s(),p(q,{key:t.id,type:"warning",class:"mb-3 mr-3",closable:"",hit:"","disable-transitions":!0,onClose:ae=>A(t.id)},{default:l(()=>[c(Z(t.word),1)]),_:2},1032,["onClose"]))),128)),n(_)?(s(),p(n(W),{key:0,ref_key:"InputRef",ref:B,modelValue:n(d),"onUpdate:modelValue":e[3]||(e[3]=t=>X(d)?d.value=t:null),class:"ml-1",style:{width:"80px"},size:"small",onKeyup:I(x,["enter"]),onBlur:x},null,8,["modelValue"])):(s(),p(y,{key:1,class:"ml-1",size:"small",onClick:K},{default:l(()=>e[7]||(e[7]=[c(" + New Word ")])),_:1}))]),_:1})),[[E,n(m)]])])}}});typeof D=="function"&&D(te);export{te as default};

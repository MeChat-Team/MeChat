'use strict';function _0x1a4a(_0xb28d1,_0x2846fb){const _0x228c4c=_0x228c();return _0x1a4a=function(_0x1a4aef,_0x164a3f){_0x1a4aef=_0x1a4aef-0x155;let _0x7eb002=_0x228c4c[_0x1a4aef];return _0x7eb002;},_0x1a4a(_0xb28d1,_0x2846fb);}const _0x8fa1b2=_0x1a4a;function _0x228c(){const _0x26af28=['compression','REDIS_PASSWORD','56748sUSoAj','TypeOrmQueryFailedFilter','REDIS_HOST','2DISsAU','./common/filters/typeOrmQueryFailed.filter','Logger','./app.module','ValidationPipe','.env','setGlobalPrefix','base64','REDIS_PORT','539887tCqNXd','98boQCPC','3420760CWPeYD','2676JlcmFc','express-xml-bodyparser','./common/logger/custom-logger.service','@nestjs/common','createSwagger','GET,HEAD,PUT,PATCH,POST,DELETE','4053ylnRUg','PORT','Main','./common/interceptors/transform.interceptor','initDatabase','./common/swagger/index','CustomLoggerService','hbs','log','TransformInterceptor','./common/filters/allExceptions.filter','useGlobalPipes','@nestjs/core','use','useLogger','getInstance','服务启动成功:\x20http://localhost:','default','defineProperty','env','set','getHttpAdapter','templates/pages','crypto','1556250oIzzaq','831159wDmkVK','JWT_SECRET','AllExceptionsFilter','6151280TSuZpo','get','./modules/database/initDatabase','listen'];_0x228c=function(){return _0x26af28;};return _0x228c();}(function(_0x33a115,_0x3dbf66){const _0x2cd403=_0x1a4a,_0x3114e9=_0x33a115();while(!![]){try{const _0x535932=parseInt(_0x2cd403(0x15a))/0x1*(-parseInt(_0x2cd403(0x188))/0x2)+parseInt(_0x2cd403(0x163))/0x3*(parseInt(_0x2cd403(0x15d))/0x4)+parseInt(_0x2cd403(0x17b))/0x5+-parseInt(_0x2cd403(0x185))/0x6*(-parseInt(_0x2cd403(0x15b))/0x7)+-parseInt(_0x2cd403(0x17f))/0x8+parseInt(_0x2cd403(0x17c))/0x9+parseInt(_0x2cd403(0x15c))/0xa;if(_0x535932===_0x3dbf66)break;else _0x3114e9['push'](_0x3114e9['shift']());}catch(_0x354a46){_0x3114e9['push'](_0x3114e9['shift']());}}}(_0x228c,0x73817));Object[_0x8fa1b2(0x175)](exports,'__esModule',{'value':!![]});const allExceptions_filter_1=require(_0x8fa1b2(0x16d)),typeOrmQueryFailed_filter_1=require(_0x8fa1b2(0x189)),transform_interceptor_1=require(_0x8fa1b2(0x166)),index_1=require(_0x8fa1b2(0x168)),custom_logger_service_1=require(_0x8fa1b2(0x15f)),initDatabase_1=require(_0x8fa1b2(0x181)),common_1=require(_0x8fa1b2(0x160)),core_1=require(_0x8fa1b2(0x16f)),compression=require(_0x8fa1b2(0x183)),crypto_1=require(_0x8fa1b2(0x17a)),Dotenv=require('dotenv'),xmlBodyParser=require(_0x8fa1b2(0x15e)),ioredis_1=require('ioredis'),app_module_1=require(_0x8fa1b2(0x18b));Dotenv['config']({'path':_0x8fa1b2(0x156)});async function bootstrap(){const _0x38f6a1=_0x8fa1b2,_0x13dc72=new ioredis_1[(_0x38f6a1(0x174))]({'host':process[_0x38f6a1(0x176)][_0x38f6a1(0x187)],'port':Number(process[_0x38f6a1(0x176)][_0x38f6a1(0x159)]),'password':process[_0x38f6a1(0x176)][_0x38f6a1(0x184)],'db':Number(process[_0x38f6a1(0x176)]['REDIS_DB']||0x0)}),_0x1acd8c=await _0x13dc72[_0x38f6a1(0x180)](_0x38f6a1(0x17d));if(!_0x1acd8c){const _0x51141f=(0x0,crypto_1['randomBytes'])(0x100)['toString'](_0x38f6a1(0x158));common_1['Logger'][_0x38f6a1(0x16b)]('Generating\x20and\x20setting\x20new\x20JWT_SECRET'),await _0x13dc72[_0x38f6a1(0x177)](_0x38f6a1(0x17d),_0x51141f);}const _0x159f0d=await core_1['NestFactory']['create'](app_module_1['AppModule']);await(0x0,initDatabase_1[_0x38f6a1(0x167)])(),_0x159f0d[_0x38f6a1(0x171)](_0x159f0d[_0x38f6a1(0x180)](custom_logger_service_1[_0x38f6a1(0x169)])),_0x159f0d[_0x38f6a1(0x170)](compression()),_0x159f0d[_0x38f6a1(0x170)](xmlBodyParser()),_0x159f0d['enableCors']({'origin':'*','methods':_0x38f6a1(0x162),'preflightContinue':![],'optionsSuccessStatus':0xcc}),_0x159f0d[_0x38f6a1(0x157)]('/api'),(0x0,index_1[_0x38f6a1(0x161)])(_0x159f0d),_0x159f0d[_0x38f6a1(0x16e)](new common_1[(_0x38f6a1(0x155))]()),_0x159f0d['useGlobalFilters'](new allExceptions_filter_1[(_0x38f6a1(0x17e))](),new typeOrmQueryFailed_filter_1[(_0x38f6a1(0x186))]()),_0x159f0d['useGlobalInterceptors'](new transform_interceptor_1[(_0x38f6a1(0x16c))]()),_0x159f0d[_0x38f6a1(0x178)]()['getInstance']()[_0x38f6a1(0x177)]('views',_0x38f6a1(0x179)),_0x159f0d['getHttpAdapter']()[_0x38f6a1(0x172)]()[_0x38f6a1(0x177)]('view\x20engine',_0x38f6a1(0x16a));const _0x2851da=process[_0x38f6a1(0x176)][_0x38f6a1(0x164)]||0xbb8,_0x37b674=await _0x159f0d[_0x38f6a1(0x182)](_0x2851da,()=>{const _0x1502fb=_0x38f6a1;common_1[_0x1502fb(0x18a)][_0x1502fb(0x16b)](_0x1502fb(0x173)+_0x2851da+'/api/docs',_0x1502fb(0x165)),common_1['Logger'][_0x1502fb(0x16b)](_0x1502fb(0x173)+_0x2851da,'Main');});_0x37b674['timeout']=0x5*0x3c*0x3e8;}bootstrap();
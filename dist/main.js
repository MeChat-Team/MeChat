'use strict';const _0x121571=_0x2ffe;(function(_0x4831d3,_0x1d9061){const _0x23544=_0x2ffe,_0x8cbbb4=_0x4831d3();while(!![]){try{const _0x514878=parseInt(_0x23544(0xc5))/0x1+-parseInt(_0x23544(0xef))/0x2*(-parseInt(_0x23544(0xfd))/0x3)+-parseInt(_0x23544(0xd1))/0x4+parseInt(_0x23544(0xf2))/0x5*(-parseInt(_0x23544(0xcd))/0x6)+-parseInt(_0x23544(0xd3))/0x7+parseInt(_0x23544(0xe9))/0x8+-parseInt(_0x23544(0xcc))/0x9;if(_0x514878===_0x1d9061)break;else _0x8cbbb4['push'](_0x8cbbb4['shift']());}catch(_0x66d6f9){_0x8cbbb4['push'](_0x8cbbb4['shift']());}}}(_0x5633,0x71a1b));function _0x5633(){const _0x5d4157=['./app.module','4988270ZYNCaA','Logger','./modules/database/initDatabase','TransformInterceptor','create','get','服务启动成功:\x20http://localhost:','view\x20engine','ioredis','JWT_SECRET','timeout','./common/filters/allExceptions.filter','PORT','config','AllExceptionsFilter','compression','setGlobalPrefix','.env','useLogger','express-xml-bodyparser','Generating\x20and\x20setting\x20new\x20JWT_SECRET','useGlobalPipes','5961920pynsKE','hbs','REDIS_DB','dotenv','useGlobalFilters','@nestjs/core','11796oAiwTo','ValidationPipe','randomBytes','265LWDGkt','GET,HEAD,PUT,PATCH,POST,DELETE','use','useGlobalInterceptors','toString','Main','set','./common/swagger/index','./common/filters/typeOrmQueryFailed.filter','AppModule','getHttpAdapter','372CLGwMN','env','views','887713DDkOgg','/api','createSwagger','getInstance','log','REDIS_PORT','default','6889005hIylzT','19686Cpevuf','./common/interceptors/transform.interceptor','defineProperty','TypeOrmQueryFailedFilter','987688exiAso'];_0x5633=function(){return _0x5d4157;};return _0x5633();}Object[_0x121571(0xcf)](exports,'__esModule',{'value':!![]});function _0x2ffe(_0x5748ec,_0x40b9a6){const _0x5633fe=_0x5633();return _0x2ffe=function(_0x2ffe09,_0x4b43db){_0x2ffe09=_0x2ffe09-0xc4;let _0x4d8aef=_0x5633fe[_0x2ffe09];return _0x4d8aef;},_0x2ffe(_0x5748ec,_0x40b9a6);}const allExceptions_filter_1=require(_0x121571(0xde)),typeOrmQueryFailed_filter_1=require(_0x121571(0xfa)),transform_interceptor_1=require(_0x121571(0xce)),index_1=require(_0x121571(0xf9)),custom_logger_service_1=require('./common/logger/custom-logger.service'),initDatabase_1=require(_0x121571(0xd5)),common_1=require('@nestjs/common'),core_1=require(_0x121571(0xee)),compression=require(_0x121571(0xe2)),crypto_1=require('crypto'),Dotenv=require(_0x121571(0xec)),xmlBodyParser=require(_0x121571(0xe6)),ioredis_1=require(_0x121571(0xdb)),app_module_1=require(_0x121571(0xd2));Dotenv[_0x121571(0xe0)]({'path':_0x121571(0xe4)});async function bootstrap(){const _0x236395=_0x121571,_0x20cf6b=new ioredis_1[(_0x236395(0xcb))]({'host':process[_0x236395(0xfe)]['REDIS_HOST'],'port':Number(process['env'][_0x236395(0xca)]),'password':process[_0x236395(0xfe)]['REDIS_PASSWORD'],'db':Number(process[_0x236395(0xfe)][_0x236395(0xeb)]||0x0)}),_0x20245a=await _0x20cf6b['get']('JWT_SECRET');if(!_0x20245a){const _0x1c2a25=(0x0,crypto_1[_0x236395(0xf1)])(0x100)[_0x236395(0xf6)]('base64');common_1[_0x236395(0xd4)]['log'](_0x236395(0xe7)),await _0x20cf6b[_0x236395(0xf8)](_0x236395(0xdc),_0x1c2a25);}const _0x48296c=await core_1['NestFactory'][_0x236395(0xd7)](app_module_1[_0x236395(0xfb)]);await(0x0,initDatabase_1['initDatabase'])(),_0x48296c[_0x236395(0xe5)](_0x48296c[_0x236395(0xd8)](custom_logger_service_1['CustomLoggerService'])),_0x48296c[_0x236395(0xf4)](compression()),_0x48296c[_0x236395(0xf4)](xmlBodyParser()),_0x48296c['enableCors']({'origin':'*','methods':_0x236395(0xf3),'preflightContinue':![],'optionsSuccessStatus':0xcc}),_0x48296c[_0x236395(0xe3)](_0x236395(0xc6)),(0x0,index_1[_0x236395(0xc7)])(_0x48296c),_0x48296c[_0x236395(0xe8)](new common_1[(_0x236395(0xf0))]()),_0x48296c[_0x236395(0xed)](new allExceptions_filter_1[(_0x236395(0xe1))](),new typeOrmQueryFailed_filter_1[(_0x236395(0xd0))]()),_0x48296c[_0x236395(0xf5)](new transform_interceptor_1[(_0x236395(0xd6))]()),_0x48296c[_0x236395(0xfc)]()[_0x236395(0xc8)]()[_0x236395(0xf8)](_0x236395(0xc4),'templates/pages'),_0x48296c[_0x236395(0xfc)]()[_0x236395(0xc8)]()['set'](_0x236395(0xda),_0x236395(0xea));const _0x1b67f8=process[_0x236395(0xfe)][_0x236395(0xdf)]||0xbb8,_0x3e30a1=await _0x48296c['listen'](_0x1b67f8,()=>{const _0x38ea5c=_0x236395;common_1['Logger'][_0x38ea5c(0xc9)](_0x38ea5c(0xd9)+_0x1b67f8+'/api/docs','Main'),common_1[_0x38ea5c(0xd4)][_0x38ea5c(0xc9)](_0x38ea5c(0xd9)+_0x1b67f8,_0x38ea5c(0xf7));});_0x3e30a1[_0x236395(0xdd)]=0x5*0x3c*0x3e8;}bootstrap();
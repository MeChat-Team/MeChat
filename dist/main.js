'use strict';const _0x16002d=_0x2b22;(function(_0x3de8f5,_0x5cff5f){const _0x54756a=_0x2b22,_0x5130a5=_0x3de8f5();while(!![]){try{const _0x2025da=parseInt(_0x54756a(0x17c))/0x1+-parseInt(_0x54756a(0x19c))/0x2*(parseInt(_0x54756a(0x188))/0x3)+parseInt(_0x54756a(0x179))/0x4*(-parseInt(_0x54756a(0x172))/0x5)+parseInt(_0x54756a(0x17a))/0x6*(-parseInt(_0x54756a(0x192))/0x7)+parseInt(_0x54756a(0x195))/0x8*(parseInt(_0x54756a(0x189))/0x9)+-parseInt(_0x54756a(0x181))/0xa+parseInt(_0x54756a(0x198))/0xb;if(_0x2025da===_0x5cff5f)break;else _0x5130a5['push'](_0x5130a5['shift']());}catch(_0x486f2d){_0x5130a5['push'](_0x5130a5['shift']());}}}(_0xe0a3,0xab4b9));function _0x2b22(_0x36f081,_0x12cb1f){const _0xe0a384=_0xe0a3();return _0x2b22=function(_0x2b2286,_0x3bafc1){_0x2b2286=_0x2b2286-0x169;let _0x59befb=_0xe0a384[_0x2b2286];return _0x59befb;},_0x2b22(_0x36f081,_0x12cb1f);}Object[_0x16002d(0x187)](exports,_0x16002d(0x1a2),{'value':!![]});const allExceptions_filter_1=require(_0x16002d(0x193)),typeOrmQueryFailed_filter_1=require(_0x16002d(0x1a6)),transform_interceptor_1=require(_0x16002d(0x1a3)),index_1=require('./common/swagger/index'),custom_logger_service_1=require(_0x16002d(0x19a)),initDatabase_1=require(_0x16002d(0x18b)),common_1=require(_0x16002d(0x18a)),core_1=require(_0x16002d(0x174)),compression=require(_0x16002d(0x186)),crypto_1=require(_0x16002d(0x185)),Dotenv=require(_0x16002d(0x17f)),xmlBodyParser=require(_0x16002d(0x17b)),ioredis_1=require('ioredis'),app_module_1=require(_0x16002d(0x173));Dotenv[_0x16002d(0x1a4)]({'path':_0x16002d(0x16f)});async function bootstrap(){const _0x42f3c3=_0x16002d,_0x308a5d=new ioredis_1[(_0x42f3c3(0x17d))]({'host':process['env']['REDIS_HOST'],'port':Number(process[_0x42f3c3(0x175)][_0x42f3c3(0x1a1)]),'password':process['env'][_0x42f3c3(0x171)],'db':Number(process[_0x42f3c3(0x175)][_0x42f3c3(0x199)]||0x0)}),_0x57e2c3=await _0x308a5d[_0x42f3c3(0x17e)](_0x42f3c3(0x19e));if(!_0x57e2c3){const _0x5f2a8c=(0x0,crypto_1['randomBytes'])(0x100)[_0x42f3c3(0x197)]('base64');common_1[_0x42f3c3(0x184)]['log'](_0x42f3c3(0x18c)),await _0x308a5d[_0x42f3c3(0x1a5)]('JWT_SECRET',_0x5f2a8c);}const _0x20ee03=await core_1[_0x42f3c3(0x16a)][_0x42f3c3(0x182)](app_module_1[_0x42f3c3(0x196)]);await(0x0,initDatabase_1[_0x42f3c3(0x170)])(),_0x20ee03[_0x42f3c3(0x19b)](_0x20ee03[_0x42f3c3(0x17e)](custom_logger_service_1[_0x42f3c3(0x19f)])),_0x20ee03['use'](compression()),_0x20ee03[_0x42f3c3(0x177)](xmlBodyParser()),_0x20ee03[_0x42f3c3(0x16b)]({'origin':'*','methods':_0x42f3c3(0x180),'preflightContinue':![],'optionsSuccessStatus':0xcc}),_0x20ee03[_0x42f3c3(0x18d)](_0x42f3c3(0x16c)),(0x0,index_1[_0x42f3c3(0x183)])(_0x20ee03),_0x20ee03['useGlobalPipes'](new common_1[(_0x42f3c3(0x191))]()),_0x20ee03['useGlobalFilters'](new allExceptions_filter_1[(_0x42f3c3(0x18f))](),new typeOrmQueryFailed_filter_1['TypeOrmQueryFailedFilter']()),_0x20ee03[_0x42f3c3(0x176)](new transform_interceptor_1['TransformInterceptor']()),_0x20ee03[_0x42f3c3(0x16d)]()[_0x42f3c3(0x190)]()[_0x42f3c3(0x1a5)]('views','templates/pages'),_0x20ee03[_0x42f3c3(0x16d)]()[_0x42f3c3(0x190)]()[_0x42f3c3(0x1a5)](_0x42f3c3(0x169),_0x42f3c3(0x1a0));const _0x141ba8=process['env']['PORT']||0xbb8,_0x5190ac=await _0x20ee03[_0x42f3c3(0x18e)](_0x141ba8,()=>{const _0x5ceb5a=_0x42f3c3;common_1['Logger'][_0x5ceb5a(0x178)](_0x5ceb5a(0x16e)+_0x141ba8+'/api/docs',_0x5ceb5a(0x194)),common_1[_0x5ceb5a(0x184)][_0x5ceb5a(0x178)](_0x5ceb5a(0x16e)+_0x141ba8,_0x5ceb5a(0x194));});_0x5190ac[_0x42f3c3(0x19d)]=0x5*0x3c*0x3e8;}function _0xe0a3(){const _0x51da17=['NestFactory','enableCors','/api','getHttpAdapter','服务启动成功:\x20http://localhost:','.env','initDatabase','REDIS_PASSWORD','5SOgaOA','./app.module','@nestjs/core','env','useGlobalInterceptors','use','log','4731420PStCjr','39666YyEQpq','express-xml-bodyparser','938974FZPdlp','default','get','dotenv','GET,HEAD,PUT,PATCH,POST,DELETE','3544240tWsEqY','create','createSwagger','Logger','crypto','compression','defineProperty','774adKrVs','9PfspHB','@nestjs/common','./modules/database/initDatabase','Generating\x20and\x20setting\x20new\x20JWT_SECRET','setGlobalPrefix','listen','AllExceptionsFilter','getInstance','ValidationPipe','763KVoFgg','./common/filters/allExceptions.filter','Main','1429312PzhNmf','AppModule','toString','20354169KsyXwF','REDIS_DB','./common/logger/custom-logger.service','useLogger','66qqjPcq','timeout','JWT_SECRET','CustomLoggerService','hbs','REDIS_PORT','__esModule','./common/interceptors/transform.interceptor','config','set','./common/filters/typeOrmQueryFailed.filter','view\x20engine'];_0xe0a3=function(){return _0x51da17;};return _0xe0a3();}bootstrap();
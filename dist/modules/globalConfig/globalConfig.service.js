'use strict';function _0xc0a8(){const _0x461299=['__decorate','error','createOrUpdate','emailUser','aliPhoneAccessKeySecret','手机验证码功能暂未开放!','modelsService','Repository','baiduTextApiKey','wechatJsapiTicket','drawMjName','InjectRepository','registerSendModel4Count','https://aip.baidubce.com/oauth/2.0/token?client_id=','mjProxy','getWechatAccessToken','payMpayChannel','wechatRegisterStatus','design:paramtypes','data','companyName','isHideTts','default','globalConfigs','域名与授权码不匹配！','isShowAppCatIcon','payHupiStatus','includes','https://api.weixin.qq.com','mpay','__param','configKey','configVal','phoneLoginStatus','formatUrl','axios','epay','assign','rocketAiKey','function','payLtzfStatus','utf-8','HttpException','queryPayType','getConfigs','ticket','&type=jsapi','noticeInfo','391860jtFnOL','pay','2ihlEvl','response','已添加默认配置:\x20','__esModule','wechatOfficialAppId','mjUseBaiduFy','package.json','agreementTitle','isUseWxLogin','wechatAccessToken','aliPhoneTemplateCode','isModelInherited','BAD_REQUEST','baiduTextStatus','cos','baiduTextAccessToken','fetchBaseAccessToken','mjHideWorkIn','siteRobotName','./../chatLog/chatLog.entity','AIWeb','forEach','hideString','ChatLogEntity','getNamespace','robotAvatar','payEpayChannel','chatLogEntity','payWeChatPublicKey','domain','initDefaultConfigs','registerSendModel3Count','@nestjs/typeorm','homeHtml','mjHideNotBlock','emailHost','payEpayStatus','Logger','payWeChatPrivateKey','clientLogoPath','HttpStatus','204029lBEOka','5470984CJaztu','initBaiduSensitive','weChatApiUrl','529176XJssqU','noVerifyRegister','find','设置完成！','url','siteName','ConfigEntity','支付功能暂未开放!','post','OfficialService','showWatermark','hupi','payMpayStatus','salesSeniorRatio','log','http://authorization.nodeai.cn/api/domainAuth/checkDomain/mechat','NAMESPACE','onModuleInit','queryFrontConfig','签到功能暂未开放!','error_description','decorate','&secret=','Key','agreementInfo','firstRregisterSendDrawMjCount','pluginFirst','update','162SrZCdx','signInModel4Count','save','reduce','getOwnPropertyDescriptor','./config.entity','wechatOfficialAppSecret','firstRegisterSendRank','594888QTBTcw','application/json','configEntity','获取微信access_token失败、错误信息：','env','392355BypmSO','code','queryNotice','length','getAuthInfo','firstRregisterSendModel3Count','signInStatus','isHideModel4Point','gpt','initGetAllConfig','getPhoneVerifyConfig','隐私内容、非超级管理员无权查看','payWechatStatus','baidu','openaiBaseUrl','/cgi-bin/ticket/getticket?access_token=','isHideModel3Point','getSensitiveConfig','signInModel3Count','clientFavoIconPath','metadata','/cgi-bin/token?grant_type=client_credential&appid=','registerSendStatus','object','user','every','tencent','baiduTextSecretKey','thirdPartyAuthExpir','payEpayApiPayUrl','mjProxyImgUrl','aliPhoneSignName','102815JbNnku','ISDEV','salesAllowDrawMoney','GlobalConfigService','error:\x20','@nestjs/common','fetchJsapiTicket','TRUE','emailLoginStatus','parse','readFileSync','isHideDefaultPreset','typeorm','wechatSilentLoginStatus','感谢您使用AIWeb，祝您使用愉快~','registerSendDrawMjCount','firstRegisterSendStatus','__metadata','mindDefaultData','getEmailConfig','getSignatureGiftConfig','defineProperty','signInMjDrawToken'];_0xc0a8=function(){return _0x461299;};return _0xc0a8();}const _0x2ecc2e=_0x1d00;(function(_0xb0658b,_0x291130){const _0x3eec4c=_0x1d00,_0x305633=_0xb0658b();while(!![]){try{const _0x70bb79=parseInt(_0x3eec4c(0xf7))/0x1*(parseInt(_0x3eec4c(0x18d))/0x2)+parseInt(_0x3eec4c(0x124))/0x3+-parseInt(_0x3eec4c(0xfb))/0x4+parseInt(_0x3eec4c(0x144))/0x5*(-parseInt(_0x3eec4c(0x117))/0x6)+parseInt(_0x3eec4c(0x11f))/0x7+parseInt(_0x3eec4c(0xf8))/0x8+-parseInt(_0x3eec4c(0x18b))/0x9;if(_0x70bb79===_0x291130)break;else _0x305633['push'](_0x305633['shift']());}catch(_0x537285){_0x305633['push'](_0x305633['shift']());}}}(_0xc0a8,0x5af9c));function _0x1d00(_0xba7990,_0x46be91){const _0xc0a832=_0xc0a8();return _0x1d00=function(_0x1d00a0,_0x53ff39){_0x1d00a0=_0x1d00a0-0xd2;let _0x166200=_0xc0a832[_0x1d00a0];return _0x166200;},_0x1d00(_0xba7990,_0x46be91);}var __decorate=this&&this[_0x2ecc2e(0x15b)]||function(_0x57f5e9,_0x2bc092,_0x8d37f,_0x5471d6){const _0x36069b=_0x2ecc2e;var _0x24c3de=arguments[_0x36069b(0x127)],_0x401a81=_0x24c3de<0x3?_0x2bc092:_0x5471d6===null?_0x5471d6=Object[_0x36069b(0x11b)](_0x2bc092,_0x8d37f):_0x5471d6,_0x8afa7f;if(typeof Reflect===_0x36069b(0x13b)&&typeof Reflect[_0x36069b(0x110)]===_0x36069b(0x182))_0x401a81=Reflect[_0x36069b(0x110)](_0x57f5e9,_0x2bc092,_0x8d37f,_0x5471d6);else{for(var _0x1dba1d=_0x57f5e9[_0x36069b(0x127)]-0x1;_0x1dba1d>=0x0;_0x1dba1d--)if(_0x8afa7f=_0x57f5e9[_0x1dba1d])_0x401a81=(_0x24c3de<0x3?_0x8afa7f(_0x401a81):_0x24c3de>0x3?_0x8afa7f(_0x2bc092,_0x8d37f,_0x401a81):_0x8afa7f(_0x2bc092,_0x8d37f))||_0x401a81;}return _0x24c3de>0x3&&_0x401a81&&Object[_0x36069b(0x159)](_0x2bc092,_0x8d37f,_0x401a81),_0x401a81;},__metadata=this&&this[_0x2ecc2e(0x155)]||function(_0x1e2f1c,_0x4e3ac0){const _0x461f29=_0x2ecc2e;if(typeof Reflect===_0x461f29(0x13b)&&typeof Reflect[_0x461f29(0x138)]==='function')return Reflect[_0x461f29(0x138)](_0x1e2f1c,_0x4e3ac0);},__param=this&&this[_0x2ecc2e(0x179)]||function(_0x4343d8,_0x561220){return function(_0x583db5,_0x2dcc5b){_0x561220(_0x583db5,_0x2dcc5b,_0x4343d8);};};Object[_0x2ecc2e(0x159)](exports,_0x2ecc2e(0x190),{'value':!![]}),exports[_0x2ecc2e(0x147)]=void 0x0;const utils_1=require('../../common/utils'),baseRequest_1=require('../../common/utils/baseRequest'),common_1=require(_0x2ecc2e(0x149)),typeorm_1=require(_0x2ecc2e(0xee)),axios_1=require(_0x2ecc2e(0x17e)),fs=require('fs'),typeorm_2=require(_0x2ecc2e(0x150)),chatLog_entity_1=require(_0x2ecc2e(0xe1)),models_service_1=require('./../models/models.service'),config_entity_1=require(_0x2ecc2e(0x11c)),packageJsonContent=fs[_0x2ecc2e(0x14e)](_0x2ecc2e(0xd4),_0x2ecc2e(0x184)),packageJson=JSON[_0x2ecc2e(0x14d)](packageJsonContent),version=packageJson['version'];console[_0x2ecc2e(0x109)]('\x20current\x20use\x20version\x20in\x20------>:\x20',version);let GlobalConfigService=class GlobalConfigService{constructor(_0x3d16a8,_0x1510a6,_0x31e3d8){const _0x4d28ad=_0x2ecc2e;this[_0x4d28ad(0x121)]=_0x3d16a8,this[_0x4d28ad(0xe9)]=_0x1510a6,this[_0x4d28ad(0x161)]=_0x31e3d8,this[_0x4d28ad(0x172)]={};}async[_0x2ecc2e(0x10c)](){const _0x6a82b7=_0x2ecc2e;await this[_0x6a82b7(0x12d)](),await this[_0x6a82b7(0xec)]();}async[_0x2ecc2e(0x187)](_0x3c72de){const _0x4edca3=_0x2ecc2e;if(_0x3c72de[_0x4edca3(0x127)]===0x0)return;if(_0x3c72de[_0x4edca3(0x176)](_0x4edca3(0xd7))&&_0x3c72de[_0x4edca3(0x127)]===0x1)return this[_0x4edca3(0xd7)];if(_0x3c72de['includes'](_0x4edca3(0x164))&&_0x3c72de[_0x4edca3(0x127)]===0x1)return this[_0x4edca3(0x164)];if(_0x3c72de[_0x4edca3(0x127)]===0x1)return this[_0x4edca3(0x172)][_0x3c72de[0x0]];else{const _0x2da8f1={};return _0x3c72de['forEach'](_0x199120=>_0x2da8f1[_0x199120]=this[_0x4edca3(0x172)][_0x199120]),_0x2da8f1;}}async[_0x2ecc2e(0x12d)](){const _0x310adc=_0x2ecc2e,_0x37e716=await this[_0x310adc(0x121)][_0x310adc(0xfd)]();this[_0x310adc(0x172)]=_0x37e716[_0x310adc(0x11a)]((_0x1ce366,_0x2c4d29)=>{const _0x480c28=_0x310adc;return _0x1ce366[_0x2c4d29[_0x480c28(0x17a)]]=_0x2c4d29[_0x480c28(0x17b)],_0x1ce366;},{}),this[_0x310adc(0xf9)]();}async[_0x2ecc2e(0xf9)](_0x4b0290=!![]){const _0x3ad1b8=_0x2ecc2e,{baiduTextApiKey:_0x1b3730,baiduTextSecretKey:_0x23e4b2}=await this[_0x3ad1b8(0x187)](['baiduTextApiKey',_0x3ad1b8(0x13f)]);if(!_0x1b3730||!_0x23e4b2)return;const _0x55e7cf={'Content-Type':_0x3ad1b8(0x120),'Accept':_0x3ad1b8(0x120)},_0x2d79ad=_0x3ad1b8(0x168)+_0x1b3730+'&client_secret='+_0x23e4b2+'&grant_type=client_credentials';try{const _0x1c4805=await axios_1[_0x3ad1b8(0x171)]['post'](_0x2d79ad,{'headers':_0x55e7cf});this[_0x3ad1b8(0x172)][_0x3ad1b8(0xdd)]=_0x1c4805[_0x3ad1b8(0x16e)]['access_token'];}catch(_0x2a83a6){if(_0x4b0290){}else throw new common_1[(_0x3ad1b8(0x185))](_0x2a83a6[_0x3ad1b8(0x18e)][_0x3ad1b8(0x16e)][_0x3ad1b8(0x10f)],common_1['HttpStatus'][_0x3ad1b8(0xda)]);}}async[_0x2ecc2e(0x16a)](_0x61b079=![]){const _0xef09f2=_0x2ecc2e,{wechatOfficialAppId:_0x1dd2ac,wechatOfficialAppSecret:_0x3521db}=await this[_0xef09f2(0x187)]([_0xef09f2(0xd2),_0xef09f2(0x11d)]);if(!_0x1dd2ac||!_0x3521db)return common_1['Logger'][_0xef09f2(0x15c)]('还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','OfficialService');this[_0xef09f2(0xd7)]=await this[_0xef09f2(0xde)](_0x1dd2ac,_0x3521db,_0x61b079),this[_0xef09f2(0x164)]=await this[_0xef09f2(0x14a)](this[_0xef09f2(0xd7)]),common_1[_0xef09f2(0xf3)][_0xef09f2(0x109)]('wechat\x20refresh\x20access_token\x20\x20==>\x20'+this[_0xef09f2(0xd7)],'OfficialService');}async[_0x2ecc2e(0xde)](_0x590915,_0x35eb4c,_0x3d41c3=![]){const _0xa18082=_0x2ecc2e;if(process[_0xa18082(0x123)][_0xa18082(0x145)]===_0xa18082(0x14b)){this[_0xa18082(0xd7)]='';return;}const _0x5604a6=(0x0,utils_1[_0xa18082(0x17d)])(process[_0xa18082(0x123)][_0xa18082(0xfa)]||_0xa18082(0x177)),{data:{errmsg:_0x1e561d,access_token:_0x40527d}}=await axios_1['default']['get'](_0x5604a6+_0xa18082(0x139)+_0x590915+_0xa18082(0x111)+_0x35eb4c);if(_0x1e561d){if(_0x3d41c3)common_1[_0xa18082(0xf3)][_0xa18082(0x15c)](_0xa18082(0x122)+_0x1e561d,_0xa18082(0x104));else throw new common_1[(_0xa18082(0x185))]('请配置正确的秘钥、当前秘钥检测不通过！',common_1['HttpStatus']['BAD_REQUEST']);return'';}return _0x40527d;}async['fetchJsapiTicket'](_0x434588){const _0x3d052e=_0x2ecc2e;var _0x47c5b8;if(process[_0x3d052e(0x123)][_0x3d052e(0x145)]===_0x3d052e(0x14b)){this[_0x3d052e(0x164)]='';return;}const _0x3f8703=(0x0,utils_1[_0x3d052e(0x17d)])(process['env'][_0x3d052e(0xfa)]||_0x3d052e(0x177)),_0x26bfd0=await axios_1[_0x3d052e(0x171)]['get'](_0x3f8703+_0x3d052e(0x133)+_0x434588+_0x3d052e(0x189));return(_0x47c5b8=_0x26bfd0===null||_0x26bfd0===void 0x0?void 0x0:_0x26bfd0[_0x3d052e(0x16e)])===null||_0x47c5b8===void 0x0?void 0x0:_0x47c5b8[_0x3d052e(0x188)];}async['queryAllConfig'](_0x358058){const _0x363b67=_0x2ecc2e,{role:_0x4eef8d}=_0x358058[_0x363b67(0x13c)];return this['globalConfigs'];}async[_0x2ecc2e(0x10d)](_0xc5c887,_0x5c92f7){const _0x38999a=_0x2ecc2e,_0x1a9d38=[_0x38999a(0x13a),_0x38999a(0xed),_0x38999a(0x167),_0x38999a(0x153),_0x38999a(0x154),_0x38999a(0x11e),_0x38999a(0x129),'firstRregisterSendModel4Count',_0x38999a(0x114),'clientHomePath',_0x38999a(0xf5),_0x38999a(0x137),'drawingStyles',_0x38999a(0xd6),_0x38999a(0x100),_0x38999a(0xe7),_0x38999a(0xe0),'buyCramiAddress',_0x38999a(0x156),'baiduCode',_0x38999a(0xe8),_0x38999a(0x16b),_0x38999a(0x141),'payEpayStatus',_0x38999a(0x175),_0x38999a(0x130),_0x38999a(0x107),_0x38999a(0x183),'isAutoOpenNotice',_0x38999a(0x174),'salesBaseRatio',_0x38999a(0x108),_0x38999a(0x146),_0x38999a(0x16f),'filingNumber',_0x38999a(0x14c),_0x38999a(0x17c),_0x38999a(0x16c),_0x38999a(0x151),'signInStatus',_0x38999a(0x136),_0x38999a(0x118),_0x38999a(0x15a),'appMenuHeaderTips',_0x38999a(0x115),_0x38999a(0xd3),_0x38999a(0xf0),_0x38999a(0xdf),'isVerifyEmail',_0x38999a(0x105),_0x38999a(0x170),_0x38999a(0x14f),_0x38999a(0x134),_0x38999a(0x12b),'isHideDrawMjPoint','isHidePlugin','model3Name','model4Name',_0x38999a(0x165),_0x38999a(0xd9),_0x38999a(0xfc),_0x38999a(0x18a),_0x38999a(0xef),'isAutoOpenAgreement',_0x38999a(0x113),_0x38999a(0xd5)],_0x893c8=await this[_0x38999a(0x121)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0x1a9d38)}}),{domain:_0x515a46}=_0xc5c887,_0x20f90d=this[_0x38999a(0x172)][_0x38999a(0xeb)];_0x20f90d!==_0x515a46&&(this['createOrUpdate']({'configKey':_0x38999a(0xeb),'configVal':_0x515a46,'status':0x1}),await this[_0x38999a(0x12d)]());const _0x1f61d2=_0x893c8[_0x38999a(0x11a)]((_0x3ea63f,_0x19d279)=>{const _0x2a93ae=_0x38999a;return _0x3ea63f[_0x19d279['configKey']]=_0x19d279[_0x2a93ae(0x17b)],_0x3ea63f;},{}),{wechatOfficialAppId:_0x3d2164,wechatOfficialAppSecret:_0x4bdb09}=await this[_0x38999a(0x187)]([_0x38999a(0xd2),_0x38999a(0x11d)]),_0x2c2d40=!!(_0x3d2164&&_0x4bdb09);return Object[_0x38999a(0x180)](Object['assign']({},_0x1f61d2),{'isUseWxLogin':_0x2c2d40});}async['queryConfig'](_0x4219dc,_0x956c1){const _0x16b40a=_0x2ecc2e,{role:_0x51c065}=_0x956c1[_0x16b40a(0x13c)],{keys:_0xd8388b}=_0x4219dc,_0x1f1a27=await this[_0x16b40a(0x121)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0xd8388b)}});return _0x51c065!=='super'&&_0x1f1a27[_0x16b40a(0xe3)](_0x37f3a6=>{const _0x17f00c=_0x16b40a;if(_0x37f3a6[_0x17f00c(0x17a)]['includes']('mj')||_0x37f3a6[_0x17f00c(0x17a)][_0x17f00c(0x176)](_0x17f00c(0x112))||_0x37f3a6[_0x17f00c(0x17a)][_0x17f00c(0x176)](_0x17f00c(0x12c))||_0x37f3a6[_0x17f00c(0x17a)][_0x17f00c(0x176)](_0x17f00c(0xdc))||_0x37f3a6[_0x17f00c(0x17a)][_0x17f00c(0x176)](_0x17f00c(0x131))||_0x37f3a6[_0x17f00c(0x17a)][_0x17f00c(0x176)]('ali')||_0x37f3a6[_0x17f00c(0x17a)]['includes'](_0x17f00c(0x13e))||_0x37f3a6[_0x17f00c(0x17a)][_0x17f00c(0x176)](_0x17f00c(0x18c))||_0x37f3a6[_0x17f00c(0x17a)][_0x17f00c(0x176)]('wechat')||_0x37f3a6[_0x17f00c(0x17a)][_0x17f00c(0x176)](_0x17f00c(0x142))||_0x37f3a6[_0x17f00c(0x17a)]===_0x17f00c(0x132)){const _0xa05654=[_0x17f00c(0xea),_0x17f00c(0xf4)];if(_0xa05654[_0x17f00c(0x176)](_0x37f3a6[_0x17f00c(0x17a)]))return _0x37f3a6['configVal']=(0x0,utils_1[_0x17f00c(0xe4)])(_0x37f3a6['configVal'],_0x17f00c(0x12f));const _0x55291a=[_0x17f00c(0xf2),_0x17f00c(0x175),_0x17f00c(0x169),_0x17f00c(0x183)];!_0x55291a[_0x17f00c(0x176)](_0x37f3a6[_0x17f00c(0x17a)])&&!_0x37f3a6[_0x17f00c(0x17a)]['includes']('Status')&&(_0x37f3a6[_0x17f00c(0x17b)]=(0x0,utils_1['hideString'])(_0x37f3a6[_0x17f00c(0x17b)]));}}),_0x1f1a27[_0x16b40a(0x11a)]((_0x4d2b32,_0x20e507)=>{const _0x479000=_0x16b40a;return _0x4d2b32[_0x20e507[_0x479000(0x17a)]]=_0x20e507[_0x479000(0x17b)],_0x4d2b32;},{});}async['setConfig'](_0x544abb){const _0x14f0c0=_0x2ecc2e;try{const {settings:_0x8206ca}=_0x544abb;for(const _0xd6394f of _0x8206ca){await this[_0x14f0c0(0x15d)](_0xd6394f);}await this[_0x14f0c0(0x12d)]();const _0x553b1b=_0x8206ca['map'](_0x59aaf6=>_0x59aaf6['configKey']);return(_0x553b1b[_0x14f0c0(0x176)](_0x14f0c0(0x163))||_0x553b1b[_0x14f0c0(0x176)](_0x14f0c0(0x13f)))&&await this[_0x14f0c0(0xf9)](![]),(_0x553b1b[_0x14f0c0(0x176)](_0x14f0c0(0xd2))||_0x553b1b[_0x14f0c0(0x176)](_0x14f0c0(0x11d)))&&await this['getWechatAccessToken'](),_0x14f0c0(0xfe);}catch(_0x554c81){console[_0x14f0c0(0x109)](_0x14f0c0(0x148),_0x554c81);}}async[_0x2ecc2e(0x15d)](_0x9bff9f){const _0x5713bc=_0x2ecc2e;if(_0x9bff9f[_0x5713bc(0x17a)]==_0x5713bc(0x181)){const _0x447183=_0x9bff9f[_0x5713bc(0xff)],_0x3e1c68=await(0x0,baseRequest_1['baseRequest'])({'method':_0x5713bc(0x103),'url':_0x5713bc(0x10a),'data':{'domain':_0x447183,'authCode':_0x9bff9f[_0x5713bc(0x17b)]}});if(_0x3e1c68[_0x5713bc(0x125)]===0x7)throw new common_1[(_0x5713bc(0x185))](_0x5713bc(0x173),common_1[_0x5713bc(0xf6)][_0x5713bc(0xda)]);}try{const {configKey:_0x515a55,configVal:_0x4f79d9,status:status=0x1}=_0x9bff9f,_0x17513d=await this[_0x5713bc(0x121)]['findOne']({'where':{'configKey':_0x515a55}});return _0x17513d?await this[_0x5713bc(0x121)][_0x5713bc(0x116)]({'configKey':_0x515a55},{'configVal':_0x4f79d9,'status':status}):await this[_0x5713bc(0x121)]['save']({'configKey':_0x515a55,'configVal':_0x4f79d9,'status':status}),await this['initGetAllConfig'](),_0x5713bc(0xfe);}catch(_0x28167d){console[_0x5713bc(0x109)](_0x5713bc(0x148),_0x28167d);throw new common_1['HttpException']('设置配置信息错误！',common_1[_0x5713bc(0xf6)][_0x5713bc(0xda)]);}}async[_0x2ecc2e(0x126)](){const _0x4802c4=_0x2ecc2e;return await this['getConfigs']([_0x4802c4(0x18a),'noticeTitle']);}async[_0x2ecc2e(0x186)](){const _0x22ea0f=_0x2ecc2e,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0,payLtzfStatus:payLtzfStatus=0x0}=await this[_0x22ea0f(0x187)]([_0x22ea0f(0x175),_0x22ea0f(0xf2),_0x22ea0f(0x107),_0x22ea0f(0x130),'payLtzfStatus']);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus,payLtzfStatus][_0x22ea0f(0x13d)](_0x149558=>_0x149558===0x0))throw new common_1[(_0x22ea0f(0x185))](_0x22ea0f(0x102),common_1[_0x22ea0f(0xf6)][_0x22ea0f(0xda)]);if(Number(payWechatStatus)===0x1)return'wechat';if(Number(payEpayStatus)===0x1)return _0x22ea0f(0x17f);if(Number(payMpayStatus)===0x1)return _0x22ea0f(0x178);if(Number(payHupiStatus)===0x1)return _0x22ea0f(0x106);if(Number(payLtzfStatus)===0x1)return'ltzf';}async[_0x2ecc2e(0x128)](){const _0x3e8f99=_0x2ecc2e,{siteName:_0x30f11d,registerBaseUrl:_0x3d2e5f,domain:_0xa4b610}=await this['getConfigs'](['siteName','registerBaseUrl',_0x3e8f99(0xeb)]);return{'siteName':_0x30f11d,'registerBaseUrl':_0x3d2e5f,'domain':_0xa4b610};}async[_0x2ecc2e(0x12e)](){const _0x57ed8d=_0x2ecc2e,{phoneLoginStatus:_0x3e9b79,aliPhoneAccessKeyId:_0x44500b,aliPhoneAccessKeySecret:_0x26d850,aliPhoneSignName:_0x1bcd27,aliPhoneTemplateCode:_0x53a01c}=await this[_0x57ed8d(0x187)]([_0x57ed8d(0x17c),'aliPhoneAccessKeyId',_0x57ed8d(0x15f),_0x57ed8d(0x143),_0x57ed8d(0xd8)]);if(Number(_0x3e9b79)!==0x1)throw new common_1[(_0x57ed8d(0x185))](_0x57ed8d(0x160),common_1[_0x57ed8d(0xf6)][_0x57ed8d(0xda)]);return{'accessKeyId':_0x44500b,'accessKeySecret':_0x26d850,'SignName':_0x1bcd27,'TemplateCode':_0x53a01c};}async[_0x2ecc2e(0x157)](){const _0x10a3c2=_0x2ecc2e,_0x19641f=await this[_0x10a3c2(0x187)]([_0x10a3c2(0xf1),'emailPort',_0x10a3c2(0x15e),'emailPass']);return _0x19641f;}[_0x2ecc2e(0xe6)](){const _0x433d3e=_0x2ecc2e;return process['env'][_0x433d3e(0x10b)]||_0x433d3e(0xe2);}async[_0x2ecc2e(0x158)](){const _0x3bd9b3=_0x2ecc2e,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x3bd9b3(0x187)]([_0x3bd9b3(0x12a),_0x3bd9b3(0x136),'signInModel4Count',_0x3bd9b3(0x15a)]);if(Number(signInStatus)!==0x1)throw new common_1['HttpException'](_0x3bd9b3(0x10e),common_1[_0x3bd9b3(0xf6)][_0x3bd9b3(0xda)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async['auth'](){const _0x26174e=_0x2ecc2e,_0x472789='',_0x1b3ce3=await fetch(_0x472789,{}),_0x444d76=await _0x1b3ce3['json'](),{success:success=!![],message:_0x3f853e}=_0x444d76;common_1[_0x26174e(0xf3)]['debug'](_0x26174e(0x152));}async[_0x2ecc2e(0x135)](){const _0x220740=_0x2ecc2e,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x16a168}=await this[_0x220740(0x187)]([_0x220740(0xdb),_0x220740(0xdd)]);if(Number(baiduTextStatus)===0x1)return{'useType':_0x220740(0x131),'baiduTextAccessToken':_0x16a168};return null;}async[_0x2ecc2e(0xec)](){const _0x4a1d94=_0x2ecc2e,_0x1390c9=[{'configKey':_0x4a1d94(0x140),'configVal':'60','public':0x0,'encrypt':0x0,'remark':'第三方应用认证码过期时间（秒）'}];for(const _0x556a74 of _0x1390c9){const _0x1d50b7=await this[_0x4a1d94(0x121)]['findOne']({'where':{'configKey':_0x556a74[_0x4a1d94(0x17a)]}});!_0x1d50b7&&(await this['configEntity'][_0x4a1d94(0x119)](_0x556a74),this[_0x4a1d94(0x172)][_0x556a74['configKey']]=_0x556a74[_0x4a1d94(0x17b)],common_1['Logger'][_0x4a1d94(0x109)](_0x4a1d94(0x18f)+_0x556a74[_0x4a1d94(0x17a)]+'='+_0x556a74[_0x4a1d94(0x17b)],_0x4a1d94(0x147)));}}};GlobalConfigService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0x2ecc2e(0x166)])(config_entity_1[_0x2ecc2e(0x101)])),__param(0x1,(0x0,typeorm_1[_0x2ecc2e(0x166)])(chatLog_entity_1[_0x2ecc2e(0xe5)])),__metadata(_0x2ecc2e(0x16d),[typeorm_2[_0x2ecc2e(0x162)],typeorm_2[_0x2ecc2e(0x162)],models_service_1['ModelsService']])],GlobalConfigService),exports['GlobalConfigService']=GlobalConfigService;
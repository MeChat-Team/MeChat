'use strict';const _0xb83b55=_0x2a45;(function(_0x5780c6,_0x4b2936){const _0x106783=_0x2a45,_0x38c7ac=_0x5780c6();while(!![]){try{const _0x543c1f=parseInt(_0x106783(0xd3))/0x1+parseInt(_0x106783(0x17f))/0x2+-parseInt(_0x106783(0x110))/0x3+-parseInt(_0x106783(0xcf))/0x4+-parseInt(_0x106783(0xfc))/0x5*(-parseInt(_0x106783(0x185))/0x6)+parseInt(_0x106783(0xd9))/0x7+-parseInt(_0x106783(0x176))/0x8;if(_0x543c1f===_0x4b2936)break;else _0x38c7ac['push'](_0x38c7ac['shift']());}catch(_0xa35a60){_0x38c7ac['push'](_0x38c7ac['shift']());}}}(_0x14a0,0x7d53c));function _0x14a0(){const _0x405e76=['salesAllowDrawMoney','formatUrl','drawingStyles','data','noticeTitle','save','function','every','noticeInfo','findOne','salesSeniorRatio','user','ticket','thirdPartyAuthExpir','./config.entity','createOrUpdate','readFileSync','configKey','robotAvatar','isVerifyEmail','@nestjs/common','aliPhoneAccessKeyId','emailUser','isHideDrawMjPoint','chatLogEntity','aliPhoneTemplateCode','defineProperty','find','已添加默认配置:\x20','aliPhoneSignName','wechat','application/json','隐私内容、非超级管理员无权查看','\x20current\x20use\x20version\x20in\x20------>:\x20','ModelsService','域名与授权码不匹配！','ConfigEntity','noVerifyRegister','getEmailConfig','./../chatLog/chatLog.entity','https://aip.baidubce.com/oauth/2.0/token?client_id=','length','filingNumber','utf-8','salesBaseRatio','payWeChatPublicKey','https://api.weixin.qq.com','__param','mindDefaultData','isHidePlugin','hupi','baiduTextApiKey','pluginFirst','includes','mjHideWorkIn','InjectRepository','isHideTts','openaiBaseUrl','forEach','Logger','isModelInherited','queryAllConfig','signInStatus','globalConfigs','fetchJsapiTicket','wechatJsapiTicket','AIWeb','1730960SIggyj','isAutoOpenNotice','setConfig','registerBaseUrl','hideString','decorate','companyName','签到功能暂未开放!','TRUE','48518UMujOk','onModuleInit','firstRregisterSendModel3Count','isShowAppCatIcon','queryFrontConfig','buyCramiAddress','114chsrlV','payEpayStatus','initBaiduSensitive','payWechatStatus','&type=jsapi','支付功能暂未开放!','Injectable','firstRregisterSendDrawMjCount','emailPort','access_token','__esModule','&secret=','payWeChatPrivateKey','@nestjs/typeorm','code','/cgi-bin/ticket/getticket?access_token=','rocketAiKey','baseRequest','设置完成！','2204720eiYnDr','baiduCode','payHupiStatus','weChatApiUrl','289501SxpQsy','version','registerSendDrawMjCount','GlobalConfigService','__metadata','mjUseBaiduFy','6982157MMFEFR','queryPayType','reduce','signInModel4Count','model3Name','Status','mjProxy','queryConfig','getWechatAccessToken','getOwnPropertyDescriptor','手机验证码功能暂未开放!','wechatRegisterStatus','baiduTextAccessToken','clientLogoPath','isHideModel3Point','getAuthInfo','update','baiduTextSecretKey','BAD_REQUEST','url','error:\x20','payEpayApiPayUrl','siteName','../../common/utils','queryNotice','ChatLogEntity','error_description','wechatAccessToken','/cgi-bin/token?grant_type=client_credential&appid=','appMenuHeaderTips','initDefaultConfigs','HttpException','typeorm','payLtzfStatus','wechatOfficialAppId','91475hFcnHy','gpt','getPhoneVerifyConfig','configEntity','Key','mjHideNotBlock','agreementInfo','isAutoOpenAgreement','../../common/utils/baseRequest','pay','HttpStatus','wechat\x20refresh\x20access_token\x20\x20==>\x20','NAMESPACE','ISDEV','&grant_type=client_credentials','ltzf','signInMjDrawToken','payMpayStatus','default','isUseWxLogin','1133778CoXbHe','showWatermark','domain','OfficialService','firstRegisterSendStatus','phoneLoginStatus','signInModel3Count','siteRobotName','wechatOfficialAppSecret','isHideModel4Point','Repository','log','./../models/models.service','mpay','emailLoginStatus','error','firstRregisterSendModel4Count','assign','registerSendModel3Count','configVal','getConfigs','env','getSignatureGiftConfig','registerSendStatus','auth','get','clientHomePath','object','fetchBaseAccessToken','tencent','initGetAllConfig','ali','modelsService','clientFavoIconPath','post'];_0x14a0=function(){return _0x405e76;};return _0x14a0();}var __decorate=this&&this['__decorate']||function(_0x3d289a,_0x4b0db6,_0x1d929b,_0x121f63){const _0x41124c=_0x2a45;var _0x415260=arguments[_0x41124c(0x15c)],_0x3d144e=_0x415260<0x3?_0x4b0db6:_0x121f63===null?_0x121f63=Object[_0x41124c(0xe2)](_0x4b0db6,_0x1d929b):_0x121f63,_0x41e260;if(typeof Reflect===_0x41124c(0x12b)&&typeof Reflect[_0x41124c(0x17b)]==='function')_0x3d144e=Reflect['decorate'](_0x3d289a,_0x4b0db6,_0x1d929b,_0x121f63);else{for(var _0x44b178=_0x3d289a[_0x41124c(0x15c)]-0x1;_0x44b178>=0x0;_0x44b178--)if(_0x41e260=_0x3d289a[_0x44b178])_0x3d144e=(_0x415260<0x3?_0x41e260(_0x3d144e):_0x415260>0x3?_0x41e260(_0x4b0db6,_0x1d929b,_0x3d144e):_0x41e260(_0x4b0db6,_0x1d929b))||_0x3d144e;}return _0x415260>0x3&&_0x3d144e&&Object[_0x41124c(0x14d)](_0x4b0db6,_0x1d929b,_0x3d144e),_0x3d144e;},__metadata=this&&this[_0xb83b55(0xd7)]||function(_0x2a91cb,_0x3fdd29){const _0x540e2d=_0xb83b55;if(typeof Reflect===_0x540e2d(0x12b)&&typeof Reflect['metadata']===_0x540e2d(0x139))return Reflect['metadata'](_0x2a91cb,_0x3fdd29);},__param=this&&this[_0xb83b55(0x162)]||function(_0x5986fa,_0x5ebdef){return function(_0x25cbdf,_0x36c6dd){_0x5ebdef(_0x25cbdf,_0x36c6dd,_0x5986fa);};};function _0x2a45(_0x466e77,_0xcb2b95){const _0x14a030=_0x14a0();return _0x2a45=function(_0x2a45c9,_0x24095e){_0x2a45c9=_0x2a45c9-0xc0;let _0x14e593=_0x14a030[_0x2a45c9];return _0x14e593;},_0x2a45(_0x466e77,_0xcb2b95);}Object[_0xb83b55(0x14d)](exports,_0xb83b55(0xc6),{'value':!![]}),exports['GlobalConfigService']=void 0x0;const utils_1=require(_0xb83b55(0xf0)),baseRequest_1=require(_0xb83b55(0x104)),common_1=require(_0xb83b55(0x147)),typeorm_1=require(_0xb83b55(0xc9)),axios_1=require('axios'),fs=require('fs'),typeorm_2=require(_0xb83b55(0xf9)),chatLog_entity_1=require(_0xb83b55(0x15a)),models_service_1=require(_0xb83b55(0x11c)),config_entity_1=require(_0xb83b55(0x141)),packageJsonContent=fs[_0xb83b55(0x143)]('package.json',_0xb83b55(0x15e)),packageJson=JSON['parse'](packageJsonContent),version=packageJson[_0xb83b55(0xd4)];console['log'](_0xb83b55(0x154),version);let GlobalConfigService=class GlobalConfigService{constructor(_0x5aed09,_0x206013,_0x26865f){const _0x5e3791=_0xb83b55;this['configEntity']=_0x5aed09,this[_0x5e3791(0x14b)]=_0x206013,this[_0x5e3791(0x130)]=_0x26865f,this[_0x5e3791(0x172)]={};}async[_0xb83b55(0x180)](){const _0x301e68=_0xb83b55;await this[_0x301e68(0x12e)](),await this[_0x301e68(0xf7)]();}async[_0xb83b55(0x124)](_0x7f4dfe){const _0x1f0061=_0xb83b55;if(_0x7f4dfe[_0x1f0061(0x15c)]===0x0)return;if(_0x7f4dfe[_0x1f0061(0x168)](_0x1f0061(0xf4))&&_0x7f4dfe[_0x1f0061(0x15c)]===0x1)return this[_0x1f0061(0xf4)];if(_0x7f4dfe[_0x1f0061(0x168)](_0x1f0061(0x174))&&_0x7f4dfe[_0x1f0061(0x15c)]===0x1)return this[_0x1f0061(0x174)];if(_0x7f4dfe[_0x1f0061(0x15c)]===0x1)return this[_0x1f0061(0x172)][_0x7f4dfe[0x0]];else{const _0x18a7bc={};return _0x7f4dfe[_0x1f0061(0x16d)](_0xd392e8=>_0x18a7bc[_0xd392e8]=this[_0x1f0061(0x172)][_0xd392e8]),_0x18a7bc;}}async['initGetAllConfig'](){const _0x27709d=_0xb83b55,_0x19691a=await this[_0x27709d(0xff)][_0x27709d(0x14e)]();this[_0x27709d(0x172)]=_0x19691a['reduce']((_0x5afd6e,_0xe51aee)=>{const _0x2a9265=_0x27709d;return _0x5afd6e[_0xe51aee[_0x2a9265(0x144)]]=_0xe51aee[_0x2a9265(0x123)],_0x5afd6e;},{}),this[_0x27709d(0x187)]();}async['initBaiduSensitive'](_0x4a5319=!![]){const _0x8df61e=_0xb83b55,{baiduTextApiKey:_0x3c82f2,baiduTextSecretKey:_0x4cc25a}=await this['getConfigs'](['baiduTextApiKey',_0x8df61e(0xea)]);if(!_0x3c82f2||!_0x4cc25a)return;const _0x3006f8={'Content-Type':_0x8df61e(0x152),'Accept':_0x8df61e(0x152)},_0x547647=_0x8df61e(0x15b)+_0x3c82f2+'&client_secret='+_0x4cc25a+_0x8df61e(0x10a);try{const _0x4ab1bc=await axios_1['default']['post'](_0x547647,{'headers':_0x3006f8});this['globalConfigs'][_0x8df61e(0xe5)]=_0x4ab1bc[_0x8df61e(0x136)][_0x8df61e(0xc5)];}catch(_0x29cad9){if(_0x4a5319){}else throw new common_1['HttpException'](_0x29cad9['response']['data'][_0x8df61e(0xf3)],common_1[_0x8df61e(0x106)][_0x8df61e(0xeb)]);}}async[_0xb83b55(0xe1)](_0x4f0ff8=![]){const _0x56c079=_0xb83b55,{wechatOfficialAppId:_0x4937ab,wechatOfficialAppSecret:_0x29444b}=await this['getConfigs']([_0x56c079(0xfb),_0x56c079(0x118)]);if(!_0x4937ab||!_0x29444b)return common_1[_0x56c079(0x16e)][_0x56c079(0x11f)]('还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！',_0x56c079(0x113));this[_0x56c079(0xf4)]=await this[_0x56c079(0x12c)](_0x4937ab,_0x29444b,_0x4f0ff8),this['wechatJsapiTicket']=await this[_0x56c079(0x173)](this[_0x56c079(0xf4)]),common_1[_0x56c079(0x16e)][_0x56c079(0x11b)](_0x56c079(0x107)+this[_0x56c079(0xf4)],'OfficialService');}async[_0xb83b55(0x12c)](_0x4f81ae,_0x3d45d8,_0x35e35a=![]){const _0x2e5633=_0xb83b55;if(process[_0x2e5633(0x125)][_0x2e5633(0x109)]==='TRUE'){this[_0x2e5633(0xf4)]='';return;}const _0x2ebcac=(0x0,utils_1[_0x2e5633(0x134)])(process[_0x2e5633(0x125)]['weChatApiUrl']||_0x2e5633(0x161)),{data:{errmsg:_0x1af524,access_token:_0x586601}}=await axios_1[_0x2e5633(0x10e)][_0x2e5633(0x129)](_0x2ebcac+_0x2e5633(0xf5)+_0x4f81ae+_0x2e5633(0xc7)+_0x3d45d8);if(_0x1af524){if(_0x35e35a)common_1['Logger'][_0x2e5633(0x11f)]('获取微信access_token失败、错误信息：'+_0x1af524,_0x2e5633(0x113));else throw new common_1[(_0x2e5633(0xf8))]('请配置正确的秘钥、当前秘钥检测不通过！',common_1[_0x2e5633(0x106)][_0x2e5633(0xeb)]);return'';}return _0x586601;}async[_0xb83b55(0x173)](_0x1b2485){const _0x39999c=_0xb83b55;var _0x46015f;if(process[_0x39999c(0x125)][_0x39999c(0x109)]===_0x39999c(0x17e)){this[_0x39999c(0x174)]='';return;}const _0x4e00d7=(0x0,utils_1[_0x39999c(0x134)])(process[_0x39999c(0x125)][_0x39999c(0xd2)]||_0x39999c(0x161)),_0x5b2604=await axios_1[_0x39999c(0x10e)][_0x39999c(0x129)](_0x4e00d7+_0x39999c(0xcb)+_0x1b2485+_0x39999c(0xc0));return(_0x46015f=_0x5b2604===null||_0x5b2604===void 0x0?void 0x0:_0x5b2604['data'])===null||_0x46015f===void 0x0?void 0x0:_0x46015f[_0x39999c(0x13f)];}async[_0xb83b55(0x170)](_0x392326){const _0x35d1d1=_0xb83b55,{role:_0x2f8612}=_0x392326['user'];return this[_0x35d1d1(0x172)];}async[_0xb83b55(0x183)](_0x2e857f,_0x2dff68){const _0x3affd2=_0xb83b55,_0x4dafc9=[_0x3affd2(0x127),_0x3affd2(0x122),'registerSendModel4Count',_0x3affd2(0xd5),_0x3affd2(0x114),'firstRegisterSendRank',_0x3affd2(0x181),_0x3affd2(0x120),_0x3affd2(0xc3),_0x3affd2(0x12a),_0x3affd2(0xe6),_0x3affd2(0x131),_0x3affd2(0x135),_0x3affd2(0x10f),'siteName',_0x3affd2(0x145),_0x3affd2(0x117),_0x3affd2(0x184),_0x3affd2(0x163),_0x3affd2(0xd0),'payEpayChannel','payMpayChannel',_0x3affd2(0xee),_0x3affd2(0x186),'payHupiStatus',_0x3affd2(0x188),_0x3affd2(0x10d),_0x3affd2(0xfa),_0x3affd2(0x177),_0x3affd2(0x182),_0x3affd2(0x15f),_0x3affd2(0x13d),_0x3affd2(0x133),_0x3affd2(0x17c),_0x3affd2(0x15d),_0x3affd2(0x11e),_0x3affd2(0x115),_0x3affd2(0xe4),'wechatSilentLoginStatus',_0x3affd2(0x171),_0x3affd2(0x116),'signInModel4Count',_0x3affd2(0x10c),_0x3affd2(0xf6),_0x3affd2(0x167),_0x3affd2(0xd8),_0x3affd2(0x101),_0x3affd2(0x169),_0x3affd2(0x146),_0x3affd2(0x111),_0x3affd2(0x16b),'isHideDefaultPreset',_0x3affd2(0xe7),_0x3affd2(0x119),_0x3affd2(0x14a),_0x3affd2(0x164),_0x3affd2(0xdd),'model4Name','drawMjName',_0x3affd2(0x16f),_0x3affd2(0x158),_0x3affd2(0x13b),'homeHtml',_0x3affd2(0x103),_0x3affd2(0x102),'agreementTitle'],_0x1b7747=await this[_0x3affd2(0xff)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0x4dafc9)}}),{domain:_0x3db5c6}=_0x2e857f,_0x1605a4=this[_0x3affd2(0x172)][_0x3affd2(0x112)];_0x1605a4!==_0x3db5c6&&(this['createOrUpdate']({'configKey':_0x3affd2(0x112),'configVal':_0x3db5c6,'status':0x1}),await this[_0x3affd2(0x12e)]());const _0x362c2b=_0x1b7747[_0x3affd2(0xdb)]((_0x493daa,_0xd8edd4)=>{const _0xcc1d38=_0x3affd2;return _0x493daa[_0xd8edd4['configKey']]=_0xd8edd4[_0xcc1d38(0x123)],_0x493daa;},{}),{wechatOfficialAppId:_0x2d1227,wechatOfficialAppSecret:_0x3e1bae}=await this[_0x3affd2(0x124)]([_0x3affd2(0xfb),_0x3affd2(0x118)]),_0x567e3b=!!(_0x2d1227&&_0x3e1bae);return Object[_0x3affd2(0x121)](Object[_0x3affd2(0x121)]({},_0x362c2b),{'isUseWxLogin':_0x567e3b});}async[_0xb83b55(0xe0)](_0xec4804,_0x5388b6){const _0x26c1bd=_0xb83b55,{role:_0x3d8917}=_0x5388b6[_0x26c1bd(0x13e)],{keys:_0x4b0b3c}=_0xec4804,_0x10b7b1=await this[_0x26c1bd(0xff)][_0x26c1bd(0x14e)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x4b0b3c)}});return _0x3d8917!=='super'&&_0x10b7b1['forEach'](_0x459bc0=>{const _0x1c4682=_0x26c1bd;if(_0x459bc0['configKey'][_0x1c4682(0x168)]('mj')||_0x459bc0[_0x1c4682(0x144)][_0x1c4682(0x168)](_0x1c4682(0x100))||_0x459bc0['configKey'][_0x1c4682(0x168)](_0x1c4682(0xfd))||_0x459bc0['configKey'][_0x1c4682(0x168)]('cos')||_0x459bc0[_0x1c4682(0x144)]['includes']('baidu')||_0x459bc0[_0x1c4682(0x144)]['includes'](_0x1c4682(0x12f))||_0x459bc0['configKey']['includes'](_0x1c4682(0x12d))||_0x459bc0[_0x1c4682(0x144)]['includes'](_0x1c4682(0x105))||_0x459bc0[_0x1c4682(0x144)][_0x1c4682(0x168)](_0x1c4682(0x151))||_0x459bc0[_0x1c4682(0x144)][_0x1c4682(0x168)]('mjProxyImgUrl')||_0x459bc0[_0x1c4682(0x144)]===_0x1c4682(0x16c)){const _0x1b887b=[_0x1c4682(0x160),_0x1c4682(0xc8)];if(_0x1b887b[_0x1c4682(0x168)](_0x459bc0['configKey']))return _0x459bc0[_0x1c4682(0x123)]=(0x0,utils_1[_0x1c4682(0x17a)])(_0x459bc0['configVal'],_0x1c4682(0x153));const _0xe94bff=['payEpayStatus','payHupiStatus',_0x1c4682(0xdf),_0x1c4682(0xfa)];!_0xe94bff['includes'](_0x459bc0['configKey'])&&!_0x459bc0[_0x1c4682(0x144)]['includes'](_0x1c4682(0xde))&&(_0x459bc0[_0x1c4682(0x123)]=(0x0,utils_1[_0x1c4682(0x17a)])(_0x459bc0['configVal']));}}),_0x10b7b1['reduce']((_0x246644,_0x11a168)=>{const _0x1db2a7=_0x26c1bd;return _0x246644[_0x11a168['configKey']]=_0x11a168[_0x1db2a7(0x123)],_0x246644;},{});}async[_0xb83b55(0x178)](_0x2e1c45){const _0x18fc19=_0xb83b55;try{const {settings:_0x4a32b9}=_0x2e1c45;for(const _0x29bdf5 of _0x4a32b9){await this[_0x18fc19(0x142)](_0x29bdf5);}await this[_0x18fc19(0x12e)]();const _0x1a8e0f=_0x4a32b9['map'](_0x50950a=>_0x50950a[_0x18fc19(0x144)]);return(_0x1a8e0f[_0x18fc19(0x168)](_0x18fc19(0x166))||_0x1a8e0f[_0x18fc19(0x168)](_0x18fc19(0xea)))&&await this[_0x18fc19(0x187)](![]),(_0x1a8e0f['includes']('wechatOfficialAppId')||_0x1a8e0f[_0x18fc19(0x168)](_0x18fc19(0x118)))&&await this[_0x18fc19(0xe1)](),_0x18fc19(0xce);}catch(_0x51da4b){console[_0x18fc19(0x11b)]('error:\x20',_0x51da4b);}}async[_0xb83b55(0x142)](_0x220844){const _0x3d02da=_0xb83b55;if(_0x220844[_0x3d02da(0x144)]==_0x3d02da(0xcc)){const _0x24c5bf=_0x220844[_0x3d02da(0xec)],_0xa65cd=await(0x0,baseRequest_1[_0x3d02da(0xcd)])({'method':_0x3d02da(0x132),'url':'http://authorization.nodeai.cn/api/domainAuth/checkDomain/rocket','data':{'domain':_0x24c5bf,'authCode':_0x220844[_0x3d02da(0x123)]}});if(_0xa65cd[_0x3d02da(0xca)]===0x7)throw new common_1[(_0x3d02da(0xf8))](_0x3d02da(0x156),common_1[_0x3d02da(0x106)][_0x3d02da(0xeb)]);}try{const {configKey:_0xd09d35,configVal:_0x2ce098,status:status=0x1}=_0x220844,_0x2d57fb=await this[_0x3d02da(0xff)][_0x3d02da(0x13c)]({'where':{'configKey':_0xd09d35}});return _0x2d57fb?await this[_0x3d02da(0xff)][_0x3d02da(0xe9)]({'configKey':_0xd09d35},{'configVal':_0x2ce098,'status':status}):await this[_0x3d02da(0xff)][_0x3d02da(0x138)]({'configKey':_0xd09d35,'configVal':_0x2ce098,'status':status}),await this[_0x3d02da(0x12e)](),'设置完成！';}catch(_0x5b64e8){console['log'](_0x3d02da(0xed),_0x5b64e8);throw new common_1['HttpException']('设置配置信息错误！',common_1[_0x3d02da(0x106)][_0x3d02da(0xeb)]);}}async[_0xb83b55(0xf1)](){const _0x243de7=_0xb83b55;return await this[_0x243de7(0x124)](['noticeInfo',_0x243de7(0x137)]);}async[_0xb83b55(0xda)](){const _0x4bdb3a=_0xb83b55,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0,payLtzfStatus:payLtzfStatus=0x0}=await this[_0x4bdb3a(0x124)]([_0x4bdb3a(0xd1),_0x4bdb3a(0x186),_0x4bdb3a(0x10d),_0x4bdb3a(0x188),'payLtzfStatus']);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus,payLtzfStatus][_0x4bdb3a(0x13a)](_0x41190d=>_0x41190d===0x0))throw new common_1[(_0x4bdb3a(0xf8))](_0x4bdb3a(0xc1),common_1[_0x4bdb3a(0x106)][_0x4bdb3a(0xeb)]);if(Number(payWechatStatus)===0x1)return _0x4bdb3a(0x151);if(Number(payEpayStatus)===0x1)return'epay';if(Number(payMpayStatus)===0x1)return _0x4bdb3a(0x11d);if(Number(payHupiStatus)===0x1)return _0x4bdb3a(0x165);if(Number(payLtzfStatus)===0x1)return _0x4bdb3a(0x10b);}async[_0xb83b55(0xe8)](){const _0x43c681=_0xb83b55,{siteName:_0x25534a,registerBaseUrl:_0x219e10,domain:_0x3d9a7a}=await this[_0x43c681(0x124)]([_0x43c681(0xef),_0x43c681(0x179),_0x43c681(0x112)]);return{'siteName':_0x25534a,'registerBaseUrl':_0x219e10,'domain':_0x3d9a7a};}async[_0xb83b55(0xfe)](){const _0x18b611=_0xb83b55,{phoneLoginStatus:_0x5b8455,aliPhoneAccessKeyId:_0x14eb2a,aliPhoneAccessKeySecret:_0x2ea910,aliPhoneSignName:_0x26d36f,aliPhoneTemplateCode:_0x4094f7}=await this['getConfigs']([_0x18b611(0x115),_0x18b611(0x148),'aliPhoneAccessKeySecret',_0x18b611(0x150),_0x18b611(0x14c)]);if(Number(_0x5b8455)!==0x1)throw new common_1[(_0x18b611(0xf8))](_0x18b611(0xe3),common_1['HttpStatus'][_0x18b611(0xeb)]);return{'accessKeyId':_0x14eb2a,'accessKeySecret':_0x2ea910,'SignName':_0x26d36f,'TemplateCode':_0x4094f7};}async[_0xb83b55(0x159)](){const _0x2eb051=_0xb83b55,_0x538a70=await this['getConfigs'](['emailHost',_0x2eb051(0xc4),_0x2eb051(0x149),'emailPass']);return _0x538a70;}['getNamespace'](){const _0x337d2c=_0xb83b55;return process[_0x337d2c(0x125)][_0x337d2c(0x108)]||_0x337d2c(0x175);}async[_0xb83b55(0x126)](){const _0xacfd1a=_0xb83b55,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0xacfd1a(0x124)]([_0xacfd1a(0x171),_0xacfd1a(0x116),_0xacfd1a(0xdc),_0xacfd1a(0x10c)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0xacfd1a(0xf8))](_0xacfd1a(0x17d),common_1[_0xacfd1a(0x106)][_0xacfd1a(0xeb)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async[_0xb83b55(0x128)](){const _0x26d209=_0xb83b55,_0x31ba1f='',_0x54140f=await fetch(_0x31ba1f,{}),_0x646691=await _0x54140f['json'](),{success:success=!![],message:_0x35a93f}=_0x646691;common_1[_0x26d209(0x16e)]['debug']('感谢您使用AIWeb，祝您使用愉快~');}async['getSensitiveConfig'](){const _0x224fbb=_0xb83b55,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x5bc3ab}=await this['getConfigs'](['baiduTextStatus',_0x224fbb(0xe5)]);if(Number(baiduTextStatus)===0x1)return{'useType':'baidu','baiduTextAccessToken':_0x5bc3ab};return null;}async[_0xb83b55(0xf7)](){const _0x407610=_0xb83b55,_0x5dba0e=[{'configKey':_0x407610(0x140),'configVal':'60','public':0x0,'encrypt':0x0,'remark':'第三方应用认证码过期时间（秒）'}];for(const _0x5c7897 of _0x5dba0e){const _0x169ec5=await this[_0x407610(0xff)][_0x407610(0x13c)]({'where':{'configKey':_0x5c7897[_0x407610(0x144)]}});!_0x169ec5&&(await this[_0x407610(0xff)][_0x407610(0x138)](_0x5c7897),this['globalConfigs'][_0x5c7897[_0x407610(0x144)]]=_0x5c7897[_0x407610(0x123)],common_1['Logger'][_0x407610(0x11b)](_0x407610(0x14f)+_0x5c7897[_0x407610(0x144)]+'='+_0x5c7897[_0x407610(0x123)],'GlobalConfigService'));}}};GlobalConfigService=__decorate([(0x0,common_1[_0xb83b55(0xc2)])(),__param(0x0,(0x0,typeorm_1[_0xb83b55(0x16a)])(config_entity_1[_0xb83b55(0x157)])),__param(0x1,(0x0,typeorm_1[_0xb83b55(0x16a)])(chatLog_entity_1[_0xb83b55(0xf2)])),__metadata('design:paramtypes',[typeorm_2[_0xb83b55(0x11a)],typeorm_2['Repository'],models_service_1[_0xb83b55(0x155)]])],GlobalConfigService),exports[_0xb83b55(0xd6)]=GlobalConfigService;
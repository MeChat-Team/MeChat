'use strict';const _0x4e7b2e=_0x362a;(function(_0xa9686a,_0x43e943){const _0x3e60e3=_0x362a,_0x3b0ebc=_0xa9686a();while(!![]){try{const _0x9cd80d=parseInt(_0x3e60e3(0x217))/0x1*(-parseInt(_0x3e60e3(0x1b9))/0x2)+parseInt(_0x3e60e3(0x1a9))/0x3*(parseInt(_0x3e60e3(0x178))/0x4)+-parseInt(_0x3e60e3(0x1ad))/0x5*(-parseInt(_0x3e60e3(0x204))/0x6)+parseInt(_0x3e60e3(0x1be))/0x7+-parseInt(_0x3e60e3(0x195))/0x8+-parseInt(_0x3e60e3(0x1c6))/0x9+parseInt(_0x3e60e3(0x16a))/0xa;if(_0x9cd80d===_0x43e943)break;else _0x3b0ebc['push'](_0x3b0ebc['shift']());}catch(_0x561c89){_0x3b0ebc['push'](_0x3b0ebc['shift']());}}}(_0x3591,0xd1167));function _0x3591(){const _0x2bce4a=['请配置正确的秘钥、当前秘钥检测不通过！','TRUE','post','assign','Key','./config.entity','8330592NBrEQs','Logger','mjHideWorkIn','model3Name','Injectable','firstRegisterSendStatus','emailLoginStatus','hideString','isHideDrawMjPoint','noVerifyRegister','__param','weChatApiUrl','metadata','signInMjDrawToken','access_token','initDefaultConfigs','wechatOfficialAppSecret','还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','openaiBaseUrl','hupi','78ySjjhr','fetchBaseAccessToken','wechatJsapiTicket','onModuleInit','6705gOYRqM','chatLogEntity','Repository','configEntity','payEpayStatus','clientHomePath','utf-8','application/json','signInModel3Count','payMpayStatus','length','reduce','62eybblk','queryNotice','configKey','payMpayChannel','__metadata','3620022HVHBrB','支付功能暂未开放!','fetchJsapiTicket','thirdPartyAuthExpir','typeorm','Status','pay','HttpException','12352275byioIQ','createOrUpdate','firstRregisterSendDrawMjCount','获取微信access_token失败、错误信息：','ltzf','error_description','payEpayApiPayUrl','queryPayType','design:paramtypes','ali','appMenuHeaderTips','queryFrontConfig','ModelsService','GlobalConfigService','payHupiStatus','isHidePlugin','cos','registerSendModel4Count','model4Name','clientLogoPath','drawingStyles','getEmailConfig','&secret=','../../common/utils','wechatAccessToken','getConfigs','wechat\x20refresh\x20access_token\x20\x20==>\x20','OfficialService','log','AIWeb','domain','payWeChatPublicKey','mjUseBaiduFy','getWechatAccessToken','debug','/cgi-bin/token?grant_type=client_credential&appid=','homeHtml','域名与授权码不匹配！','formatUrl','ISDEV','error:\x20','&grant_type=client_credentials','baiduTextAccessToken','wechatSilentLoginStatus','initGetAllConfig','save','./../chatLog/chatLog.entity','wechat','agreementInfo','includes','https://api.weixin.qq.com','手机验证码功能暂未开放!','noticeInfo','baidu','isAutoOpenAgreement','default','findOne','isHideModel3Point','url','payEpayChannel','get','auth','1230JDqmtS','emailHost','aliPhoneAccessKeySecret','find','BAD_REQUEST','function','gpt','isHideModel4Point','robotAvatar','ticket','defineProperty','wechatOfficialAppId','已添加默认配置:\x20','tencent','aliPhoneTemplateCode','baiduTextSecretKey','signInModel4Count','HttpStatus','mindDefaultData','48362CYyMay','phoneLoginStatus','agreementTitle','设置完成！','forEach','code','readFileSync','mjProxyImgUrl','payWechatStatus','globalConfigs','mpay','registerBaseUrl','payLtzfStatus','object','firstRregisterSendModel3Count','user','decorate','@nestjs/common','signInStatus','axios','baseRequest','buyCramiAddress','queryConfig','every','InjectRepository','isShowAppCatIcon','firstRregisterSendModel4Count','salesSeniorRatio','&type=jsapi','33076850tuEsUv','configVal','epay','getOwnPropertyDescriptor','baiduCode','__decorate','parse','showWatermark','isModelInherited','__esModule','getPhoneVerifyConfig','json','ChatLogEntity','pluginFirst','103032inbTbA','@nestjs/typeorm','隐私内容、非超级管理员无权查看','env','version','isHideDefaultPreset','companyName','NAMESPACE','error','getNamespace','emailPort','isVerifyEmail','salesBaseRatio','isAutoOpenNotice','response','感谢您使用AIWeb，祝您使用愉快~','data','initBaiduSensitive','isHideTts','isUseWxLogin','rocketAiKey','package.json','第三方应用认证码过期时间（秒）'];_0x3591=function(){return _0x2bce4a;};return _0x3591();}var __decorate=this&&this[_0x4e7b2e(0x16f)]||function(_0x469599,_0x34fae6,_0x161a13,_0x25508e){const _0x1d3af9=_0x4e7b2e;var _0x1f8933=arguments[_0x1d3af9(0x1b7)],_0x32f67d=_0x1f8933<0x3?_0x34fae6:_0x25508e===null?_0x25508e=Object[_0x1d3af9(0x16d)](_0x34fae6,_0x161a13):_0x25508e,_0x46a19a;if(typeof Reflect===_0x1d3af9(0x15a)&&typeof Reflect['decorate']===_0x1d3af9(0x209))_0x32f67d=Reflect[_0x1d3af9(0x15d)](_0x469599,_0x34fae6,_0x161a13,_0x25508e);else{for(var _0x1e258a=_0x469599[_0x1d3af9(0x1b7)]-0x1;_0x1e258a>=0x0;_0x1e258a--)if(_0x46a19a=_0x469599[_0x1e258a])_0x32f67d=(_0x1f8933<0x3?_0x46a19a(_0x32f67d):_0x1f8933>0x3?_0x46a19a(_0x34fae6,_0x161a13,_0x32f67d):_0x46a19a(_0x34fae6,_0x161a13))||_0x32f67d;}return _0x1f8933>0x3&&_0x32f67d&&Object[_0x1d3af9(0x20e)](_0x34fae6,_0x161a13,_0x32f67d),_0x32f67d;},__metadata=this&&this[_0x4e7b2e(0x1bd)]||function(_0x3787a4,_0x59f28d){const _0xd32426=_0x4e7b2e;if(typeof Reflect==='object'&&typeof Reflect[_0xd32426(0x1a1)]===_0xd32426(0x209))return Reflect[_0xd32426(0x1a1)](_0x3787a4,_0x59f28d);},__param=this&&this[_0x4e7b2e(0x19f)]||function(_0x5ecda2,_0x5b9d7e){return function(_0x1a5078,_0x35a43a){_0x5b9d7e(_0x1a5078,_0x35a43a,_0x5ecda2);};};Object[_0x4e7b2e(0x20e)](exports,_0x4e7b2e(0x173),{'value':!![]}),exports[_0x4e7b2e(0x1d3)]=void 0x0;const utils_1=require(_0x4e7b2e(0x1dd)),baseRequest_1=require('../../common/utils/baseRequest'),common_1=require(_0x4e7b2e(0x15e)),typeorm_1=require(_0x4e7b2e(0x179)),axios_1=require(_0x4e7b2e(0x160)),fs=require('fs'),typeorm_2=require(_0x4e7b2e(0x1c2)),chatLog_entity_1=require(_0x4e7b2e(0x1f4)),models_service_1=require('./../models/models.service'),config_entity_1=require(_0x4e7b2e(0x194)),packageJsonContent=fs[_0x4e7b2e(0x153)](_0x4e7b2e(0x18d),_0x4e7b2e(0x1b3)),packageJson=JSON[_0x4e7b2e(0x170)](packageJsonContent),version=packageJson[_0x4e7b2e(0x17c)];console[_0x4e7b2e(0x1e2)]('\x20current\x20use\x20version\x20in\x20------>:\x20',version);function _0x362a(_0x503d79,_0x6ae40d){const _0x35911f=_0x3591();return _0x362a=function(_0x362a6d,_0x125a09){_0x362a6d=_0x362a6d-0x14f;let _0xd5dee5=_0x35911f[_0x362a6d];return _0xd5dee5;},_0x362a(_0x503d79,_0x6ae40d);}let GlobalConfigService=class GlobalConfigService{constructor(_0x2e7b15,_0x5df86f,_0xfcb164){const _0x41355f=_0x4e7b2e;this[_0x41355f(0x1b0)]=_0x2e7b15,this[_0x41355f(0x1ae)]=_0x5df86f,this['modelsService']=_0xfcb164,this[_0x41355f(0x156)]={};}async[_0x4e7b2e(0x1ac)](){const _0x324334=_0x4e7b2e;await this[_0x324334(0x1f2)](),await this[_0x324334(0x1a4)]();}async[_0x4e7b2e(0x1df)](_0x3d4d0d){const _0x3c8a01=_0x4e7b2e;if(_0x3d4d0d['length']===0x0)return;if(_0x3d4d0d[_0x3c8a01(0x1f7)](_0x3c8a01(0x1de))&&_0x3d4d0d[_0x3c8a01(0x1b7)]===0x1)return this[_0x3c8a01(0x1de)];if(_0x3d4d0d[_0x3c8a01(0x1f7)]('wechatJsapiTicket')&&_0x3d4d0d[_0x3c8a01(0x1b7)]===0x1)return this[_0x3c8a01(0x1ab)];if(_0x3d4d0d[_0x3c8a01(0x1b7)]===0x1)return this[_0x3c8a01(0x156)][_0x3d4d0d[0x0]];else{const _0x125e3f={};return _0x3d4d0d[_0x3c8a01(0x151)](_0x5cd552=>_0x125e3f[_0x5cd552]=this[_0x3c8a01(0x156)][_0x5cd552]),_0x125e3f;}}async[_0x4e7b2e(0x1f2)](){const _0x3e846d=_0x4e7b2e,_0x12f572=await this[_0x3e846d(0x1b0)]['find']();this[_0x3e846d(0x156)]=_0x12f572['reduce']((_0x2d6d3c,_0x338461)=>{const _0x2f5b92=_0x3e846d;return _0x2d6d3c[_0x338461[_0x2f5b92(0x1bb)]]=_0x338461[_0x2f5b92(0x16b)],_0x2d6d3c;},{}),this[_0x3e846d(0x189)]();}async[_0x4e7b2e(0x189)](_0x1ea556=!![]){const _0xafa007=_0x4e7b2e,{baiduTextApiKey:_0x5c4b29,baiduTextSecretKey:_0x5371ff}=await this['getConfigs'](['baiduTextApiKey','baiduTextSecretKey']);if(!_0x5c4b29||!_0x5371ff)return;const _0x10e583={'Content-Type':_0xafa007(0x1b4),'Accept':_0xafa007(0x1b4)},_0x200e0f='https://aip.baidubce.com/oauth/2.0/token?client_id='+_0x5c4b29+'&client_secret='+_0x5371ff+_0xafa007(0x1ef);try{const _0x363a33=await axios_1[_0xafa007(0x1fd)][_0xafa007(0x191)](_0x200e0f,{'headers':_0x10e583});this['globalConfigs'][_0xafa007(0x1f0)]=_0x363a33[_0xafa007(0x188)][_0xafa007(0x1a3)];}catch(_0x122211){if(_0x1ea556){}else throw new common_1[(_0xafa007(0x1c5))](_0x122211[_0xafa007(0x186)][_0xafa007(0x188)][_0xafa007(0x1cb)],common_1['HttpStatus']['BAD_REQUEST']);}}async[_0x4e7b2e(0x1e7)](_0x3e323c=![]){const _0x275385=_0x4e7b2e,{wechatOfficialAppId:_0xd14741,wechatOfficialAppSecret:_0x3f4e3d}=await this['getConfigs'](['wechatOfficialAppId',_0x275385(0x1a5)]);if(!_0xd14741||!_0x3f4e3d)return common_1[_0x275385(0x196)][_0x275385(0x180)](_0x275385(0x1a6),_0x275385(0x1e1));this[_0x275385(0x1de)]=await this['fetchBaseAccessToken'](_0xd14741,_0x3f4e3d,_0x3e323c),this['wechatJsapiTicket']=await this[_0x275385(0x1c0)](this['wechatAccessToken']),common_1[_0x275385(0x196)][_0x275385(0x1e2)](_0x275385(0x1e0)+this[_0x275385(0x1de)],_0x275385(0x1e1));}async[_0x4e7b2e(0x1aa)](_0x2da415,_0x36be15,_0x380a71=![]){const _0x1190bc=_0x4e7b2e;if(process['env'][_0x1190bc(0x1ed)]==='TRUE'){this[_0x1190bc(0x1de)]='';return;}const _0x2017ed=(0x0,utils_1['formatUrl'])(process[_0x1190bc(0x17b)][_0x1190bc(0x1a0)]||'https://api.weixin.qq.com'),{data:{errmsg:_0x4f9191,access_token:_0x3c73fd}}=await axios_1[_0x1190bc(0x1fd)][_0x1190bc(0x202)](_0x2017ed+_0x1190bc(0x1e9)+_0x2da415+_0x1190bc(0x1dc)+_0x36be15);if(_0x4f9191){if(_0x380a71)common_1['Logger']['error'](_0x1190bc(0x1c9)+_0x4f9191,_0x1190bc(0x1e1));else throw new common_1[(_0x1190bc(0x1c5))](_0x1190bc(0x18f),common_1[_0x1190bc(0x215)][_0x1190bc(0x208)]);return'';}return _0x3c73fd;}async[_0x4e7b2e(0x1c0)](_0x284d9b){const _0xdec0b2=_0x4e7b2e;var _0x5232a3;if(process[_0xdec0b2(0x17b)][_0xdec0b2(0x1ed)]===_0xdec0b2(0x190)){this[_0xdec0b2(0x1ab)]='';return;}const _0x29b7be=(0x0,utils_1[_0xdec0b2(0x1ec)])(process['env'][_0xdec0b2(0x1a0)]||_0xdec0b2(0x1f8)),_0x412e7a=await axios_1[_0xdec0b2(0x1fd)][_0xdec0b2(0x202)](_0x29b7be+'/cgi-bin/ticket/getticket?access_token='+_0x284d9b+_0xdec0b2(0x169));return(_0x5232a3=_0x412e7a===null||_0x412e7a===void 0x0?void 0x0:_0x412e7a[_0xdec0b2(0x188)])===null||_0x5232a3===void 0x0?void 0x0:_0x5232a3[_0xdec0b2(0x20d)];}async['queryAllConfig'](_0x1860b8){const _0x5d9784=_0x4e7b2e,{role:_0xd4f73}=_0x1860b8[_0x5d9784(0x15c)];return this[_0x5d9784(0x156)];}async[_0x4e7b2e(0x1d1)](_0x58e30e,_0x112241){const _0x22dde4=_0x4e7b2e,_0x1384c3=['registerSendStatus','registerSendModel3Count',_0x22dde4(0x1d7),'registerSendDrawMjCount',_0x22dde4(0x19a),'firstRegisterSendRank',_0x22dde4(0x15b),_0x22dde4(0x167),_0x22dde4(0x1c8),_0x22dde4(0x1b2),_0x22dde4(0x1d9),'clientFavoIconPath',_0x22dde4(0x1da),_0x22dde4(0x18b),'siteName',_0x22dde4(0x20c),'siteRobotName',_0x22dde4(0x162),_0x22dde4(0x216),_0x22dde4(0x16e),_0x22dde4(0x201),_0x22dde4(0x1bc),_0x22dde4(0x1cc),_0x22dde4(0x1b1),'payHupiStatus','payWechatStatus',_0x22dde4(0x1b6),_0x22dde4(0x159),_0x22dde4(0x185),_0x22dde4(0x166),_0x22dde4(0x184),_0x22dde4(0x168),'salesAllowDrawMoney',_0x22dde4(0x17e),'filingNumber',_0x22dde4(0x19b),_0x22dde4(0x218),'wechatRegisterStatus',_0x22dde4(0x1f1),_0x22dde4(0x15f),_0x22dde4(0x1b5),_0x22dde4(0x214),_0x22dde4(0x1a2),_0x22dde4(0x1d0),_0x22dde4(0x177),_0x22dde4(0x1e6),'mjHideNotBlock',_0x22dde4(0x197),_0x22dde4(0x183),_0x22dde4(0x171),_0x22dde4(0x18a),_0x22dde4(0x17d),_0x22dde4(0x1ff),_0x22dde4(0x20b),_0x22dde4(0x19d),_0x22dde4(0x1d5),_0x22dde4(0x198),_0x22dde4(0x1d8),'drawMjName',_0x22dde4(0x172),_0x22dde4(0x19e),_0x22dde4(0x1fa),_0x22dde4(0x1ea),_0x22dde4(0x1fc),_0x22dde4(0x1f6),_0x22dde4(0x14f)],_0x28df17=await this[_0x22dde4(0x1b0)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0x1384c3)}}),{domain:_0x37e832}=_0x58e30e,_0x43c4f9=this['globalConfigs']['domain'];_0x43c4f9!==_0x37e832&&(this[_0x22dde4(0x1c7)]({'configKey':_0x22dde4(0x1e4),'configVal':_0x37e832,'status':0x1}),await this[_0x22dde4(0x1f2)]());const _0x573e6c=_0x28df17[_0x22dde4(0x1b8)]((_0x27516a,_0x38043f)=>{const _0x13d36e=_0x22dde4;return _0x27516a[_0x38043f[_0x13d36e(0x1bb)]]=_0x38043f[_0x13d36e(0x16b)],_0x27516a;},{}),{wechatOfficialAppId:_0x5ca950,wechatOfficialAppSecret:_0x1004be}=await this[_0x22dde4(0x1df)]([_0x22dde4(0x20f),_0x22dde4(0x1a5)]),_0xbef9a4=!!(_0x5ca950&&_0x1004be);return Object[_0x22dde4(0x192)](Object[_0x22dde4(0x192)]({},_0x573e6c),{'isUseWxLogin':_0xbef9a4});}async[_0x4e7b2e(0x163)](_0x32b809,_0x4839f3){const _0x5525e9=_0x4e7b2e,{role:_0x4a9377}=_0x4839f3['user'],{keys:_0x20dabf}=_0x32b809,_0x4df501=await this[_0x5525e9(0x1b0)][_0x5525e9(0x207)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x20dabf)}});return _0x4a9377!=='super'&&_0x4df501['forEach'](_0x1fa064=>{const _0x597dbc=_0x5525e9;if(_0x1fa064[_0x597dbc(0x1bb)][_0x597dbc(0x1f7)]('mj')||_0x1fa064[_0x597dbc(0x1bb)]['includes'](_0x597dbc(0x193))||_0x1fa064['configKey'][_0x597dbc(0x1f7)](_0x597dbc(0x20a))||_0x1fa064[_0x597dbc(0x1bb)][_0x597dbc(0x1f7)](_0x597dbc(0x1d6))||_0x1fa064['configKey'][_0x597dbc(0x1f7)](_0x597dbc(0x1fb))||_0x1fa064[_0x597dbc(0x1bb)][_0x597dbc(0x1f7)](_0x597dbc(0x1cf))||_0x1fa064['configKey']['includes'](_0x597dbc(0x211))||_0x1fa064[_0x597dbc(0x1bb)][_0x597dbc(0x1f7)](_0x597dbc(0x1c4))||_0x1fa064[_0x597dbc(0x1bb)][_0x597dbc(0x1f7)]('wechat')||_0x1fa064[_0x597dbc(0x1bb)][_0x597dbc(0x1f7)](_0x597dbc(0x154))||_0x1fa064['configKey']===_0x597dbc(0x1a7)){const _0x56be86=[_0x597dbc(0x1e5),'payWeChatPrivateKey'];if(_0x56be86['includes'](_0x1fa064['configKey']))return _0x1fa064['configVal']=(0x0,utils_1[_0x597dbc(0x19c)])(_0x1fa064['configVal'],_0x597dbc(0x17a));const _0x2e27df=['payEpayStatus',_0x597dbc(0x1d4),'mjProxy',_0x597dbc(0x159)];!_0x2e27df['includes'](_0x1fa064[_0x597dbc(0x1bb)])&&!_0x1fa064[_0x597dbc(0x1bb)][_0x597dbc(0x1f7)](_0x597dbc(0x1c3))&&(_0x1fa064[_0x597dbc(0x16b)]=(0x0,utils_1['hideString'])(_0x1fa064[_0x597dbc(0x16b)]));}}),_0x4df501[_0x5525e9(0x1b8)]((_0x597f0e,_0xbd739)=>{const _0x14ef47=_0x5525e9;return _0x597f0e[_0xbd739[_0x14ef47(0x1bb)]]=_0xbd739[_0x14ef47(0x16b)],_0x597f0e;},{});}async['setConfig'](_0x31b84d){const _0x2d34b6=_0x4e7b2e;try{const {settings:_0x33b1c6}=_0x31b84d;for(const _0xd8b9f4 of _0x33b1c6){await this[_0x2d34b6(0x1c7)](_0xd8b9f4);}await this[_0x2d34b6(0x1f2)]();const _0x4dba4f=_0x33b1c6['map'](_0x4c3aff=>_0x4c3aff['configKey']);return(_0x4dba4f['includes']('baiduTextApiKey')||_0x4dba4f[_0x2d34b6(0x1f7)](_0x2d34b6(0x213)))&&await this['initBaiduSensitive'](![]),(_0x4dba4f['includes'](_0x2d34b6(0x20f))||_0x4dba4f[_0x2d34b6(0x1f7)](_0x2d34b6(0x1a5)))&&await this[_0x2d34b6(0x1e7)](),_0x2d34b6(0x150);}catch(_0x230977){console[_0x2d34b6(0x1e2)](_0x2d34b6(0x1ee),_0x230977);}}async[_0x4e7b2e(0x1c7)](_0x1f8f68){const _0x3f6f19=_0x4e7b2e;if(_0x1f8f68[_0x3f6f19(0x1bb)]==_0x3f6f19(0x18c)){const _0x2c7c3e=_0x1f8f68[_0x3f6f19(0x200)],_0x1d2a76=await(0x0,baseRequest_1[_0x3f6f19(0x161)])({'method':_0x3f6f19(0x191),'url':'http://authorization.nodeai.cn/api/domainAuth/checkDomain/rocket','data':{'domain':_0x2c7c3e,'authCode':_0x1f8f68[_0x3f6f19(0x16b)]}});if(_0x1d2a76[_0x3f6f19(0x152)]===0x7)throw new common_1[(_0x3f6f19(0x1c5))](_0x3f6f19(0x1eb),common_1[_0x3f6f19(0x215)]['BAD_REQUEST']);}try{const {configKey:_0x408087,configVal:_0x56d3da,status:status=0x1}=_0x1f8f68,_0x13d94f=await this[_0x3f6f19(0x1b0)]['findOne']({'where':{'configKey':_0x408087}});return _0x13d94f?await this['configEntity']['update']({'configKey':_0x408087},{'configVal':_0x56d3da,'status':status}):await this[_0x3f6f19(0x1b0)][_0x3f6f19(0x1f3)]({'configKey':_0x408087,'configVal':_0x56d3da,'status':status}),await this['initGetAllConfig'](),'设置完成！';}catch(_0x10078b){console[_0x3f6f19(0x1e2)](_0x3f6f19(0x1ee),_0x10078b);throw new common_1[(_0x3f6f19(0x1c5))]('设置配置信息错误！',common_1[_0x3f6f19(0x215)]['BAD_REQUEST']);}}async[_0x4e7b2e(0x1ba)](){const _0xf12987=_0x4e7b2e;return await this[_0xf12987(0x1df)]([_0xf12987(0x1fa),'noticeTitle']);}async[_0x4e7b2e(0x1cd)](){const _0xebc689=_0x4e7b2e,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0,payLtzfStatus:payLtzfStatus=0x0}=await this[_0xebc689(0x1df)]([_0xebc689(0x1d4),_0xebc689(0x1b1),'payMpayStatus',_0xebc689(0x155),_0xebc689(0x159)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus,payLtzfStatus][_0xebc689(0x164)](_0x427c8c=>_0x427c8c===0x0))throw new common_1[(_0xebc689(0x1c5))](_0xebc689(0x1bf),common_1[_0xebc689(0x215)][_0xebc689(0x208)]);if(Number(payWechatStatus)===0x1)return _0xebc689(0x1f5);if(Number(payEpayStatus)===0x1)return _0xebc689(0x16c);if(Number(payMpayStatus)===0x1)return _0xebc689(0x157);if(Number(payHupiStatus)===0x1)return _0xebc689(0x1a8);if(Number(payLtzfStatus)===0x1)return _0xebc689(0x1ca);}async['getAuthInfo'](){const _0x36ed36=_0x4e7b2e,{siteName:_0x2cc2bd,registerBaseUrl:_0x21c189,domain:_0x56e26d}=await this['getConfigs'](['siteName',_0x36ed36(0x158),'domain']);return{'siteName':_0x2cc2bd,'registerBaseUrl':_0x21c189,'domain':_0x56e26d};}async[_0x4e7b2e(0x174)](){const _0x120eaa=_0x4e7b2e,{phoneLoginStatus:_0x2f03f2,aliPhoneAccessKeyId:_0x2d6216,aliPhoneAccessKeySecret:_0x162367,aliPhoneSignName:_0x281503,aliPhoneTemplateCode:_0x39efcc}=await this[_0x120eaa(0x1df)](['phoneLoginStatus','aliPhoneAccessKeyId',_0x120eaa(0x206),'aliPhoneSignName',_0x120eaa(0x212)]);if(Number(_0x2f03f2)!==0x1)throw new common_1[(_0x120eaa(0x1c5))](_0x120eaa(0x1f9),common_1['HttpStatus'][_0x120eaa(0x208)]);return{'accessKeyId':_0x2d6216,'accessKeySecret':_0x162367,'SignName':_0x281503,'TemplateCode':_0x39efcc};}async[_0x4e7b2e(0x1db)](){const _0x7efc6a=_0x4e7b2e,_0x1172b9=await this['getConfigs']([_0x7efc6a(0x205),_0x7efc6a(0x182),'emailUser','emailPass']);return _0x1172b9;}[_0x4e7b2e(0x181)](){const _0x30c421=_0x4e7b2e;return process[_0x30c421(0x17b)][_0x30c421(0x17f)]||_0x30c421(0x1e3);}async['getSignatureGiftConfig'](){const _0x4bed6a=_0x4e7b2e,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x4bed6a(0x1df)]([_0x4bed6a(0x15f),_0x4bed6a(0x1b5),'signInModel4Count',_0x4bed6a(0x1a2)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x4bed6a(0x1c5))]('签到功能暂未开放!',common_1[_0x4bed6a(0x215)][_0x4bed6a(0x208)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async[_0x4e7b2e(0x203)](){const _0x37a277=_0x4e7b2e,_0x36e657='',_0x36d4de=await fetch(_0x36e657,{}),_0x2d92a8=await _0x36d4de[_0x37a277(0x175)](),{success:success=!![],message:_0x19b8f9}=_0x2d92a8;common_1['Logger'][_0x37a277(0x1e8)](_0x37a277(0x187));}async['getSensitiveConfig'](){const _0x174ce8=_0x4e7b2e,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x5487ba}=await this[_0x174ce8(0x1df)](['baiduTextStatus',_0x174ce8(0x1f0)]);if(Number(baiduTextStatus)===0x1)return{'useType':'baidu','baiduTextAccessToken':_0x5487ba};return null;}async[_0x4e7b2e(0x1a4)](){const _0x4154f0=_0x4e7b2e,_0x1984f5=[{'configKey':_0x4154f0(0x1c1),'configVal':'60','public':0x0,'encrypt':0x0,'remark':_0x4154f0(0x18e)}];for(const _0x333cc5 of _0x1984f5){const _0x5e392c=await this[_0x4154f0(0x1b0)][_0x4154f0(0x1fe)]({'where':{'configKey':_0x333cc5[_0x4154f0(0x1bb)]}});!_0x5e392c&&(await this[_0x4154f0(0x1b0)]['save'](_0x333cc5),this['globalConfigs'][_0x333cc5['configKey']]=_0x333cc5[_0x4154f0(0x16b)],common_1[_0x4154f0(0x196)][_0x4154f0(0x1e2)](_0x4154f0(0x210)+_0x333cc5[_0x4154f0(0x1bb)]+'='+_0x333cc5[_0x4154f0(0x16b)],_0x4154f0(0x1d3)));}}};GlobalConfigService=__decorate([(0x0,common_1[_0x4e7b2e(0x199)])(),__param(0x0,(0x0,typeorm_1[_0x4e7b2e(0x165)])(config_entity_1['ConfigEntity'])),__param(0x1,(0x0,typeorm_1[_0x4e7b2e(0x165)])(chatLog_entity_1[_0x4e7b2e(0x176)])),__metadata(_0x4e7b2e(0x1ce),[typeorm_2[_0x4e7b2e(0x1af)],typeorm_2['Repository'],models_service_1[_0x4e7b2e(0x1d2)]])],GlobalConfigService),exports[_0x4e7b2e(0x1d3)]=GlobalConfigService;
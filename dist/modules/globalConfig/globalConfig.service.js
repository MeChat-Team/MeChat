'use strict';const _0xd7f5f9=_0x3445;(function(_0x5d68d6,_0xda01c6){const _0x18089c=_0x3445,_0x132b73=_0x5d68d6();while(!![]){try{const _0x2f7c1a=parseInt(_0x18089c(0x158))/0x1*(-parseInt(_0x18089c(0x18a))/0x2)+parseInt(_0x18089c(0x120))/0x3*(-parseInt(_0x18089c(0x163))/0x4)+parseInt(_0x18089c(0x148))/0x5*(-parseInt(_0x18089c(0x19a))/0x6)+-parseInt(_0x18089c(0x1d6))/0x7*(-parseInt(_0x18089c(0x17e))/0x8)+-parseInt(_0x18089c(0x141))/0x9+parseInt(_0x18089c(0x1d3))/0xa*(-parseInt(_0x18089c(0x118))/0xb)+parseInt(_0x18089c(0x173))/0xc;if(_0x2f7c1a===_0xda01c6)break;else _0x132b73['push'](_0x132b73['shift']());}catch(_0x352335){_0x132b73['push'](_0x132b73['shift']());}}}(_0x4c57,0x4d990));function _0x3445(_0x27b3cc,_0x1e457b){const _0x4c57aa=_0x4c57();return _0x3445=function(_0x344584,_0x1e5edc){_0x344584=_0x344584-0x110;let _0xee018b=_0x4c57aa[_0x344584];return _0xee018b;},_0x3445(_0x27b3cc,_0x1e457b);}var __decorate=this&&this['__decorate']||function(_0x7433f3,_0x8f2b35,_0x55e9ad,_0x4c359f){const _0x37c24b=_0x3445;var _0x446adf=arguments[_0x37c24b(0x15d)],_0x234bba=_0x446adf<0x3?_0x8f2b35:_0x4c359f===null?_0x4c359f=Object[_0x37c24b(0x122)](_0x8f2b35,_0x55e9ad):_0x4c359f,_0x5e58ce;if(typeof Reflect==='object'&&typeof Reflect[_0x37c24b(0x193)]===_0x37c24b(0x1a6))_0x234bba=Reflect['decorate'](_0x7433f3,_0x8f2b35,_0x55e9ad,_0x4c359f);else{for(var _0x4c0514=_0x7433f3[_0x37c24b(0x15d)]-0x1;_0x4c0514>=0x0;_0x4c0514--)if(_0x5e58ce=_0x7433f3[_0x4c0514])_0x234bba=(_0x446adf<0x3?_0x5e58ce(_0x234bba):_0x446adf>0x3?_0x5e58ce(_0x8f2b35,_0x55e9ad,_0x234bba):_0x5e58ce(_0x8f2b35,_0x55e9ad))||_0x234bba;}return _0x446adf>0x3&&_0x234bba&&Object[_0x37c24b(0x116)](_0x8f2b35,_0x55e9ad,_0x234bba),_0x234bba;},__metadata=this&&this[_0xd7f5f9(0x15b)]||function(_0x255b94,_0xf8dc59){const _0xed19b=_0xd7f5f9;if(typeof Reflect==='object'&&typeof Reflect[_0xed19b(0x1d8)]==='function')return Reflect['metadata'](_0x255b94,_0xf8dc59);},__param=this&&this[_0xd7f5f9(0x129)]||function(_0x5c23a8,_0x271733){return function(_0x53634f,_0x4c7d82){_0x271733(_0x53634f,_0x4c7d82,_0x5c23a8);};};Object[_0xd7f5f9(0x116)](exports,'__esModule',{'value':!![]}),exports[_0xd7f5f9(0x1bd)]=void 0x0;function _0x4c57(){const _0x1960e3=['./config.entity','3280023jEJtXc','openaiBaseUrl','showWatermark','access_token','onModuleInit','wechat','baidu','230sfprDS','ISDEV','域名与授权码不匹配！','update','utf-8','globalConfigs','aliPhoneAccessKeySecret','getPhoneVerifyConfig','weChatApiUrl','includes','setConfig','BAD_REQUEST','还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','emailPass','phoneLoginStatus','NAMESPACE','386587emmxTr','baiduTextApiKey','buyCramiAddress','__metadata','siteRobotName','length','emailHost','firstRregisterSendModel4Count','isHidePlugin','payMpayStatus','readFileSync','1948ROsYwd','感谢您使用AIWeb，祝您使用愉快~','设置完成！','initDefaultConfigs','getNamespace','https://api.weixin.qq.com','cos','isUseWxLogin','axios','data','design:paramtypes','createOrUpdate','mjProxy','HttpException','已添加默认配置:\x20','isHideTts','20740284XxaRXX','baiduTextSecretKey','registerSendDrawMjCount','Logger','error','ali','&secret=','&grant_type=client_credentials','appMenuHeaderTips','tencent','queryNotice','4792rfbJuN','pay','payLtzfStatus','../../common/utils','response','signInModel3Count','隐私内容、非超级管理员无权查看','isVerifyEmail','salesBaseRatio','ltzf','getConfigs','payEpayStatus','2IHiyJs','\x20current\x20use\x20version\x20in\x20------>:\x20','https://aip.baidubce.com/oauth/2.0/token?client_id=','/cgi-bin/token?grant_type=client_credential&appid=','wechatOfficialAppSecret','pluginFirst','log','initGetAllConfig','@nestjs/common','decorate','isHideDefaultPreset','wechatAccessToken','&client_secret=','noVerifyRegister','drawMjName','reduce','50964kYKmpR','getSignatureGiftConfig','getSensitiveConfig','filingNumber','configEntity','initBaiduSensitive','parse','queryFrontConfig','error_description','emailLoginStatus','payHupiStatus','isHideModel3Point','function','aliPhoneAccessKeyId','find','save','version','mjProxyImgUrl','wechatJsapiTicket','TRUE','Repository','手机验证码功能暂未开放!','/cgi-bin/ticket/getticket?access_token=','wechat\x20refresh\x20access_token\x20\x20==>\x20','code','baiduTextStatus','wechatOfficialAppId','请配置正确的秘钥、当前秘钥检测不通过！','payWechatStatus','super','mjHideNotBlock','payWeChatPrivateKey','configVal','formatUrl','registerSendModel3Count','GlobalConfigService','isAutoOpenNotice','signInModel4Count','aliPhoneTemplateCode','json','get','url','default','wechatRegisterStatus','firstRregisterSendModel3Count','agreementTitle','thirdPartyAuthExpir','emailPort','fetchJsapiTicket','第三方应用认证码过期时间（秒）','registerBaseUrl','ModelsService','clientHomePath','isModelInherited','firstRegisterSendStatus','InjectRepository','siteName','1268810hZiXXr','isHideDrawMjPoint','env','1589SmvrPv','application/json','metadata','salesAllowDrawMoney','configKey','Key','获取微信access_token失败、错误信息：','isShowAppCatIcon','post','queryConfig','defineProperty','baseRequest','22lRxzCr','gpt','HttpStatus','registerSendModel4Count','registerSendStatus','getEmailConfig','Status','package.json','930aYYDMB','hupi','getOwnPropertyDescriptor','firstRregisterSendDrawMjCount','agreementInfo','isHideModel4Point','forEach','drawingStyles','@nestjs/typeorm','__param','error:\x20','signInMjDrawToken','signInStatus','noticeInfo','getWechatAccessToken','&type=jsapi','OfficialService','hideString','ChatLogEntity','rocketAiKey','firstRegisterSendRank','robotAvatar','companyName','http://authorization.nodeai.cn/api/domainAuth/checkDomain/mechat','设置配置信息错误！','user','mindDefaultData','mjHideWorkIn','domain','mjUseBaiduFy','clientLogoPath','aliPhoneSignName'];_0x4c57=function(){return _0x1960e3;};return _0x4c57();}const utils_1=require(_0xd7f5f9(0x181)),baseRequest_1=require('../../common/utils/baseRequest'),common_1=require(_0xd7f5f9(0x192)),typeorm_1=require(_0xd7f5f9(0x128)),axios_1=require(_0xd7f5f9(0x16b)),fs=require('fs'),typeorm_2=require('typeorm'),chatLog_entity_1=require('./../chatLog/chatLog.entity'),models_service_1=require('./../models/models.service'),config_entity_1=require(_0xd7f5f9(0x140)),packageJsonContent=fs[_0xd7f5f9(0x162)](_0xd7f5f9(0x11f),_0xd7f5f9(0x14c)),packageJson=JSON[_0xd7f5f9(0x1a0)](packageJsonContent),version=packageJson[_0xd7f5f9(0x1aa)];console[_0xd7f5f9(0x190)](_0xd7f5f9(0x18b),version);let GlobalConfigService=class GlobalConfigService{constructor(_0x1e459d,_0x5b1514,_0x3f056e){const _0x33e96f=_0xd7f5f9;this[_0x33e96f(0x19e)]=_0x1e459d,this['chatLogEntity']=_0x5b1514,this['modelsService']=_0x3f056e,this[_0x33e96f(0x14d)]={};}async[_0xd7f5f9(0x145)](){const _0x3f295f=_0xd7f5f9;await this[_0x3f295f(0x191)](),await this[_0x3f295f(0x166)]();}async['getConfigs'](_0x39a8af){const _0x23c17c=_0xd7f5f9;if(_0x39a8af[_0x23c17c(0x15d)]===0x0)return;if(_0x39a8af[_0x23c17c(0x151)](_0x23c17c(0x195))&&_0x39a8af[_0x23c17c(0x15d)]===0x1)return this[_0x23c17c(0x195)];if(_0x39a8af[_0x23c17c(0x151)]('wechatJsapiTicket')&&_0x39a8af[_0x23c17c(0x15d)]===0x1)return this[_0x23c17c(0x1ac)];if(_0x39a8af[_0x23c17c(0x15d)]===0x1)return this[_0x23c17c(0x14d)][_0x39a8af[0x0]];else{const _0x4836d0={};return _0x39a8af[_0x23c17c(0x126)](_0x4a2287=>_0x4836d0[_0x4a2287]=this[_0x23c17c(0x14d)][_0x4a2287]),_0x4836d0;}}async[_0xd7f5f9(0x191)](){const _0x3dc531=_0xd7f5f9,_0x37948b=await this[_0x3dc531(0x19e)][_0x3dc531(0x1a8)]();this[_0x3dc531(0x14d)]=_0x37948b[_0x3dc531(0x199)]((_0x450a7f,_0x31474c)=>{const _0xc2f06=_0x3dc531;return _0x450a7f[_0x31474c['configKey']]=_0x31474c[_0xc2f06(0x1ba)],_0x450a7f;},{}),this['initBaiduSensitive']();}async[_0xd7f5f9(0x19f)](_0x3325d0=!![]){const _0x14d1d8=_0xd7f5f9,{baiduTextApiKey:_0x2c4a0f,baiduTextSecretKey:_0x4e3e20}=await this[_0x14d1d8(0x188)]([_0x14d1d8(0x159),_0x14d1d8(0x174)]);if(!_0x2c4a0f||!_0x4e3e20)return;const _0x3b3c97={'Content-Type':_0x14d1d8(0x1d7),'Accept':_0x14d1d8(0x1d7)},_0x3a99bc=_0x14d1d8(0x18c)+_0x2c4a0f+_0x14d1d8(0x196)+_0x4e3e20+_0x14d1d8(0x17a);try{const _0x513fca=await axios_1['default'][_0x14d1d8(0x114)](_0x3a99bc,{'headers':_0x3b3c97});this[_0x14d1d8(0x14d)]['baiduTextAccessToken']=_0x513fca[_0x14d1d8(0x16c)][_0x14d1d8(0x144)];}catch(_0x4651c7){if(_0x3325d0){}else throw new common_1[(_0x14d1d8(0x170))](_0x4651c7[_0x14d1d8(0x182)][_0x14d1d8(0x16c)][_0x14d1d8(0x1a2)],common_1['HttpStatus'][_0x14d1d8(0x153)]);}}async[_0xd7f5f9(0x12e)](_0x23c6e8=![]){const _0x581183=_0xd7f5f9,{wechatOfficialAppId:_0x8f4f40,wechatOfficialAppSecret:_0x1382c3}=await this[_0x581183(0x188)]([_0x581183(0x1b4),_0x581183(0x18e)]);if(!_0x8f4f40||!_0x1382c3)return common_1[_0x581183(0x176)][_0x581183(0x177)](_0x581183(0x154),_0x581183(0x130));this[_0x581183(0x195)]=await this['fetchBaseAccessToken'](_0x8f4f40,_0x1382c3,_0x23c6e8),this[_0x581183(0x1ac)]=await this[_0x581183(0x1ca)](this['wechatAccessToken']),common_1[_0x581183(0x176)][_0x581183(0x190)](_0x581183(0x1b1)+this[_0x581183(0x195)],_0x581183(0x130));}async['fetchBaseAccessToken'](_0x1a9bac,_0x2987b4,_0x230350=![]){const _0x1a49cf=_0xd7f5f9;if(process[_0x1a49cf(0x1d5)][_0x1a49cf(0x149)]===_0x1a49cf(0x1ad)){this[_0x1a49cf(0x195)]='';return;}const _0x354712=(0x0,utils_1[_0x1a49cf(0x1bb)])(process['env'][_0x1a49cf(0x150)]||_0x1a49cf(0x168)),{data:{errmsg:_0x5d68b4,access_token:_0x2c55a7}}=await axios_1['default'][_0x1a49cf(0x1c2)](_0x354712+_0x1a49cf(0x18d)+_0x1a9bac+_0x1a49cf(0x179)+_0x2987b4);if(_0x5d68b4){if(_0x230350)common_1[_0x1a49cf(0x176)][_0x1a49cf(0x177)](_0x1a49cf(0x112)+_0x5d68b4,_0x1a49cf(0x130));else throw new common_1[(_0x1a49cf(0x170))](_0x1a49cf(0x1b5),common_1[_0x1a49cf(0x11a)][_0x1a49cf(0x153)]);return'';}return _0x2c55a7;}async['fetchJsapiTicket'](_0xf8969f){const _0x203d4f=_0xd7f5f9;var _0x242f18;if(process[_0x203d4f(0x1d5)][_0x203d4f(0x149)]===_0x203d4f(0x1ad)){this[_0x203d4f(0x1ac)]='';return;}const _0x5c9eac=(0x0,utils_1[_0x203d4f(0x1bb)])(process['env']['weChatApiUrl']||_0x203d4f(0x168)),_0x1b617d=await axios_1[_0x203d4f(0x1c4)][_0x203d4f(0x1c2)](_0x5c9eac+_0x203d4f(0x1b0)+_0xf8969f+_0x203d4f(0x12f));return(_0x242f18=_0x1b617d===null||_0x1b617d===void 0x0?void 0x0:_0x1b617d[_0x203d4f(0x16c)])===null||_0x242f18===void 0x0?void 0x0:_0x242f18['ticket'];}async['queryAllConfig'](_0x56c8a8){const _0x595725=_0xd7f5f9,{role:_0x152939}=_0x56c8a8[_0x595725(0x139)];return this[_0x595725(0x14d)];}async[_0xd7f5f9(0x1a1)](_0x101b31,_0x18ea3f){const _0x1b3a8c=_0xd7f5f9,_0x55fb39=[_0x1b3a8c(0x11c),_0x1b3a8c(0x1bc),_0x1b3a8c(0x11b),_0x1b3a8c(0x175),_0x1b3a8c(0x1d0),_0x1b3a8c(0x134),_0x1b3a8c(0x1c6),_0x1b3a8c(0x15f),_0x1b3a8c(0x123),_0x1b3a8c(0x1ce),_0x1b3a8c(0x13e),'clientFavoIconPath',_0x1b3a8c(0x127),_0x1b3a8c(0x16a),_0x1b3a8c(0x1d2),_0x1b3a8c(0x135),_0x1b3a8c(0x15c),_0x1b3a8c(0x15a),_0x1b3a8c(0x13a),'baiduCode','payEpayChannel','payMpayChannel','payEpayApiPayUrl',_0x1b3a8c(0x189),_0x1b3a8c(0x1a4),'payWechatStatus',_0x1b3a8c(0x161),'payLtzfStatus',_0x1b3a8c(0x1be),_0x1b3a8c(0x113),_0x1b3a8c(0x186),'salesSeniorRatio',_0x1b3a8c(0x1d9),_0x1b3a8c(0x136),_0x1b3a8c(0x19d),_0x1b3a8c(0x1a3),_0x1b3a8c(0x156),_0x1b3a8c(0x1c5),'wechatSilentLoginStatus',_0x1b3a8c(0x12c),_0x1b3a8c(0x183),_0x1b3a8c(0x1bf),_0x1b3a8c(0x12b),_0x1b3a8c(0x17b),_0x1b3a8c(0x18f),_0x1b3a8c(0x13d),_0x1b3a8c(0x1b8),_0x1b3a8c(0x13b),_0x1b3a8c(0x185),_0x1b3a8c(0x143),_0x1b3a8c(0x172),_0x1b3a8c(0x194),_0x1b3a8c(0x1a5),_0x1b3a8c(0x125),_0x1b3a8c(0x1d4),_0x1b3a8c(0x160),'model3Name','model4Name',_0x1b3a8c(0x198),_0x1b3a8c(0x1cf),_0x1b3a8c(0x197),'noticeInfo','homeHtml','isAutoOpenAgreement',_0x1b3a8c(0x124),_0x1b3a8c(0x1c7)],_0xccf4e4=await this['configEntity']['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0x55fb39)}}),{domain:_0x52ef55}=_0x101b31,_0x42de9f=this[_0x1b3a8c(0x14d)][_0x1b3a8c(0x13c)];_0x42de9f!==_0x52ef55&&(this[_0x1b3a8c(0x16e)]({'configKey':_0x1b3a8c(0x13c),'configVal':_0x52ef55,'status':0x1}),await this[_0x1b3a8c(0x191)]());const _0x1f3887=_0xccf4e4['reduce']((_0x4fcd80,_0xdfe320)=>{const _0x3f2b16=_0x1b3a8c;return _0x4fcd80[_0xdfe320[_0x3f2b16(0x110)]]=_0xdfe320['configVal'],_0x4fcd80;},{}),{wechatOfficialAppId:_0x17a1fd,wechatOfficialAppSecret:_0x2e0a9a}=await this['getConfigs']([_0x1b3a8c(0x1b4),_0x1b3a8c(0x18e)]),_0x5637d5=!!(_0x17a1fd&&_0x2e0a9a);return Object['assign'](Object['assign']({},_0x1f3887),{'isUseWxLogin':_0x5637d5});}async[_0xd7f5f9(0x115)](_0xe83e2d,_0x1b9616){const _0x329fca=_0xd7f5f9,{role:_0x3a2de3}=_0x1b9616[_0x329fca(0x139)],{keys:_0x54367b}=_0xe83e2d,_0x1d0749=await this[_0x329fca(0x19e)][_0x329fca(0x1a8)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x54367b)}});return _0x3a2de3!==_0x329fca(0x1b7)&&_0x1d0749['forEach'](_0x15007d=>{const _0x235786=_0x329fca;if(_0x15007d[_0x235786(0x110)][_0x235786(0x151)]('mj')||_0x15007d[_0x235786(0x110)]['includes'](_0x235786(0x111))||_0x15007d[_0x235786(0x110)][_0x235786(0x151)](_0x235786(0x119))||_0x15007d[_0x235786(0x110)][_0x235786(0x151)](_0x235786(0x169))||_0x15007d[_0x235786(0x110)][_0x235786(0x151)](_0x235786(0x147))||_0x15007d[_0x235786(0x110)][_0x235786(0x151)](_0x235786(0x178))||_0x15007d['configKey'][_0x235786(0x151)](_0x235786(0x17c))||_0x15007d[_0x235786(0x110)][_0x235786(0x151)](_0x235786(0x17f))||_0x15007d['configKey'][_0x235786(0x151)](_0x235786(0x146))||_0x15007d[_0x235786(0x110)]['includes'](_0x235786(0x1ab))||_0x15007d['configKey']===_0x235786(0x142)){const _0x4b4bfd=['payWeChatPublicKey',_0x235786(0x1b9)];if(_0x4b4bfd[_0x235786(0x151)](_0x15007d[_0x235786(0x110)]))return _0x15007d[_0x235786(0x1ba)]=(0x0,utils_1[_0x235786(0x131)])(_0x15007d['configVal'],_0x235786(0x184));const _0x31baa7=[_0x235786(0x189),_0x235786(0x1a4),_0x235786(0x16f),_0x235786(0x180)];!_0x31baa7[_0x235786(0x151)](_0x15007d['configKey'])&&!_0x15007d[_0x235786(0x110)][_0x235786(0x151)](_0x235786(0x11e))&&(_0x15007d['configVal']=(0x0,utils_1[_0x235786(0x131)])(_0x15007d[_0x235786(0x1ba)]));}}),_0x1d0749[_0x329fca(0x199)]((_0x54188f,_0xf0591e)=>{const _0x530508=_0x329fca;return _0x54188f[_0xf0591e['configKey']]=_0xf0591e[_0x530508(0x1ba)],_0x54188f;},{});}async[_0xd7f5f9(0x152)](_0x28e4ca){const _0x41c2de=_0xd7f5f9;try{const {settings:_0x51b414}=_0x28e4ca;for(const _0x249803 of _0x51b414){await this[_0x41c2de(0x16e)](_0x249803);}await this[_0x41c2de(0x191)]();const _0x17f9ca=_0x51b414['map'](_0x6c76f5=>_0x6c76f5['configKey']);return(_0x17f9ca['includes'](_0x41c2de(0x159))||_0x17f9ca[_0x41c2de(0x151)]('baiduTextSecretKey'))&&await this[_0x41c2de(0x19f)](![]),(_0x17f9ca[_0x41c2de(0x151)]('wechatOfficialAppId')||_0x17f9ca[_0x41c2de(0x151)](_0x41c2de(0x18e)))&&await this[_0x41c2de(0x12e)](),_0x41c2de(0x165);}catch(_0x400475){console[_0x41c2de(0x190)](_0x41c2de(0x12a),_0x400475);}}async[_0xd7f5f9(0x16e)](_0x5c95b5){const _0x57ed5b=_0xd7f5f9;if(_0x5c95b5[_0x57ed5b(0x110)]==_0x57ed5b(0x133)){const _0x3a5946=_0x5c95b5[_0x57ed5b(0x1c3)],_0x472b72=await(0x0,baseRequest_1[_0x57ed5b(0x117)])({'method':_0x57ed5b(0x114),'url':_0x57ed5b(0x137),'data':{'domain':_0x3a5946,'authCode':_0x5c95b5[_0x57ed5b(0x1ba)]}});if(_0x472b72[_0x57ed5b(0x1b2)]===0x7)throw new common_1[(_0x57ed5b(0x170))](_0x57ed5b(0x14a),common_1[_0x57ed5b(0x11a)][_0x57ed5b(0x153)]);}try{const {configKey:_0x4ac423,configVal:_0x48fe75,status:status=0x1}=_0x5c95b5,_0x2cd6ff=await this[_0x57ed5b(0x19e)]['findOne']({'where':{'configKey':_0x4ac423}});return _0x2cd6ff?await this[_0x57ed5b(0x19e)][_0x57ed5b(0x14b)]({'configKey':_0x4ac423},{'configVal':_0x48fe75,'status':status}):await this[_0x57ed5b(0x19e)][_0x57ed5b(0x1a9)]({'configKey':_0x4ac423,'configVal':_0x48fe75,'status':status}),await this['initGetAllConfig'](),'设置完成！';}catch(_0x5551ad){console[_0x57ed5b(0x190)]('error:\x20',_0x5551ad);throw new common_1[(_0x57ed5b(0x170))](_0x57ed5b(0x138),common_1[_0x57ed5b(0x11a)][_0x57ed5b(0x153)]);}}async[_0xd7f5f9(0x17d)](){const _0x69b7d0=_0xd7f5f9;return await this[_0x69b7d0(0x188)]([_0x69b7d0(0x12d),'noticeTitle']);}async['queryPayType'](){const _0x1811cb=_0xd7f5f9,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0,payLtzfStatus:payLtzfStatus=0x0}=await this[_0x1811cb(0x188)]([_0x1811cb(0x1a4),_0x1811cb(0x189),_0x1811cb(0x161),_0x1811cb(0x1b6),_0x1811cb(0x180)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus,payLtzfStatus]['every'](_0x2b16a5=>_0x2b16a5===0x0))throw new common_1[(_0x1811cb(0x170))]('支付功能暂未开放!',common_1[_0x1811cb(0x11a)][_0x1811cb(0x153)]);if(Number(payWechatStatus)===0x1)return'wechat';if(Number(payEpayStatus)===0x1)return'epay';if(Number(payMpayStatus)===0x1)return'mpay';if(Number(payHupiStatus)===0x1)return _0x1811cb(0x121);if(Number(payLtzfStatus)===0x1)return _0x1811cb(0x187);}async['getAuthInfo'](){const _0x5f3cbc=_0xd7f5f9,{siteName:_0x22337e,registerBaseUrl:_0x4fad65,domain:_0x1a4cdf}=await this[_0x5f3cbc(0x188)]([_0x5f3cbc(0x1d2),_0x5f3cbc(0x1cc),_0x5f3cbc(0x13c)]);return{'siteName':_0x22337e,'registerBaseUrl':_0x4fad65,'domain':_0x1a4cdf};}async[_0xd7f5f9(0x14f)](){const _0x2e6efd=_0xd7f5f9,{phoneLoginStatus:_0x332db3,aliPhoneAccessKeyId:_0x48669c,aliPhoneAccessKeySecret:_0x1bb224,aliPhoneSignName:_0x833faf,aliPhoneTemplateCode:_0x2ee876}=await this['getConfigs']([_0x2e6efd(0x156),_0x2e6efd(0x1a7),_0x2e6efd(0x14e),_0x2e6efd(0x13f),_0x2e6efd(0x1c0)]);if(Number(_0x332db3)!==0x1)throw new common_1[(_0x2e6efd(0x170))](_0x2e6efd(0x1af),common_1[_0x2e6efd(0x11a)]['BAD_REQUEST']);return{'accessKeyId':_0x48669c,'accessKeySecret':_0x1bb224,'SignName':_0x833faf,'TemplateCode':_0x2ee876};}async[_0xd7f5f9(0x11d)](){const _0x4000b9=_0xd7f5f9,_0x31c849=await this['getConfigs']([_0x4000b9(0x15e),_0x4000b9(0x1c9),'emailUser',_0x4000b9(0x155)]);return _0x31c849;}[_0xd7f5f9(0x167)](){const _0x1047cc=_0xd7f5f9;return process[_0x1047cc(0x1d5)][_0x1047cc(0x157)]||'AIWeb';}async[_0xd7f5f9(0x19b)](){const _0xc6995d=_0xd7f5f9,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this['getConfigs']([_0xc6995d(0x12c),'signInModel3Count','signInModel4Count',_0xc6995d(0x12b)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0xc6995d(0x170))]('签到功能暂未开放!',common_1[_0xc6995d(0x11a)][_0xc6995d(0x153)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async['auth'](){const _0x40eb7a=_0xd7f5f9,_0x1a5cb9='',_0x470f6d=await fetch(_0x1a5cb9,{}),_0x196078=await _0x470f6d[_0x40eb7a(0x1c1)](),{success:success=!![],message:_0x2904a4}=_0x196078;common_1[_0x40eb7a(0x176)]['debug'](_0x40eb7a(0x164));}async[_0xd7f5f9(0x19c)](){const _0x537ef2=_0xd7f5f9,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x4eb699}=await this[_0x537ef2(0x188)]([_0x537ef2(0x1b3),'baiduTextAccessToken']);if(Number(baiduTextStatus)===0x1)return{'useType':_0x537ef2(0x147),'baiduTextAccessToken':_0x4eb699};return null;}async['initDefaultConfigs'](){const _0x16b4e4=_0xd7f5f9,_0x2e8204=[{'configKey':_0x16b4e4(0x1c8),'configVal':'60','public':0x0,'encrypt':0x0,'remark':_0x16b4e4(0x1cb)}];for(const _0x471114 of _0x2e8204){const _0x3aa397=await this[_0x16b4e4(0x19e)]['findOne']({'where':{'configKey':_0x471114[_0x16b4e4(0x110)]}});!_0x3aa397&&(await this[_0x16b4e4(0x19e)]['save'](_0x471114),this[_0x16b4e4(0x14d)][_0x471114[_0x16b4e4(0x110)]]=_0x471114[_0x16b4e4(0x1ba)],common_1['Logger'][_0x16b4e4(0x190)](_0x16b4e4(0x171)+_0x471114[_0x16b4e4(0x110)]+'='+_0x471114[_0x16b4e4(0x1ba)],_0x16b4e4(0x1bd)));}}};GlobalConfigService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(config_entity_1['ConfigEntity'])),__param(0x1,(0x0,typeorm_1[_0xd7f5f9(0x1d1)])(chatLog_entity_1[_0xd7f5f9(0x132)])),__metadata(_0xd7f5f9(0x16d),[typeorm_2[_0xd7f5f9(0x1ae)],typeorm_2['Repository'],models_service_1[_0xd7f5f9(0x1cd)]])],GlobalConfigService),exports['GlobalConfigService']=GlobalConfigService;
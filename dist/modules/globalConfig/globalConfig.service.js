'use strict';const _0x3e767e=_0x3d1d;(function(_0x173d68,_0x2c0051){const _0x2eca3c=_0x3d1d,_0x150aab=_0x173d68();while(!![]){try{const _0x3a9bcb=-parseInt(_0x2eca3c(0x245))/0x1*(-parseInt(_0x2eca3c(0x229))/0x2)+parseInt(_0x2eca3c(0x1ae))/0x3+-parseInt(_0x2eca3c(0x239))/0x4+-parseInt(_0x2eca3c(0x1b0))/0x5*(parseInt(_0x2eca3c(0x1af))/0x6)+-parseInt(_0x2eca3c(0x1d5))/0x7*(-parseInt(_0x2eca3c(0x1c0))/0x8)+-parseInt(_0x2eca3c(0x22f))/0x9+parseInt(_0x2eca3c(0x24a))/0xa;if(_0x3a9bcb===_0x2c0051)break;else _0x150aab['push'](_0x150aab['shift']());}catch(_0x196cd9){_0x150aab['push'](_0x150aab['shift']());}}}(_0x4c20,0x89174));var __decorate=this&&this[_0x3e767e(0x220)]||function(_0x5497af,_0x51a793,_0x2a808a,_0x12088b){const _0x2381ac=_0x3e767e;var _0x36a41a=arguments[_0x2381ac(0x1d8)],_0x1d0501=_0x36a41a<0x3?_0x51a793:_0x12088b===null?_0x12088b=Object['getOwnPropertyDescriptor'](_0x51a793,_0x2a808a):_0x12088b,_0x273fdd;if(typeof Reflect===_0x2381ac(0x228)&&typeof Reflect[_0x2381ac(0x1a7)]===_0x2381ac(0x1fb))_0x1d0501=Reflect[_0x2381ac(0x1a7)](_0x5497af,_0x51a793,_0x2a808a,_0x12088b);else{for(var _0x4f7bca=_0x5497af[_0x2381ac(0x1d8)]-0x1;_0x4f7bca>=0x0;_0x4f7bca--)if(_0x273fdd=_0x5497af[_0x4f7bca])_0x1d0501=(_0x36a41a<0x3?_0x273fdd(_0x1d0501):_0x36a41a>0x3?_0x273fdd(_0x51a793,_0x2a808a,_0x1d0501):_0x273fdd(_0x51a793,_0x2a808a))||_0x1d0501;}return _0x36a41a>0x3&&_0x1d0501&&Object[_0x2381ac(0x240)](_0x51a793,_0x2a808a,_0x1d0501),_0x1d0501;},__metadata=this&&this[_0x3e767e(0x1fe)]||function(_0x409172,_0x399664){const _0x191208=_0x3e767e;if(typeof Reflect===_0x191208(0x228)&&typeof Reflect[_0x191208(0x1a3)]===_0x191208(0x1fb))return Reflect[_0x191208(0x1a3)](_0x409172,_0x399664);},__param=this&&this[_0x3e767e(0x213)]||function(_0x22214f,_0x2e7808){return function(_0x23a8ae,_0x136729){_0x2e7808(_0x23a8ae,_0x136729,_0x22214f);};};Object[_0x3e767e(0x240)](exports,_0x3e767e(0x22d),{'value':!![]}),exports['GlobalConfigService']=void 0x0;function _0x3d1d(_0x5c4111,_0x1d5c8c){const _0x4c20d5=_0x4c20();return _0x3d1d=function(_0x3d1df6,_0x5a0211){_0x3d1df6=_0x3d1df6-0x19c;let _0xaea986=_0x4c20d5[_0x3d1df6];return _0xaea986;},_0x3d1d(_0x5c4111,_0x1d5c8c);}const utils_1=require('../../common/utils'),baseRequest_1=require(_0x3e767e(0x21f)),common_1=require('@nestjs/common'),typeorm_1=require(_0x3e767e(0x1d7)),axios_1=require('axios'),fs=require('fs'),typeorm_2=require('typeorm'),chatLog_entity_1=require('./../chatLog/chatLog.entity'),models_service_1=require('./../models/models.service'),config_entity_1=require(_0x3e767e(0x1fc)),packageJsonContent=fs['readFileSync'](_0x3e767e(0x23d),_0x3e767e(0x251)),packageJson=JSON['parse'](packageJsonContent),version=packageJson[_0x3e767e(0x24c)];function _0x4c20(){const _0x49af11=['\x20current\x20use\x20version\x20in\x20------>:\x20','baiduTextAccessToken','isShowAppCatIcon','queryConfig','function','./config.entity','configEntity','__metadata','&client_secret=','assign','weChatApiUrl','OfficialService','forEach','map','wechat','reduce','model4Name','robotAvatar','companyName','registerSendModel4Count','ticket','baiduTextApiKey','第三方应用认证码过期时间（秒）','default','initDefaultConfigs','signInModel3Count','域名与授权码不匹配！','getSensitiveConfig','__param','response','gpt','wechat\x20refresh\x20access_token\x20\x20==>\x20','mjProxy','aliPhoneAccessKeyId','fetchJsapiTicket','&grant_type=client_credentials','隐私内容、非超级管理员无权查看','isAutoOpenAgreement','ali','modelsService','../../common/utils/baseRequest','__decorate','globalConfigs','emailPort','wechatRegisterStatus','initBaiduSensitive','wechatJsapiTicket','/cgi-bin/ticket/getticket?access_token=','configKey','object','4150FMnliH','payHupiStatus','salesSeniorRatio','every','__esModule','auth','9595080RjNUXQ','fetchBaseAccessToken','Logger','baiduTextStatus','user','emailLoginStatus','已添加默认配置:\x20','&type=jsapi','openaiBaseUrl','wechatOfficialAppSecret','3891788HakxGs','registerSendStatus','签到功能暂未开放!','json','package.json','initGetAllConfig','showWatermark','defineProperty','mjUseBaiduFy','HttpStatus','onModuleInit','mjProxyImgUrl','391FnpMXf','ChatLogEntity','baidu','isVerifyEmail','chatLogEntity','15859760hVdkam','queryAllConfig','version','code','noticeInfo','getPhoneVerifyConfig','aliPhoneTemplateCode','utf-8','registerSendDrawMjCount','filingNumber','mpay','firstRegisterSendRank','cos','aliPhoneAccessKeySecret','payLtzfStatus','drawingStyles','find','createOrUpdate','ModelsService','firstRegisterSendStatus','payEpayApiPayUrl','mindDefaultData','queryFrontConfig','debug','wechatAccessToken','TRUE','metadata','AIWeb','isUseWxLogin','error:\x20','decorate','tencent','getWechatAccessToken','wechatSilentLoginStatus','wechatOfficialAppId','payWeChatPublicKey','clientFavoIconPath','2274807vFPXOJ','474NehOgl','53065nLlEtE','signInMjDrawToken','firstRregisterSendDrawMjCount','isHidePlugin','设置完成！','aliPhoneSignName','formatUrl','mjHideNotBlock','configVal','update','Status','GlobalConfigService','payMpayStatus','Repository','application/json','domain','176HHTrQe','getSignatureGiftConfig','isHideDrawMjPoint','还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','post','isAutoOpenNotice','siteName','queryPayType','error','payMpayChannel','log','getConfigs','payWechatStatus','env','epay','drawMjName','buyCramiAddress','salesBaseRatio','registerSendModel3Count','super','url','90188AYxfeF','clientHomePath','@nestjs/typeorm','length','ConfigEntity','BAD_REQUEST','data','queryNotice','rocketAiKey','phoneLoginStatus','InjectRepository','NAMESPACE','payEpayStatus','model3Name','save','isHideModel3Point','HttpException','findOne','getAuthInfo','includes','noticeTitle','thirdPartyAuthExpir','signInModel4Count','支付功能暂未开放!','getNamespace','http://authorization.nodeai.cn/api/domainAuth/checkDomain/rocket','hupi','siteRobotName','baiduCode','hideString','baiduTextSecretKey','get','https://api.weixin.qq.com','pay'];_0x4c20=function(){return _0x49af11;};return _0x4c20();}console[_0x3e767e(0x1ca)](_0x3e767e(0x1f7),version);let GlobalConfigService=class GlobalConfigService{constructor(_0x299628,_0x2c4c49,_0x399fc1){const _0x29c8fc=_0x3e767e;this[_0x29c8fc(0x1fd)]=_0x299628,this[_0x29c8fc(0x249)]=_0x2c4c49,this[_0x29c8fc(0x21e)]=_0x399fc1,this[_0x29c8fc(0x221)]={};}async[_0x3e767e(0x243)](){const _0x15aff5=_0x3e767e;await this['initGetAllConfig'](),await this[_0x15aff5(0x20f)]();}async[_0x3e767e(0x1cb)](_0x2bcc54){const _0x200a5a=_0x3e767e;if(_0x2bcc54[_0x200a5a(0x1d8)]===0x0)return;if(_0x2bcc54['includes'](_0x200a5a(0x1a1))&&_0x2bcc54[_0x200a5a(0x1d8)]===0x1)return this[_0x200a5a(0x1a1)];if(_0x2bcc54[_0x200a5a(0x1e8)]('wechatJsapiTicket')&&_0x2bcc54[_0x200a5a(0x1d8)]===0x1)return this[_0x200a5a(0x225)];if(_0x2bcc54[_0x200a5a(0x1d8)]===0x1)return this['globalConfigs'][_0x2bcc54[0x0]];else{const _0x56bb22={};return _0x2bcc54[_0x200a5a(0x203)](_0x28e0cb=>_0x56bb22[_0x28e0cb]=this[_0x200a5a(0x221)][_0x28e0cb]),_0x56bb22;}}async[_0x3e767e(0x23e)](){const _0x2d09c2=_0x3e767e,_0x328ab7=await this['configEntity'][_0x2d09c2(0x25a)]();this[_0x2d09c2(0x221)]=_0x328ab7['reduce']((_0x932912,_0x50d804)=>{const _0x7a4c24=_0x2d09c2;return _0x932912[_0x50d804[_0x7a4c24(0x227)]]=_0x50d804['configVal'],_0x932912;},{}),this[_0x2d09c2(0x224)]();}async[_0x3e767e(0x224)](_0x539046=!![]){const _0x3bcd6f=_0x3e767e,{baiduTextApiKey:_0x200026,baiduTextSecretKey:_0x385d1b}=await this[_0x3bcd6f(0x1cb)]([_0x3bcd6f(0x20c),_0x3bcd6f(0x1f3)]);if(!_0x200026||!_0x385d1b)return;const _0x1b12cc={'Content-Type':_0x3bcd6f(0x1be),'Accept':_0x3bcd6f(0x1be)},_0x3f3779='https://aip.baidubce.com/oauth/2.0/token?client_id='+_0x200026+_0x3bcd6f(0x1ff)+_0x385d1b+_0x3bcd6f(0x21a);try{const _0x571651=await axios_1[_0x3bcd6f(0x20e)][_0x3bcd6f(0x1c4)](_0x3f3779,{'headers':_0x1b12cc});this[_0x3bcd6f(0x221)][_0x3bcd6f(0x1f8)]=_0x571651[_0x3bcd6f(0x1db)]['access_token'];}catch(_0xa84096){if(_0x539046){}else throw new common_1[(_0x3bcd6f(0x1e5))](_0xa84096[_0x3bcd6f(0x214)][_0x3bcd6f(0x1db)]['error_description'],common_1[_0x3bcd6f(0x242)][_0x3bcd6f(0x1da)]);}}async[_0x3e767e(0x1a9)](_0x2c0f33=![]){const _0x16af3c=_0x3e767e,{wechatOfficialAppId:_0x26a3f6,wechatOfficialAppSecret:_0xeeaf59}=await this[_0x16af3c(0x1cb)](['wechatOfficialAppId',_0x16af3c(0x238)]);if(!_0x26a3f6||!_0xeeaf59)return common_1[_0x16af3c(0x231)][_0x16af3c(0x1c8)](_0x16af3c(0x1c3),_0x16af3c(0x202));this['wechatAccessToken']=await this[_0x16af3c(0x230)](_0x26a3f6,_0xeeaf59,_0x2c0f33),this[_0x16af3c(0x225)]=await this[_0x16af3c(0x219)](this[_0x16af3c(0x1a1)]),common_1[_0x16af3c(0x231)][_0x16af3c(0x1ca)](_0x16af3c(0x216)+this['wechatAccessToken'],_0x16af3c(0x202));}async[_0x3e767e(0x230)](_0x2c7df6,_0x1497cc,_0x3e574f=![]){const _0x1b422a=_0x3e767e;if(process[_0x1b422a(0x1cd)]['ISDEV']===_0x1b422a(0x1a2)){this[_0x1b422a(0x1a1)]='';return;}const _0x4dedbf=(0x0,utils_1[_0x1b422a(0x1b6)])(process[_0x1b422a(0x1cd)][_0x1b422a(0x201)]||_0x1b422a(0x1f5)),{data:{errmsg:_0x1f974e,access_token:_0x568bd1}}=await axios_1[_0x1b422a(0x20e)][_0x1b422a(0x1f4)](_0x4dedbf+'/cgi-bin/token?grant_type=client_credential&appid='+_0x2c7df6+'&secret='+_0x1497cc);if(_0x1f974e){if(_0x3e574f)common_1[_0x1b422a(0x231)][_0x1b422a(0x1c8)]('获取微信access_token失败、错误信息：'+_0x1f974e,_0x1b422a(0x202));else throw new common_1[(_0x1b422a(0x1e5))]('请配置正确的秘钥、当前秘钥检测不通过！',common_1[_0x1b422a(0x242)]['BAD_REQUEST']);return'';}return _0x568bd1;}async[_0x3e767e(0x219)](_0x1f69f5){const _0x414b4c=_0x3e767e;var _0x410838;if(process[_0x414b4c(0x1cd)]['ISDEV']===_0x414b4c(0x1a2)){this[_0x414b4c(0x225)]='';return;}const _0xb7cfb5=(0x0,utils_1[_0x414b4c(0x1b6)])(process['env'][_0x414b4c(0x201)]||'https://api.weixin.qq.com'),_0x2fd64c=await axios_1[_0x414b4c(0x20e)][_0x414b4c(0x1f4)](_0xb7cfb5+_0x414b4c(0x226)+_0x1f69f5+_0x414b4c(0x236));return(_0x410838=_0x2fd64c===null||_0x2fd64c===void 0x0?void 0x0:_0x2fd64c[_0x414b4c(0x1db)])===null||_0x410838===void 0x0?void 0x0:_0x410838[_0x414b4c(0x20b)];}async[_0x3e767e(0x24b)](_0x1affe7){const _0x4a5534=_0x3e767e,{role:_0x3515a8}=_0x1affe7[_0x4a5534(0x233)];return this[_0x4a5534(0x221)];}async[_0x3e767e(0x19f)](_0x353113,_0x2b1e78){const _0x5af968=_0x3e767e,_0x2e3318=[_0x5af968(0x23a),_0x5af968(0x1d2),_0x5af968(0x20a),_0x5af968(0x252),_0x5af968(0x19c),_0x5af968(0x255),'firstRregisterSendModel3Count','firstRregisterSendModel4Count',_0x5af968(0x1b2),_0x5af968(0x1d6),'clientLogoPath',_0x5af968(0x1ad),_0x5af968(0x259),_0x5af968(0x1a5),_0x5af968(0x1c6),_0x5af968(0x208),_0x5af968(0x1f0),_0x5af968(0x1d0),_0x5af968(0x19e),_0x5af968(0x1f1),'payEpayChannel',_0x5af968(0x1c9),_0x5af968(0x19d),'payEpayStatus',_0x5af968(0x22a),_0x5af968(0x1cc),_0x5af968(0x1bc),_0x5af968(0x258),_0x5af968(0x1c5),_0x5af968(0x1f9),_0x5af968(0x1d1),_0x5af968(0x22b),'salesAllowDrawMoney',_0x5af968(0x209),_0x5af968(0x253),_0x5af968(0x234),_0x5af968(0x1de),_0x5af968(0x223),_0x5af968(0x1aa),'signInStatus',_0x5af968(0x210),_0x5af968(0x1eb),_0x5af968(0x1b1),'appMenuHeaderTips','pluginFirst',_0x5af968(0x241),_0x5af968(0x1b7),'mjHideWorkIn',_0x5af968(0x248),_0x5af968(0x23f),'isHideTts','isHideDefaultPreset',_0x5af968(0x1e4),'isHideModel4Point',_0x5af968(0x1c2),_0x5af968(0x1b3),_0x5af968(0x1e2),_0x5af968(0x207),_0x5af968(0x1cf),'isModelInherited','noVerifyRegister',_0x5af968(0x24e),'homeHtml',_0x5af968(0x21c),'agreementInfo','agreementTitle'],_0x440d23=await this[_0x5af968(0x1fd)][_0x5af968(0x25a)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x2e3318)}}),{domain:_0x3d1e8c}=_0x353113,_0x3ba48a=this[_0x5af968(0x221)][_0x5af968(0x1bf)];_0x3ba48a!==_0x3d1e8c&&(this[_0x5af968(0x25b)]({'configKey':_0x5af968(0x1bf),'configVal':_0x3d1e8c,'status':0x1}),await this['initGetAllConfig']());const _0x2a72d5=_0x440d23['reduce']((_0x53a464,_0xf4a95d)=>{const _0x47c26a=_0x5af968;return _0x53a464[_0xf4a95d['configKey']]=_0xf4a95d[_0x47c26a(0x1b8)],_0x53a464;},{}),{wechatOfficialAppId:_0x1674a8,wechatOfficialAppSecret:_0xad3f73}=await this['getConfigs']([_0x5af968(0x1ab),_0x5af968(0x238)]),_0x1cc4e8=!!(_0x1674a8&&_0xad3f73);return Object[_0x5af968(0x200)](Object[_0x5af968(0x200)]({},_0x2a72d5),{'isUseWxLogin':_0x1cc4e8});}async[_0x3e767e(0x1fa)](_0x33eab6,_0x3046b5){const _0x118d2d=_0x3e767e,{role:_0x5698a2}=_0x3046b5[_0x118d2d(0x233)],{keys:_0x4ec7c4}=_0x33eab6,_0x511f41=await this[_0x118d2d(0x1fd)][_0x118d2d(0x25a)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x4ec7c4)}});return _0x5698a2!==_0x118d2d(0x1d3)&&_0x511f41['forEach'](_0x5d58ab=>{const _0x1ab977=_0x118d2d;if(_0x5d58ab['configKey'][_0x1ab977(0x1e8)]('mj')||_0x5d58ab[_0x1ab977(0x227)][_0x1ab977(0x1e8)]('Key')||_0x5d58ab[_0x1ab977(0x227)]['includes'](_0x1ab977(0x215))||_0x5d58ab['configKey'][_0x1ab977(0x1e8)](_0x1ab977(0x256))||_0x5d58ab['configKey'][_0x1ab977(0x1e8)](_0x1ab977(0x247))||_0x5d58ab[_0x1ab977(0x227)][_0x1ab977(0x1e8)](_0x1ab977(0x21d))||_0x5d58ab[_0x1ab977(0x227)][_0x1ab977(0x1e8)](_0x1ab977(0x1a8))||_0x5d58ab[_0x1ab977(0x227)][_0x1ab977(0x1e8)](_0x1ab977(0x1f6))||_0x5d58ab[_0x1ab977(0x227)][_0x1ab977(0x1e8)]('wechat')||_0x5d58ab[_0x1ab977(0x227)][_0x1ab977(0x1e8)](_0x1ab977(0x244))||_0x5d58ab['configKey']===_0x1ab977(0x237)){const _0x1b65c1=[_0x1ab977(0x1ac),'payWeChatPrivateKey'];if(_0x1b65c1[_0x1ab977(0x1e8)](_0x5d58ab[_0x1ab977(0x227)]))return _0x5d58ab['configVal']=(0x0,utils_1[_0x1ab977(0x1f2)])(_0x5d58ab[_0x1ab977(0x1b8)],_0x1ab977(0x21b));const _0x5051f2=[_0x1ab977(0x1e1),'payHupiStatus',_0x1ab977(0x217),_0x1ab977(0x258)];!_0x5051f2[_0x1ab977(0x1e8)](_0x5d58ab['configKey'])&&!_0x5d58ab[_0x1ab977(0x227)][_0x1ab977(0x1e8)](_0x1ab977(0x1ba))&&(_0x5d58ab['configVal']=(0x0,utils_1[_0x1ab977(0x1f2)])(_0x5d58ab[_0x1ab977(0x1b8)]));}}),_0x511f41[_0x118d2d(0x206)]((_0x1715cc,_0x59348e)=>{const _0x2a0ca5=_0x118d2d;return _0x1715cc[_0x59348e['configKey']]=_0x59348e[_0x2a0ca5(0x1b8)],_0x1715cc;},{});}async['setConfig'](_0x3fbbad){const _0x2f508c=_0x3e767e;try{const {settings:_0xc48602}=_0x3fbbad;for(const _0x356d49 of _0xc48602){await this[_0x2f508c(0x25b)](_0x356d49);}await this[_0x2f508c(0x23e)]();const _0xe2f800=_0xc48602[_0x2f508c(0x204)](_0x44c8c8=>_0x44c8c8[_0x2f508c(0x227)]);return(_0xe2f800['includes']('baiduTextApiKey')||_0xe2f800[_0x2f508c(0x1e8)](_0x2f508c(0x1f3)))&&await this[_0x2f508c(0x224)](![]),(_0xe2f800['includes']('wechatOfficialAppId')||_0xe2f800[_0x2f508c(0x1e8)](_0x2f508c(0x238)))&&await this['getWechatAccessToken'](),_0x2f508c(0x1b4);}catch(_0x11ef48){console[_0x2f508c(0x1ca)](_0x2f508c(0x1a6),_0x11ef48);}}async[_0x3e767e(0x25b)](_0x695224){const _0x53537c=_0x3e767e;if(_0x695224[_0x53537c(0x227)]==_0x53537c(0x1dd)){const _0x25189a=_0x695224[_0x53537c(0x1d4)],_0x380e7f=await(0x0,baseRequest_1['baseRequest'])({'method':_0x53537c(0x1c4),'url':_0x53537c(0x1ee),'data':{'domain':_0x25189a,'authCode':_0x695224[_0x53537c(0x1b8)]}});if(_0x380e7f[_0x53537c(0x24d)]===0x7)throw new common_1[(_0x53537c(0x1e5))](_0x53537c(0x211),common_1[_0x53537c(0x242)][_0x53537c(0x1da)]);}try{const {configKey:_0x1aa6c1,configVal:_0x3f88b1,status:status=0x1}=_0x695224,_0x8aa4aa=await this[_0x53537c(0x1fd)]['findOne']({'where':{'configKey':_0x1aa6c1}});return _0x8aa4aa?await this['configEntity'][_0x53537c(0x1b9)]({'configKey':_0x1aa6c1},{'configVal':_0x3f88b1,'status':status}):await this['configEntity'][_0x53537c(0x1e3)]({'configKey':_0x1aa6c1,'configVal':_0x3f88b1,'status':status}),await this[_0x53537c(0x23e)](),'设置完成！';}catch(_0x183cc1){console[_0x53537c(0x1ca)](_0x53537c(0x1a6),_0x183cc1);throw new common_1[(_0x53537c(0x1e5))]('设置配置信息错误！',common_1[_0x53537c(0x242)][_0x53537c(0x1da)]);}}async[_0x3e767e(0x1dc)](){const _0xa33ca5=_0x3e767e;return await this['getConfigs'](['noticeInfo',_0xa33ca5(0x1e9)]);}async[_0x3e767e(0x1c7)](){const _0x3fd2c9=_0x3e767e,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0,payLtzfStatus:payLtzfStatus=0x0}=await this[_0x3fd2c9(0x1cb)](['payHupiStatus',_0x3fd2c9(0x1e1),_0x3fd2c9(0x1bc),_0x3fd2c9(0x1cc),'payLtzfStatus']);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus,payLtzfStatus][_0x3fd2c9(0x22c)](_0x593605=>_0x593605===0x0))throw new common_1[(_0x3fd2c9(0x1e5))](_0x3fd2c9(0x1ec),common_1[_0x3fd2c9(0x242)]['BAD_REQUEST']);if(Number(payWechatStatus)===0x1)return _0x3fd2c9(0x205);if(Number(payEpayStatus)===0x1)return _0x3fd2c9(0x1ce);if(Number(payMpayStatus)===0x1)return _0x3fd2c9(0x254);if(Number(payHupiStatus)===0x1)return _0x3fd2c9(0x1ef);if(Number(payLtzfStatus)===0x1)return'ltzf';}async[_0x3e767e(0x1e7)](){const _0x2d756a=_0x3e767e,{siteName:_0x27f03f,registerBaseUrl:_0x1b1017,domain:_0x268da2}=await this['getConfigs'](['siteName','registerBaseUrl',_0x2d756a(0x1bf)]);return{'siteName':_0x27f03f,'registerBaseUrl':_0x1b1017,'domain':_0x268da2};}async[_0x3e767e(0x24f)](){const _0x5927b4=_0x3e767e,{phoneLoginStatus:_0x470157,aliPhoneAccessKeyId:_0x4fe4b7,aliPhoneAccessKeySecret:_0x498947,aliPhoneSignName:_0xfa4b4c,aliPhoneTemplateCode:_0x467fc6}=await this[_0x5927b4(0x1cb)](['phoneLoginStatus',_0x5927b4(0x218),_0x5927b4(0x257),_0x5927b4(0x1b5),_0x5927b4(0x250)]);if(Number(_0x470157)!==0x1)throw new common_1[(_0x5927b4(0x1e5))]('手机验证码功能暂未开放!',common_1[_0x5927b4(0x242)]['BAD_REQUEST']);return{'accessKeyId':_0x4fe4b7,'accessKeySecret':_0x498947,'SignName':_0xfa4b4c,'TemplateCode':_0x467fc6};}async['getEmailConfig'](){const _0x48725a=_0x3e767e,_0x1fa48e=await this['getConfigs'](['emailHost',_0x48725a(0x222),'emailUser','emailPass']);return _0x1fa48e;}[_0x3e767e(0x1ed)](){const _0x1e87ce=_0x3e767e;return process[_0x1e87ce(0x1cd)][_0x1e87ce(0x1e0)]||_0x1e87ce(0x1a4);}async[_0x3e767e(0x1c1)](){const _0x1460e7=_0x3e767e,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x1460e7(0x1cb)](['signInStatus',_0x1460e7(0x210),_0x1460e7(0x1eb),_0x1460e7(0x1b1)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x1460e7(0x1e5))](_0x1460e7(0x23b),common_1[_0x1460e7(0x242)][_0x1460e7(0x1da)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async[_0x3e767e(0x22e)](){const _0x3a6e58=_0x3e767e,_0x1ce3e2='',_0x84034e=await fetch(_0x1ce3e2,{}),_0x6aad1a=await _0x84034e[_0x3a6e58(0x23c)](),{success:success=!![],message:_0x392aa0}=_0x6aad1a;common_1[_0x3a6e58(0x231)][_0x3a6e58(0x1a0)]('感谢您使用AIWeb，祝您使用愉快~');}async[_0x3e767e(0x212)](){const _0x5581b2=_0x3e767e,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x34b612}=await this['getConfigs']([_0x5581b2(0x232),'baiduTextAccessToken']);if(Number(baiduTextStatus)===0x1)return{'useType':_0x5581b2(0x247),'baiduTextAccessToken':_0x34b612};return null;}async[_0x3e767e(0x20f)](){const _0x2f7106=_0x3e767e,_0x134848=[{'configKey':_0x2f7106(0x1ea),'configVal':'60','public':0x0,'encrypt':0x0,'remark':_0x2f7106(0x20d)}];for(const _0x1a1d0b of _0x134848){const _0xacc52=await this['configEntity'][_0x2f7106(0x1e6)]({'where':{'configKey':_0x1a1d0b[_0x2f7106(0x227)]}});!_0xacc52&&(await this['configEntity'][_0x2f7106(0x1e3)](_0x1a1d0b),this['globalConfigs'][_0x1a1d0b['configKey']]=_0x1a1d0b['configVal'],common_1[_0x2f7106(0x231)]['log'](_0x2f7106(0x235)+_0x1a1d0b['configKey']+'='+_0x1a1d0b[_0x2f7106(0x1b8)],_0x2f7106(0x1bb)));}}};GlobalConfigService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0x3e767e(0x1df)])(config_entity_1[_0x3e767e(0x1d9)])),__param(0x1,(0x0,typeorm_1[_0x3e767e(0x1df)])(chatLog_entity_1[_0x3e767e(0x246)])),__metadata('design:paramtypes',[typeorm_2[_0x3e767e(0x1bd)],typeorm_2[_0x3e767e(0x1bd)],models_service_1[_0x3e767e(0x25c)]])],GlobalConfigService),exports[_0x3e767e(0x1bb)]=GlobalConfigService;
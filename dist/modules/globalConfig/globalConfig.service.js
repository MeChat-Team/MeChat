'use strict';const _0xc0b56=_0x5f52;function _0x3791(){const _0x334ba5=['pay','error_description','url','设置完成！','defineProperty','getSensitiveConfig','529701prjcPb','wechatRegisterStatus','default','epay','hideString','getAuthInfo','weChatApiUrl','&secret=','请配置正确的秘钥、当前秘钥检测不通过！','./../models/models.service','TRUE','thirdPartyAuthExpir','signInMjDrawToken','HttpStatus','response','setConfig','686216MwPiRn','assign','salesBaseRatio','firstRegisterSendRank','globalConfigs','https://api.weixin.qq.com','@nestjs/typeorm','BAD_REQUEST','decorate','isHidePlugin','every','isAutoOpenAgreement','onModuleInit','https://aip.baidubce.com/oauth/2.0/token?client_id=','Status','payEpayChannel','61193jzYDSQ','isHideModel3Point','./config.entity','fetchJsapiTicket','registerSendModel3Count','getConfigs','cos','axios','initDefaultConfigs','InjectRepository','aliPhoneSignName','Injectable','registerBaseUrl','/cgi-bin/token?grant_type=client_credential&appid=','@nestjs/common','__esModule','homeHtml','域名与授权码不匹配！','3244806uZzqLT','length','payWechatStatus','formatUrl','baiduTextApiKey','post','10XiLihd','Repository','clientHomePath','configKey','baiduCode','buyCramiAddress','phoneLoginStatus','metadata','configEntity','隐私内容、非超级管理员无权查看','baseRequest','map','手机验证码功能暂未开放!','showWatermark','payWeChatPublicKey','mindDefaultData','signInModel4Count','80cZEGnB','drawMjName','data','mjProxyImgUrl','emailUser','wechatJsapiTicket','wechat','emailHost','7liYLpy','json','registerSendDrawMjCount','signInModel3Count','第三方应用认证码过期时间（秒）','includes','agreementTitle','noVerifyRegister','firstRregisterSendModel3Count','initGetAllConfig','utf-8','baiduTextSecretKey','chatLogEntity','log','ModelsService','isAutoOpenNotice','ConfigEntity','NAMESPACE','clientFavoIconPath','\x20current\x20use\x20version\x20in\x20------>:\x20','GlobalConfigService','rocketAiKey','parse','OfficialService','signInStatus','emailLoginStatus','baiduTextAccessToken','wechatOfficialAppSecret','ticket','AIWeb','pluginFirst','/cgi-bin/ticket/getticket?access_token=','isHideModel4Point','HttpException','domain','payHupiStatus','auth','robotAvatar','readFileSync','salesAllowDrawMoney','companyName','typeorm','ali','&client_secret=','createOrUpdate','emailPass','60432EUDhRX','payMpayStatus','get','获取微信access_token失败、错误信息：','ISDEV','clientLogoPath','Logger','user','mpay','getOwnPropertyDescriptor','__metadata','configVal','aliPhoneTemplateCode','env','tencent','gpt','noticeInfo','model3Name','find','save','queryPayType','forEach','design:paramtypes','267198RynoMt','payEpayStatus','registerSendModel4Count','debug','设置配置信息错误！','payWeChatPrivateKey','application/json','aliPhoneAccessKeyId','appMenuHeaderTips','感谢您使用AIWeb，祝您使用愉快~','2672248riflDj','1plyCuW','./../chatLog/chatLog.entity','firstRregisterSendModel4Count','findOne','aliPhoneAccessKeySecret','filingNumber','version','salesSeniorRatio','../../common/utils','super','queryNotice','error:\x20','wechatAccessToken','wechatOfficialAppId','isModelInherited','__param','siteName','mjProxy','firstRregisterSendDrawMjCount','baidu','error','getSignatureGiftConfig','getPhoneVerifyConfig','reduce','initBaiduSensitive','fetchBaseAccessToken','wechat\x20refresh\x20access_token\x20\x20==>\x20','isHideDrawMjPoint','payEpayApiPayUrl','支付功能暂未开放!','firstRegisterSendStatus','&type=jsapi','code','object','payLtzfStatus','签到功能暂未开放!','mjHideWorkIn','noticeTitle','Key','siteRobotName','http://authorization.nodeai.cn/api/domainAuth/checkDomain/mechat'];_0x3791=function(){return _0x334ba5;};return _0x3791();}(function(_0x2f69e7,_0x27e505){const _0x1d8928=_0x5f52,_0x198df2=_0x2f69e7();while(!![]){try{const _0x4c3348=-parseInt(_0x1d8928(0x1e6))/0x1*(parseInt(_0x1d8928(0x225))/0x2)+-parseInt(_0x1d8928(0x215))/0x3+-parseInt(_0x1d8928(0x1c4))/0x4+-parseInt(_0x1d8928(0x17d))/0x5*(-parseInt(_0x1d8928(0x1db))/0x6)+parseInt(_0x1d8928(0x196))/0x7*(parseInt(_0x1d8928(0x1e5))/0x8)+parseInt(_0x1d8928(0x177))/0x9+parseInt(_0x1d8928(0x18e))/0xa*(parseInt(_0x1d8928(0x235))/0xb);if(_0x4c3348===_0x27e505)break;else _0x198df2['push'](_0x198df2['shift']());}catch(_0x325b65){_0x198df2['push'](_0x198df2['shift']());}}}(_0x3791,0x479e8));var __decorate=this&&this['__decorate']||function(_0x5b8c66,_0x31c1d8,_0x3399bb,_0x5becc2){const _0xe97c9c=_0x5f52;var _0x2c5677=arguments['length'],_0x30486f=_0x2c5677<0x3?_0x31c1d8:_0x5becc2===null?_0x5becc2=Object[_0xe97c9c(0x1cd)](_0x31c1d8,_0x3399bb):_0x5becc2,_0x215f43;if(typeof Reflect===_0xe97c9c(0x207)&&typeof Reflect[_0xe97c9c(0x22d)]==='function')_0x30486f=Reflect[_0xe97c9c(0x22d)](_0x5b8c66,_0x31c1d8,_0x3399bb,_0x5becc2);else{for(var _0x128fe5=_0x5b8c66[_0xe97c9c(0x178)]-0x1;_0x128fe5>=0x0;_0x128fe5--)if(_0x215f43=_0x5b8c66[_0x128fe5])_0x30486f=(_0x2c5677<0x3?_0x215f43(_0x30486f):_0x2c5677>0x3?_0x215f43(_0x31c1d8,_0x3399bb,_0x30486f):_0x215f43(_0x31c1d8,_0x3399bb))||_0x30486f;}return _0x2c5677>0x3&&_0x30486f&&Object[_0xe97c9c(0x213)](_0x31c1d8,_0x3399bb,_0x30486f),_0x30486f;},__metadata=this&&this[_0xc0b56(0x1ce)]||function(_0x3c9080,_0x52aaa7){const _0x424e5d=_0xc0b56;if(typeof Reflect===_0x424e5d(0x207)&&typeof Reflect[_0x424e5d(0x184)]==='function')return Reflect[_0x424e5d(0x184)](_0x3c9080,_0x52aaa7);},__param=this&&this[_0xc0b56(0x1f5)]||function(_0x29af03,_0x9f6335){return function(_0x5d996d,_0x57a673){_0x9f6335(_0x5d996d,_0x57a673,_0x29af03);};};Object['defineProperty'](exports,_0xc0b56(0x174),{'value':!![]}),exports[_0xc0b56(0x1aa)]=void 0x0;const utils_1=require(_0xc0b56(0x1ee)),baseRequest_1=require('../../common/utils/baseRequest'),common_1=require(_0xc0b56(0x173)),typeorm_1=require(_0xc0b56(0x22b)),axios_1=require(_0xc0b56(0x23c)),fs=require('fs'),typeorm_2=require(_0xc0b56(0x1bf)),chatLog_entity_1=require(_0xc0b56(0x1e7)),models_service_1=require(_0xc0b56(0x21e)),config_entity_1=require(_0xc0b56(0x237)),packageJsonContent=fs[_0xc0b56(0x1bc)]('package.json',_0xc0b56(0x1a0)),packageJson=JSON[_0xc0b56(0x1ac)](packageJsonContent),version=packageJson[_0xc0b56(0x1ec)];console[_0xc0b56(0x1a3)](_0xc0b56(0x1a9),version);let GlobalConfigService=class GlobalConfigService{constructor(_0xf76f8a,_0x4a36ee,_0x2d6184){const _0x333f93=_0xc0b56;this[_0x333f93(0x185)]=_0xf76f8a,this[_0x333f93(0x1a2)]=_0x4a36ee,this['modelsService']=_0x2d6184,this[_0x333f93(0x229)]={};}async[_0xc0b56(0x231)](){const _0x4b5a04=_0xc0b56;await this[_0x4b5a04(0x19f)](),await this[_0x4b5a04(0x23d)]();}async['getConfigs'](_0x1bd8b4){const _0x419cc4=_0xc0b56;if(_0x1bd8b4['length']===0x0)return;if(_0x1bd8b4[_0x419cc4(0x19b)]('wechatAccessToken')&&_0x1bd8b4[_0x419cc4(0x178)]===0x1)return this[_0x419cc4(0x1f2)];if(_0x1bd8b4[_0x419cc4(0x19b)](_0x419cc4(0x193))&&_0x1bd8b4[_0x419cc4(0x178)]===0x1)return this['wechatJsapiTicket'];if(_0x1bd8b4[_0x419cc4(0x178)]===0x1)return this[_0x419cc4(0x229)][_0x1bd8b4[0x0]];else{const _0x2e5f4e={};return _0x1bd8b4['forEach'](_0x508e56=>_0x2e5f4e[_0x508e56]=this['globalConfigs'][_0x508e56]),_0x2e5f4e;}}async[_0xc0b56(0x19f)](){const _0x47eb66=_0xc0b56,_0x13e254=await this['configEntity'][_0x47eb66(0x1d6)]();this[_0x47eb66(0x229)]=_0x13e254['reduce']((_0x5627c7,_0x2675dc)=>{const _0x1882db=_0x47eb66;return _0x5627c7[_0x2675dc['configKey']]=_0x2675dc[_0x1882db(0x1cf)],_0x5627c7;},{}),this['initBaiduSensitive']();}async[_0xc0b56(0x1fe)](_0x206cbe=!![]){const _0x54ec22=_0xc0b56,{baiduTextApiKey:_0xf9dff0,baiduTextSecretKey:_0x350e72}=await this[_0x54ec22(0x23a)]([_0x54ec22(0x17b),_0x54ec22(0x1a1)]);if(!_0xf9dff0||!_0x350e72)return;const _0x26f5f2={'Content-Type':_0x54ec22(0x1e1),'Accept':_0x54ec22(0x1e1)},_0x2fa67c=_0x54ec22(0x232)+_0xf9dff0+_0x54ec22(0x1c1)+_0x350e72+'&grant_type=client_credentials';try{const _0x21ceb5=await axios_1[_0x54ec22(0x217)][_0x54ec22(0x17c)](_0x2fa67c,{'headers':_0x26f5f2});this[_0x54ec22(0x229)][_0x54ec22(0x1b0)]=_0x21ceb5[_0x54ec22(0x190)]['access_token'];}catch(_0x169b76){if(_0x206cbe){}else throw new common_1['HttpException'](_0x169b76[_0x54ec22(0x223)]['data'][_0x54ec22(0x210)],common_1[_0x54ec22(0x222)]['BAD_REQUEST']);}}async['getWechatAccessToken'](_0x1d6764=![]){const _0x27332b=_0xc0b56,{wechatOfficialAppId:_0x3913bc,wechatOfficialAppSecret:_0x2254f9}=await this['getConfigs'](['wechatOfficialAppId','wechatOfficialAppSecret']);if(!_0x3913bc||!_0x2254f9)return common_1['Logger'][_0x27332b(0x1fa)]('还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！',_0x27332b(0x1ad));this[_0x27332b(0x1f2)]=await this['fetchBaseAccessToken'](_0x3913bc,_0x2254f9,_0x1d6764),this[_0x27332b(0x193)]=await this['fetchJsapiTicket'](this[_0x27332b(0x1f2)]),common_1[_0x27332b(0x1ca)][_0x27332b(0x1a3)](_0x27332b(0x200)+this[_0x27332b(0x1f2)],'OfficialService');}async[_0xc0b56(0x1ff)](_0x599d51,_0x429acf,_0x2b3aaa=![]){const _0x52c0cd=_0xc0b56;if(process[_0x52c0cd(0x1d1)][_0x52c0cd(0x1c8)]===_0x52c0cd(0x21f)){this[_0x52c0cd(0x1f2)]='';return;}const _0x409c6b=(0x0,utils_1[_0x52c0cd(0x17a)])(process['env'][_0x52c0cd(0x21b)]||'https://api.weixin.qq.com'),{data:{errmsg:_0x3194b2,access_token:_0x27b880}}=await axios_1[_0x52c0cd(0x217)][_0x52c0cd(0x1c6)](_0x409c6b+_0x52c0cd(0x172)+_0x599d51+_0x52c0cd(0x21c)+_0x429acf);if(_0x3194b2){if(_0x2b3aaa)common_1[_0x52c0cd(0x1ca)][_0x52c0cd(0x1fa)](_0x52c0cd(0x1c7)+_0x3194b2,_0x52c0cd(0x1ad));else throw new common_1[(_0x52c0cd(0x1b7))](_0x52c0cd(0x21d),common_1['HttpStatus'][_0x52c0cd(0x22c)]);return'';}return _0x27b880;}async[_0xc0b56(0x238)](_0x3dd2f8){const _0x3ba11c=_0xc0b56;var _0x35788d;if(process['env'][_0x3ba11c(0x1c8)]==='TRUE'){this[_0x3ba11c(0x193)]='';return;}const _0x502a37=(0x0,utils_1[_0x3ba11c(0x17a)])(process[_0x3ba11c(0x1d1)][_0x3ba11c(0x21b)]||_0x3ba11c(0x22a)),_0x379ca9=await axios_1[_0x3ba11c(0x217)][_0x3ba11c(0x1c6)](_0x502a37+_0x3ba11c(0x1b5)+_0x3dd2f8+_0x3ba11c(0x205));return(_0x35788d=_0x379ca9===null||_0x379ca9===void 0x0?void 0x0:_0x379ca9[_0x3ba11c(0x190)])===null||_0x35788d===void 0x0?void 0x0:_0x35788d[_0x3ba11c(0x1b2)];}async['queryAllConfig'](_0x25e308){const _0xebe890=_0xc0b56,{role:_0x1b3a28}=_0x25e308[_0xebe890(0x1cb)];return this[_0xebe890(0x229)];}async['queryFrontConfig'](_0x29bc47,_0x4b87fd){const _0xfaa95a=_0xc0b56,_0x51f836=['registerSendStatus',_0xfaa95a(0x239),_0xfaa95a(0x1dd),_0xfaa95a(0x198),_0xfaa95a(0x204),_0xfaa95a(0x228),_0xfaa95a(0x19e),_0xfaa95a(0x1e8),_0xfaa95a(0x1f8),_0xfaa95a(0x17f),_0xfaa95a(0x1c9),_0xfaa95a(0x1a8),'drawingStyles','isUseWxLogin',_0xfaa95a(0x1f6),_0xfaa95a(0x1bb),_0xfaa95a(0x20d),_0xfaa95a(0x182),_0xfaa95a(0x18c),_0xfaa95a(0x181),_0xfaa95a(0x234),'payMpayChannel',_0xfaa95a(0x202),_0xfaa95a(0x1dc),_0xfaa95a(0x1b9),_0xfaa95a(0x179),_0xfaa95a(0x1c5),_0xfaa95a(0x208),_0xfaa95a(0x1a5),'isShowAppCatIcon',_0xfaa95a(0x227),_0xfaa95a(0x1ed),_0xfaa95a(0x1bd),_0xfaa95a(0x1be),_0xfaa95a(0x1eb),_0xfaa95a(0x1af),'phoneLoginStatus',_0xfaa95a(0x216),'wechatSilentLoginStatus',_0xfaa95a(0x1ae),_0xfaa95a(0x199),_0xfaa95a(0x18d),'signInMjDrawToken',_0xfaa95a(0x1e3),_0xfaa95a(0x1b4),'mjUseBaiduFy','mjHideNotBlock',_0xfaa95a(0x20a),'isVerifyEmail',_0xfaa95a(0x18a),'isHideTts','isHideDefaultPreset',_0xfaa95a(0x236),_0xfaa95a(0x1b6),_0xfaa95a(0x201),_0xfaa95a(0x22e),_0xfaa95a(0x1d5),'model4Name',_0xfaa95a(0x18f),_0xfaa95a(0x1f4),_0xfaa95a(0x19d),_0xfaa95a(0x1d4),_0xfaa95a(0x175),_0xfaa95a(0x230),'agreementInfo',_0xfaa95a(0x19c)],_0xc4fd20=await this[_0xfaa95a(0x185)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0x51f836)}}),{domain:_0xf553b}=_0x29bc47,_0x47d6ce=this[_0xfaa95a(0x229)][_0xfaa95a(0x1b8)];_0x47d6ce!==_0xf553b&&(this[_0xfaa95a(0x1c2)]({'configKey':_0xfaa95a(0x1b8),'configVal':_0xf553b,'status':0x1}),await this[_0xfaa95a(0x19f)]());const _0x2318a8=_0xc4fd20['reduce']((_0x11dc8e,_0x3db24e)=>{const _0x331e45=_0xfaa95a;return _0x11dc8e[_0x3db24e[_0x331e45(0x180)]]=_0x3db24e[_0x331e45(0x1cf)],_0x11dc8e;},{}),{wechatOfficialAppId:_0x37393e,wechatOfficialAppSecret:_0x4f22d1}=await this['getConfigs']([_0xfaa95a(0x1f3),_0xfaa95a(0x1b1)]),_0x3dc781=!!(_0x37393e&&_0x4f22d1);return Object[_0xfaa95a(0x226)](Object[_0xfaa95a(0x226)]({},_0x2318a8),{'isUseWxLogin':_0x3dc781});}async['queryConfig'](_0x22fd41,_0xb5473a){const _0x49599f=_0xc0b56,{role:_0x546c3d}=_0xb5473a[_0x49599f(0x1cb)],{keys:_0xb1581}=_0x22fd41,_0x2f0701=await this['configEntity'][_0x49599f(0x1d6)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0xb1581)}});return _0x546c3d!==_0x49599f(0x1ef)&&_0x2f0701[_0x49599f(0x1d9)](_0x5d24b9=>{const _0x58ee88=_0x49599f;if(_0x5d24b9['configKey'][_0x58ee88(0x19b)]('mj')||_0x5d24b9[_0x58ee88(0x180)]['includes'](_0x58ee88(0x20c))||_0x5d24b9[_0x58ee88(0x180)][_0x58ee88(0x19b)](_0x58ee88(0x1d3))||_0x5d24b9['configKey']['includes'](_0x58ee88(0x23b))||_0x5d24b9['configKey']['includes'](_0x58ee88(0x1f9))||_0x5d24b9[_0x58ee88(0x180)][_0x58ee88(0x19b)](_0x58ee88(0x1c0))||_0x5d24b9[_0x58ee88(0x180)]['includes'](_0x58ee88(0x1d2))||_0x5d24b9['configKey'][_0x58ee88(0x19b)](_0x58ee88(0x20f))||_0x5d24b9[_0x58ee88(0x180)]['includes'](_0x58ee88(0x194))||_0x5d24b9[_0x58ee88(0x180)][_0x58ee88(0x19b)](_0x58ee88(0x191))||_0x5d24b9[_0x58ee88(0x180)]==='openaiBaseUrl'){const _0x263839=[_0x58ee88(0x18b),_0x58ee88(0x1e0)];if(_0x263839[_0x58ee88(0x19b)](_0x5d24b9[_0x58ee88(0x180)]))return _0x5d24b9['configVal']=(0x0,utils_1[_0x58ee88(0x219)])(_0x5d24b9[_0x58ee88(0x1cf)],_0x58ee88(0x186));const _0x442efc=['payEpayStatus','payHupiStatus',_0x58ee88(0x1f7),_0x58ee88(0x208)];!_0x442efc[_0x58ee88(0x19b)](_0x5d24b9[_0x58ee88(0x180)])&&!_0x5d24b9[_0x58ee88(0x180)]['includes'](_0x58ee88(0x233))&&(_0x5d24b9[_0x58ee88(0x1cf)]=(0x0,utils_1[_0x58ee88(0x219)])(_0x5d24b9[_0x58ee88(0x1cf)]));}}),_0x2f0701[_0x49599f(0x1fd)]((_0x59d4fd,_0x7691c)=>{const _0x57b94f=_0x49599f;return _0x59d4fd[_0x7691c[_0x57b94f(0x180)]]=_0x7691c[_0x57b94f(0x1cf)],_0x59d4fd;},{});}async[_0xc0b56(0x224)](_0x5304f1){const _0x5e7e71=_0xc0b56;try{const {settings:_0x436896}=_0x5304f1;for(const _0x721cc4 of _0x436896){await this[_0x5e7e71(0x1c2)](_0x721cc4);}await this[_0x5e7e71(0x19f)]();const _0x4d79a2=_0x436896[_0x5e7e71(0x188)](_0xbaa0a7=>_0xbaa0a7['configKey']);return(_0x4d79a2[_0x5e7e71(0x19b)]('baiduTextApiKey')||_0x4d79a2[_0x5e7e71(0x19b)](_0x5e7e71(0x1a1)))&&await this[_0x5e7e71(0x1fe)](![]),(_0x4d79a2[_0x5e7e71(0x19b)](_0x5e7e71(0x1f3))||_0x4d79a2[_0x5e7e71(0x19b)](_0x5e7e71(0x1b1)))&&await this['getWechatAccessToken'](),_0x5e7e71(0x212);}catch(_0x44e49b){console[_0x5e7e71(0x1a3)]('error:\x20',_0x44e49b);}}async[_0xc0b56(0x1c2)](_0x74c5e2){const _0x271a95=_0xc0b56;if(_0x74c5e2[_0x271a95(0x180)]==_0x271a95(0x1ab)){const _0x44246a=_0x74c5e2[_0x271a95(0x211)],_0x5c7c12=await(0x0,baseRequest_1[_0x271a95(0x187)])({'method':_0x271a95(0x17c),'url':_0x271a95(0x20e),'data':{'domain':_0x44246a,'authCode':_0x74c5e2[_0x271a95(0x1cf)]}});if(_0x5c7c12[_0x271a95(0x206)]===0x7)throw new common_1['HttpException'](_0x271a95(0x176),common_1['HttpStatus']['BAD_REQUEST']);}try{const {configKey:_0x378dbe,configVal:_0x392071,status:status=0x1}=_0x74c5e2,_0x59a426=await this['configEntity'][_0x271a95(0x1e9)]({'where':{'configKey':_0x378dbe}});return _0x59a426?await this[_0x271a95(0x185)]['update']({'configKey':_0x378dbe},{'configVal':_0x392071,'status':status}):await this[_0x271a95(0x185)][_0x271a95(0x1d7)]({'configKey':_0x378dbe,'configVal':_0x392071,'status':status}),await this[_0x271a95(0x19f)](),_0x271a95(0x212);}catch(_0x220353){console[_0x271a95(0x1a3)](_0x271a95(0x1f1),_0x220353);throw new common_1[(_0x271a95(0x1b7))](_0x271a95(0x1df),common_1[_0x271a95(0x222)]['BAD_REQUEST']);}}async[_0xc0b56(0x1f0)](){const _0x4b2458=_0xc0b56;return await this[_0x4b2458(0x23a)]([_0x4b2458(0x1d4),_0x4b2458(0x20b)]);}async[_0xc0b56(0x1d8)](){const _0x1452a1=_0xc0b56,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0,payLtzfStatus:payLtzfStatus=0x0}=await this[_0x1452a1(0x23a)]([_0x1452a1(0x1b9),_0x1452a1(0x1dc),_0x1452a1(0x1c5),_0x1452a1(0x179),'payLtzfStatus']);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus,payLtzfStatus][_0x1452a1(0x22f)](_0x229b91=>_0x229b91===0x0))throw new common_1[(_0x1452a1(0x1b7))](_0x1452a1(0x203),common_1[_0x1452a1(0x222)][_0x1452a1(0x22c)]);if(Number(payWechatStatus)===0x1)return _0x1452a1(0x194);if(Number(payEpayStatus)===0x1)return _0x1452a1(0x218);if(Number(payMpayStatus)===0x1)return _0x1452a1(0x1cc);if(Number(payHupiStatus)===0x1)return'hupi';if(Number(payLtzfStatus)===0x1)return'ltzf';}async[_0xc0b56(0x21a)](){const _0x3dedd6=_0xc0b56,{siteName:_0x159912,registerBaseUrl:_0x3c15e9,domain:_0x1c25f5}=await this['getConfigs'](['siteName',_0x3dedd6(0x171),_0x3dedd6(0x1b8)]);return{'siteName':_0x159912,'registerBaseUrl':_0x3c15e9,'domain':_0x1c25f5};}async[_0xc0b56(0x1fc)](){const _0x2bfe85=_0xc0b56,{phoneLoginStatus:_0xd832d,aliPhoneAccessKeyId:_0x519fe6,aliPhoneAccessKeySecret:_0x22e567,aliPhoneSignName:_0x6a5ae0,aliPhoneTemplateCode:_0x2d7e31}=await this[_0x2bfe85(0x23a)]([_0x2bfe85(0x183),_0x2bfe85(0x1e2),_0x2bfe85(0x1ea),_0x2bfe85(0x23f),_0x2bfe85(0x1d0)]);if(Number(_0xd832d)!==0x1)throw new common_1[(_0x2bfe85(0x1b7))](_0x2bfe85(0x189),common_1[_0x2bfe85(0x222)][_0x2bfe85(0x22c)]);return{'accessKeyId':_0x519fe6,'accessKeySecret':_0x22e567,'SignName':_0x6a5ae0,'TemplateCode':_0x2d7e31};}async['getEmailConfig'](){const _0x3f3c3b=_0xc0b56,_0x3b59f7=await this['getConfigs']([_0x3f3c3b(0x195),'emailPort',_0x3f3c3b(0x192),_0x3f3c3b(0x1c3)]);return _0x3b59f7;}['getNamespace'](){const _0x56c7d8=_0xc0b56;return process[_0x56c7d8(0x1d1)][_0x56c7d8(0x1a7)]||_0x56c7d8(0x1b3);}async[_0xc0b56(0x1fb)](){const _0x5c1454=_0xc0b56,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x5c1454(0x23a)](['signInStatus',_0x5c1454(0x199),_0x5c1454(0x18d),_0x5c1454(0x221)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x5c1454(0x1b7))](_0x5c1454(0x209),common_1[_0x5c1454(0x222)][_0x5c1454(0x22c)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async[_0xc0b56(0x1ba)](){const _0x1fbd84=_0xc0b56,_0x21d7f4='',_0x5f9ead=await fetch(_0x21d7f4,{}),_0x4d234f=await _0x5f9ead[_0x1fbd84(0x197)](),{success:success=!![],message:_0x36b243}=_0x4d234f;common_1[_0x1fbd84(0x1ca)][_0x1fbd84(0x1de)](_0x1fbd84(0x1e4));}async[_0xc0b56(0x214)](){const _0x51c0df=_0xc0b56,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x476dc5}=await this[_0x51c0df(0x23a)](['baiduTextStatus',_0x51c0df(0x1b0)]);if(Number(baiduTextStatus)===0x1)return{'useType':_0x51c0df(0x1f9),'baiduTextAccessToken':_0x476dc5};return null;}async[_0xc0b56(0x23d)](){const _0x53b630=_0xc0b56,_0x22326=[{'configKey':_0x53b630(0x220),'configVal':'60','public':0x0,'encrypt':0x0,'remark':_0x53b630(0x19a)}];for(const _0x4ebe68 of _0x22326){const _0x35cdd8=await this[_0x53b630(0x185)]['findOne']({'where':{'configKey':_0x4ebe68['configKey']}});!_0x35cdd8&&(await this[_0x53b630(0x185)][_0x53b630(0x1d7)](_0x4ebe68),this[_0x53b630(0x229)][_0x4ebe68[_0x53b630(0x180)]]=_0x4ebe68[_0x53b630(0x1cf)],common_1['Logger'][_0x53b630(0x1a3)]('已添加默认配置:\x20'+_0x4ebe68[_0x53b630(0x180)]+'='+_0x4ebe68['configVal'],'GlobalConfigService'));}}};function _0x5f52(_0x318d10,_0x1bc8a8){const _0x379172=_0x3791();return _0x5f52=function(_0x5f5290,_0x846e23){_0x5f5290=_0x5f5290-0x171;let _0x25a0b2=_0x379172[_0x5f5290];return _0x25a0b2;},_0x5f52(_0x318d10,_0x1bc8a8);}GlobalConfigService=__decorate([(0x0,common_1[_0xc0b56(0x240)])(),__param(0x0,(0x0,typeorm_1[_0xc0b56(0x23e)])(config_entity_1[_0xc0b56(0x1a6)])),__param(0x1,(0x0,typeorm_1[_0xc0b56(0x23e)])(chatLog_entity_1['ChatLogEntity'])),__metadata(_0xc0b56(0x1da),[typeorm_2[_0xc0b56(0x17e)],typeorm_2[_0xc0b56(0x17e)],models_service_1[_0xc0b56(0x1a4)]])],GlobalConfigService),exports['GlobalConfigService']=GlobalConfigService;
'use strict';const _0x5248be=_0x1439;(function(_0x7d5dcd,_0x1a6ef0){const _0x528e04=_0x1439,_0x63bfa2=_0x7d5dcd();while(!![]){try{const _0x294c6a=-parseInt(_0x528e04(0x132))/0x1+-parseInt(_0x528e04(0x115))/0x2+-parseInt(_0x528e04(0x13e))/0x3*(-parseInt(_0x528e04(0x130))/0x4)+-parseInt(_0x528e04(0x153))/0x5+parseInt(_0x528e04(0x117))/0x6*(-parseInt(_0x528e04(0x131))/0x7)+-parseInt(_0x528e04(0x140))/0x8+parseInt(_0x528e04(0x110))/0x9;if(_0x294c6a===_0x1a6ef0)break;else _0x63bfa2['push'](_0x63bfa2['shift']());}catch(_0x5d7b41){_0x63bfa2['push'](_0x63bfa2['shift']());}}}(_0x5d97,0xcabd9));var __decorate=this&&this[_0x5248be(0x12f)]||function(_0x356c1f,_0x26d9c5,_0x209554,_0x4d7c79){const _0x788c2e=_0x5248be;var _0x77f308=arguments[_0x788c2e(0x151)],_0x194568=_0x77f308<0x3?_0x26d9c5:_0x4d7c79===null?_0x4d7c79=Object[_0x788c2e(0x11f)](_0x26d9c5,_0x209554):_0x4d7c79,_0x164bf4;if(typeof Reflect===_0x788c2e(0x118)&&typeof Reflect[_0x788c2e(0x144)]===_0x788c2e(0x120))_0x194568=Reflect[_0x788c2e(0x144)](_0x356c1f,_0x26d9c5,_0x209554,_0x4d7c79);else{for(var _0x21a529=_0x356c1f[_0x788c2e(0x151)]-0x1;_0x21a529>=0x0;_0x21a529--)if(_0x164bf4=_0x356c1f[_0x21a529])_0x194568=(_0x77f308<0x3?_0x164bf4(_0x194568):_0x77f308>0x3?_0x164bf4(_0x26d9c5,_0x209554,_0x194568):_0x164bf4(_0x26d9c5,_0x209554))||_0x194568;}return _0x77f308>0x3&&_0x194568&&Object[_0x788c2e(0x12a)](_0x26d9c5,_0x209554,_0x194568),_0x194568;},__metadata=this&&this[_0x5248be(0x11b)]||function(_0x270ef2,_0x4982ed){const _0x886635=_0x5248be;if(typeof Reflect===_0x886635(0x118)&&typeof Reflect['metadata']===_0x886635(0x120))return Reflect['metadata'](_0x270ef2,_0x4982ed);},__param=this&&this['__param']||function(_0xc731bf,_0xed7045){return function(_0x21ea14,_0x5a5cce){_0xed7045(_0x21ea14,_0x5a5cce,_0xc731bf);};};function _0x1439(_0x1cc68e,_0x43a852){const _0x5d9703=_0x5d97();return _0x1439=function(_0x1439fd,_0xf162df){_0x1439fd=_0x1439fd-0x10f;let _0x13e265=_0x5d9703[_0x1439fd];return _0x13e265;},_0x1439(_0x1cc68e,_0x43a852);}function _0x5d97(){const _0x5ecb9f=['支持使用用户名/邮箱/手机号\x20+\x20密码进行登录','LoginWithCaptchaDto','verifyIdentity','Body','./dto/authLogin.dto','验证码发送成功、请填写验证码完成注册！','register','请求参数错误','322458CkQZsw','./auth.service','5595992TvDdGc','今日发送验证码次数已达上限，请24小时后再试！','@nestjs/common','authService','decorate','当前密码错误！','用户使用验证码登录','auth','JwtAuthGuard','Post','verifyPhoneIdentity','UserRegisterDto','用户不存在','请求过于频繁','请提供有效的邮箱地址或手机号码。','Req','登录成功，返回\x20JWT\x20token','length','UseGuards','2379805NfQcgk','number','用户注册','./dto/loginWithCaptcha.dto','发送验证码','loginWithCaptcha','updatePassword','用户登录','39210039zCiUKL','Not\x20Found','验证手机号','design:returntype','string','2592774aHFbYd','__esModule','126fWKXYu','object','AuthController','../../common/auth/jwtAuth.guard','__metadata','验证身份','使用手机号/邮箱\x20+\x20验证码进行登录。需要先调用发送验证码接口获取验证码。','ApiTags','getOwnPropertyDescriptor','function','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...','prototype','sendCode','ApiResponse','./dto/updatePassword.dto','验证码发送成功','Get','ApiBearerAuth','登录失败','defineProperty','ValidationPipe','@nestjs/swagger','login','design:paramtypes','__decorate','16jfzuYU','322343SdJfao','517314VmebER','ApiOperation','getInfo','design:type'];_0x5d97=function(){return _0x5ecb9f;};return _0x5d97();}Object[_0x5248be(0x12a)](exports,_0x5248be(0x116),{'value':!![]}),exports[_0x5248be(0x119)]=void 0x0;const jwtAuth_guard_1=require(_0x5248be(0x11a)),common_1=require(_0x5248be(0x142)),swagger_1=require(_0x5248be(0x12c)),auth_service_1=require(_0x5248be(0x13f)),authLogin_dto_1=require(_0x5248be(0x13a)),authRegister_dto_1=require('./dto/authRegister.dto'),updatePassword_dto_1=require(_0x5248be(0x125)),loginWithCaptcha_dto_1=require(_0x5248be(0x156)),sendCode_dto_1=require('./dto/sendCode.dto');let AuthController=class AuthController{constructor(_0x229143){const _0x4eeb2a=_0x5248be;this[_0x4eeb2a(0x143)]=_0x229143;}async['register'](_0x35c42a,_0x1d91c){const _0x4e6ba4=_0x5248be;return await this[_0x4e6ba4(0x143)][_0x4e6ba4(0x13c)](_0x35c42a,_0x1d91c);}async['login'](_0x1dfd98,_0x4bae81){const _0x4b4927=_0x5248be;return this[_0x4b4927(0x143)][_0x4b4927(0x12d)](_0x1dfd98,_0x4bae81);}async[_0x5248be(0x158)](_0xe68b93,_0x46072b){const _0x51a289=_0x5248be;return this[_0x51a289(0x143)]['loginWithCaptcha'](_0xe68b93,_0x46072b);}async[_0x5248be(0x159)](_0x2c30cb,_0x3a08cc){const _0x19644c=_0x5248be;return this[_0x19644c(0x143)][_0x19644c(0x159)](_0x2c30cb,_0x3a08cc);}async[_0x5248be(0x134)](_0x13d22c){const _0x2f6c25=_0x5248be;return this['authService'][_0x2f6c25(0x134)](_0x13d22c);}async[_0x5248be(0x123)](_0x3ee01a){const _0x502ad5=_0x5248be;return await this[_0x502ad5(0x143)]['sendCode'](_0x3ee01a);}async[_0x5248be(0x138)](_0x34f49b,_0x474941){const _0x14197c=_0x5248be;return this['authService'][_0x14197c(0x138)](_0x34f49b,_0x474941);}async[_0x5248be(0x14a)](_0x2c4fbc,_0x17e43f){const _0x2eb809=_0x5248be;return this[_0x2eb809(0x143)][_0x2eb809(0x14a)](_0x2c4fbc,_0x17e43f);}};__decorate([(0x0,common_1[_0x5248be(0x149)])(_0x5248be(0x13c)),(0x0,swagger_1[_0x5248be(0x133)])({'summary':_0x5248be(0x155)}),__param(0x0,(0x0,common_1['Body'])(new common_1[(_0x5248be(0x12b))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x5248be(0x14f)])()),__metadata('design:type',Function),__metadata(_0x5248be(0x12e),[authRegister_dto_1[_0x5248be(0x14b)],Object]),__metadata('design:returntype',Promise)],AuthController['prototype'],_0x5248be(0x13c),null),__decorate([(0x0,common_1[_0x5248be(0x149)])(_0x5248be(0x12d)),(0x0,swagger_1[_0x5248be(0x133)])({'summary':_0x5248be(0x10f),'description':_0x5248be(0x136)}),(0x0,swagger_1[_0x5248be(0x124)])({'status':0xc8,'description':_0x5248be(0x150),'schema':{'type':_0x5248be(0x114),'example':_0x5248be(0x121)}}),(0x0,swagger_1['ApiResponse'])({'status':0x190,'description':_0x5248be(0x129),'schema':{'type':_0x5248be(0x118),'properties':{'statusCode':{'type':_0x5248be(0x154),'example':0x190},'message':{'type':_0x5248be(0x114),'example':_0x5248be(0x145)},'error':{'type':_0x5248be(0x114),'example':'Bad\x20Request'}}}}),__param(0x0,(0x0,common_1[_0x5248be(0x139)])(new common_1['ValidationPipe']({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x5248be(0x14f)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[authLogin_dto_1['UserLoginDto'],Object]),__metadata(_0x5248be(0x113),Promise)],AuthController[_0x5248be(0x122)],'login',null),__decorate([(0x0,common_1[_0x5248be(0x149)])(_0x5248be(0x158)),(0x0,swagger_1[_0x5248be(0x133)])({'summary':_0x5248be(0x146),'description':_0x5248be(0x11d)}),(0x0,swagger_1[_0x5248be(0x124)])({'status':0xc8,'description':_0x5248be(0x150),'schema':{'type':_0x5248be(0x114),'example':_0x5248be(0x121)}}),(0x0,swagger_1[_0x5248be(0x124)])({'status':0x190,'description':_0x5248be(0x13d),'schema':{'type':'object','properties':{'statusCode':{'type':_0x5248be(0x154),'example':0x190},'message':{'type':_0x5248be(0x114),'example':'验证码已过期，请重新发送！'},'error':{'type':_0x5248be(0x114),'example':'Bad\x20Request'}}}}),(0x0,swagger_1['ApiResponse'])({'status':0x194,'description':_0x5248be(0x14c),'schema':{'type':'object','properties':{'statusCode':{'type':_0x5248be(0x154),'example':0x194},'message':{'type':'string','example':'用户不存在，请先注册！'},'error':{'type':_0x5248be(0x114),'example':_0x5248be(0x111)}}}}),__param(0x0,(0x0,common_1[_0x5248be(0x139)])(new common_1[(_0x5248be(0x12b))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x5248be(0x14f)])()),__metadata(_0x5248be(0x135),Function),__metadata(_0x5248be(0x12e),[loginWithCaptcha_dto_1[_0x5248be(0x137)],Object]),__metadata(_0x5248be(0x113),Promise)],AuthController[_0x5248be(0x122)],_0x5248be(0x158),null),__decorate([(0x0,common_1[_0x5248be(0x149)])(_0x5248be(0x159)),(0x0,swagger_1[_0x5248be(0x133)])({'summary':'用户更改密码'}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x5248be(0x148)]),(0x0,swagger_1[_0x5248be(0x128)])(),__param(0x0,(0x0,common_1[_0x5248be(0x14f)])()),__param(0x1,(0x0,common_1[_0x5248be(0x139)])(new common_1[(_0x5248be(0x12b))]({'transform':!![]}))),__metadata('design:type',Function),__metadata(_0x5248be(0x12e),[Object,updatePassword_dto_1['UpdatePasswordDto']]),__metadata(_0x5248be(0x113),Promise)],AuthController[_0x5248be(0x122)],_0x5248be(0x159),null),__decorate([(0x0,common_1[_0x5248be(0x127)])('getInfo'),(0x0,swagger_1[_0x5248be(0x133)])({'summary':'获取用户个人信息'}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x5248be(0x148)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(_0x5248be(0x113),Promise)],AuthController[_0x5248be(0x122)],'getInfo',null),__decorate([(0x0,common_1[_0x5248be(0x149)])(_0x5248be(0x123)),(0x0,swagger_1['ApiOperation'])({'summary':_0x5248be(0x157),'description':'\x0a发送验证码到指定的邮箱或手机号。\x0a\x0a###\x20频率限制\x0a-\x20同一邮箱/手机号60秒内只能发送一次验证码\x0a-\x20每个邮箱/手机号每天最多发送10次\x0a-\x20验证码有效期为5分钟\x0a\x0a###\x20使用场景\x0a-\x20注册验证：isLogin\x20=\x20false\x0a-\x20登录验证：isLogin\x20=\x20true\x0a\x0a###\x20注意事项\x0a-\x20手机号格式：11位数字，以1开头\x0a-\x20邮箱格式：标准邮箱格式（example@domain.com）\x0a-\x20如果是登录场景，系统会检查该手机号/邮箱是否已注册\x0a\x20\x20\x20\x20'}),(0x0,swagger_1[_0x5248be(0x124)])({'status':0xc8,'description':_0x5248be(0x126),'schema':{'example':_0x5248be(0x13b)}}),(0x0,swagger_1[_0x5248be(0x124)])({'status':0x190,'description':_0x5248be(0x13d),'schema':{'example':{'statusCode':0x190,'message':_0x5248be(0x14e)}}}),(0x0,swagger_1['ApiResponse'])({'status':0x1ad,'description':_0x5248be(0x14d),'schema':{'example':{'statusCode':0x1ad,'message':_0x5248be(0x141)}}}),__param(0x0,(0x0,common_1[_0x5248be(0x139)])(new common_1['ValidationPipe']({'transform':!![]}))),__metadata('design:type',Function),__metadata('design:paramtypes',[sendCode_dto_1['SendCodeDto']]),__metadata(_0x5248be(0x113),Promise)],AuthController['prototype'],'sendCode',null),__decorate([(0x0,common_1[_0x5248be(0x149)])(_0x5248be(0x138)),(0x0,swagger_1[_0x5248be(0x133)])({'summary':_0x5248be(0x11c)}),(0x0,common_1[_0x5248be(0x152)])(jwtAuth_guard_1[_0x5248be(0x148)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x5248be(0x14f)])()),__param(0x1,(0x0,common_1[_0x5248be(0x139)])(new common_1['ValidationPipe']({'transform':!![]}))),__metadata(_0x5248be(0x135),Function),__metadata(_0x5248be(0x12e),[Object,Object]),__metadata(_0x5248be(0x113),Promise)],AuthController[_0x5248be(0x122)],_0x5248be(0x138),null),__decorate([(0x0,common_1[_0x5248be(0x149)])('verifyPhoneIdentity'),(0x0,swagger_1[_0x5248be(0x133)])({'summary':_0x5248be(0x112)}),(0x0,common_1[_0x5248be(0x152)])(jwtAuth_guard_1[_0x5248be(0x148)]),(0x0,swagger_1[_0x5248be(0x128)])(),__param(0x0,(0x0,common_1[_0x5248be(0x14f)])()),__param(0x1,(0x0,common_1[_0x5248be(0x139)])(new common_1[(_0x5248be(0x12b))]({'transform':!![]}))),__metadata(_0x5248be(0x135),Function),__metadata(_0x5248be(0x12e),[Object,Object]),__metadata(_0x5248be(0x113),Promise)],AuthController[_0x5248be(0x122)],_0x5248be(0x14a),null),AuthController=__decorate([(0x0,swagger_1[_0x5248be(0x11e)])(_0x5248be(0x147)),(0x0,common_1['Controller'])(_0x5248be(0x147)),__metadata('design:paramtypes',[auth_service_1['AuthService']])],AuthController),exports[_0x5248be(0x119)]=AuthController;
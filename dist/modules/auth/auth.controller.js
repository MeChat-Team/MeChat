'use strict';const _0x170f6=_0x25b1;(function(_0x50399c,_0xd9f9c6){const _0xc2006e=_0x25b1,_0x2c73cf=_0x50399c();while(!![]){try{const _0x529240=parseInt(_0xc2006e(0xb3))/0x1*(parseInt(_0xc2006e(0x71))/0x2)+-parseInt(_0xc2006e(0xad))/0x3*(-parseInt(_0xc2006e(0x97))/0x4)+-parseInt(_0xc2006e(0xaa))/0x5*(parseInt(_0xc2006e(0x6c))/0x6)+-parseInt(_0xc2006e(0xb9))/0x7+-parseInt(_0xc2006e(0xb0))/0x8*(parseInt(_0xc2006e(0x8a))/0x9)+-parseInt(_0xc2006e(0xae))/0xa+-parseInt(_0xc2006e(0x74))/0xb*(-parseInt(_0xc2006e(0xb1))/0xc);if(_0x529240===_0xd9f9c6)break;else _0x2c73cf['push'](_0x2c73cf['shift']());}catch(_0x31bdff){_0x2c73cf['push'](_0x2c73cf['shift']());}}}(_0x49e1,0x4911f));var __decorate=this&&this['__decorate']||function(_0x27b7ef,_0x1d7443,_0x27ffda,_0x4d8957){const _0x5e088a=_0x25b1;var _0x11aa4c=arguments[_0x5e088a(0x79)],_0x224be8=_0x11aa4c<0x3?_0x1d7443:_0x4d8957===null?_0x4d8957=Object['getOwnPropertyDescriptor'](_0x1d7443,_0x27ffda):_0x4d8957,_0xa69f0;if(typeof Reflect===_0x5e088a(0xa7)&&typeof Reflect[_0x5e088a(0x84)]==='function')_0x224be8=Reflect['decorate'](_0x27b7ef,_0x1d7443,_0x27ffda,_0x4d8957);else{for(var _0x362aac=_0x27b7ef[_0x5e088a(0x79)]-0x1;_0x362aac>=0x0;_0x362aac--)if(_0xa69f0=_0x27b7ef[_0x362aac])_0x224be8=(_0x11aa4c<0x3?_0xa69f0(_0x224be8):_0x11aa4c>0x3?_0xa69f0(_0x1d7443,_0x27ffda,_0x224be8):_0xa69f0(_0x1d7443,_0x27ffda))||_0x224be8;}return _0x11aa4c>0x3&&_0x224be8&&Object[_0x5e088a(0xa3)](_0x1d7443,_0x27ffda,_0x224be8),_0x224be8;},__metadata=this&&this[_0x170f6(0x88)]||function(_0x2fa57b,_0x5c8ee2){const _0x231c8f=_0x170f6;if(typeof Reflect===_0x231c8f(0xa7)&&typeof Reflect[_0x231c8f(0xa2)]===_0x231c8f(0x7a))return Reflect[_0x231c8f(0xa2)](_0x2fa57b,_0x5c8ee2);},__param=this&&this[_0x170f6(0x8c)]||function(_0x3cf728,_0x102b70){return function(_0x5bb547,_0xeef95a){_0x102b70(_0x5bb547,_0xeef95a,_0x3cf728);};};Object[_0x170f6(0xa3)](exports,_0x170f6(0x83),{'value':!![]}),exports['AuthController']=void 0x0;function _0x25b1(_0x3aadb9,_0x14fed0){const _0x49e18e=_0x49e1();return _0x25b1=function(_0x25b163,_0x5348f3){_0x25b163=_0x25b163-0x6c;let _0x88ad42=_0x49e18e[_0x25b163];return _0x88ad42;},_0x25b1(_0x3aadb9,_0x14fed0);}const jwtAuth_guard_1=require(_0x170f6(0x8d)),common_1=require(_0x170f6(0x72)),swagger_1=require(_0x170f6(0x98)),auth_service_1=require(_0x170f6(0x9e)),authLogin_dto_1=require(_0x170f6(0x9b)),authRegister_dto_1=require(_0x170f6(0x8f)),updatePassword_dto_1=require('./dto/updatePassword.dto'),loginWithCaptcha_dto_1=require('./dto/loginWithCaptcha.dto'),sendCode_dto_1=require(_0x170f6(0xa6));let AuthController=class AuthController{constructor(_0x3b81dc){const _0x2dd108=_0x170f6;this[_0x2dd108(0x93)]=_0x3b81dc;}async[_0x170f6(0xa0)](_0xacb7f1,_0x1cc969){const _0x2d870a=_0x170f6;return await this['authService'][_0x2d870a(0xa0)](_0xacb7f1,_0x1cc969);}async['login'](_0x495f92,_0x3fca33){const _0x23d1f4=_0x170f6;return this[_0x23d1f4(0x93)][_0x23d1f4(0x95)](_0x495f92,_0x3fca33);}async[_0x170f6(0xa4)](_0x4e2b87,_0x378aa3){const _0x21df95=_0x170f6;return this['authService'][_0x21df95(0xa4)](_0x4e2b87,_0x378aa3);}async[_0x170f6(0x7c)](_0x5b4dca,_0x38f6a0){const _0x25a9bb=_0x170f6;return this[_0x25a9bb(0x93)]['updatePassword'](_0x5b4dca,_0x38f6a0);}async['getInfo'](_0x42c286){const _0x32710d=_0x170f6;return this[_0x32710d(0x93)][_0x32710d(0x9c)](_0x42c286);}async[_0x170f6(0x89)](_0x523830){const _0x21b63e=_0x170f6;return await this[_0x21b63e(0x93)][_0x21b63e(0x89)](_0x523830);}async[_0x170f6(0x9a)](_0x42c1e8,_0x3e58aa){const _0x58019b=_0x170f6;return this[_0x58019b(0x93)][_0x58019b(0x9a)](_0x42c1e8,_0x3e58aa);}async[_0x170f6(0x90)](_0x3c891b,_0x1d9b8f){const _0x29b360=_0x170f6;return this['authService'][_0x29b360(0x90)](_0x3c891b,_0x1d9b8f);}};function _0x49e1(){const _0x242431=['请求参数错误','1681176MGDrVC','@nestjs/swagger','UpdatePasswordDto','verifyIdentity','./dto/authLogin.dto','getInfo','使用手机号/邮箱\x20+\x20验证码进行登录。需要先调用发送验证码接口获取验证码。','./auth.service','prototype','register','今日发送验证码次数已达上限，请24小时后再试！','metadata','defineProperty','loginWithCaptcha','用户不存在','./dto/sendCode.dto','object','UseGuards','用户更改密码','50jEUJhn','\x0a发送验证码到指定的邮箱或手机号。\x0a\x0a###\x20频率限制\x0a-\x20同一邮箱/手机号60秒内只能发送一次验证码\x0a-\x20每个邮箱/手机号每天最多发送10次\x0a-\x20验证码有效期为5分钟\x0a\x0a###\x20使用场景\x0a-\x20注册验证：isLogin\x20=\x20false\x0a-\x20登录验证：isLogin\x20=\x20true\x0a\x0a###\x20注意事项\x0a-\x20手机号格式：11位数字，以1开头\x0a-\x20邮箱格式：标准邮箱格式（example@domain.com）\x0a-\x20如果是登录场景，系统会检查该手机号/邮箱是否已注册\x0a\x20\x20\x20\x20','验证码发送成功','3NsYepT','641100GDgxMd','UserRegisterDto','1672ozAHBB','10416936HxGrIU','登录成功，返回\x20JWT\x20token','318095eTZIad','验证身份','ApiBearerAuth','请求过于频繁','number','Req','926835BdGhjx','支持使用用户名/邮箱/手机号\x20+\x20密码进行登录','336216fXawLs','Post','用户使用验证码登录','Body','ApiOperation','2VByMVs','@nestjs/common','SendCodeDto','11PqHYAx','design:paramtypes','用户不存在，请先注册！','获取用户个人信息','当前密码错误！','length','function','请提供有效的邮箱地址或手机号码。','updatePassword','design:type','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...','design:returntype','JwtAuthGuard','Controller','auth','__esModule','decorate','ApiTags','验证手机号','用户注册','__metadata','sendCode','23697FuBTnv','ValidationPipe','__param','../../common/auth/jwtAuth.guard','ApiResponse','./dto/authRegister.dto','verifyPhoneIdentity','发送验证码','string','authService','Not\x20Found','login'];_0x49e1=function(){return _0x242431;};return _0x49e1();}__decorate([(0x0,common_1[_0x170f6(0x6d)])('register'),(0x0,swagger_1[_0x170f6(0x70)])({'summary':_0x170f6(0x87)}),__param(0x0,(0x0,common_1[_0x170f6(0x6f)])(new common_1[(_0x170f6(0x8b))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x170f6(0xb8)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[authRegister_dto_1[_0x170f6(0xaf)],Object]),__metadata(_0x170f6(0x7f),Promise)],AuthController[_0x170f6(0x9f)],_0x170f6(0xa0),null),__decorate([(0x0,common_1[_0x170f6(0x6d)])(_0x170f6(0x95)),(0x0,swagger_1[_0x170f6(0x70)])({'summary':'用户登录','description':_0x170f6(0xba)}),(0x0,swagger_1[_0x170f6(0x8e)])({'status':0xc8,'description':_0x170f6(0xb2),'schema':{'type':_0x170f6(0x92),'example':_0x170f6(0x7e)}}),(0x0,swagger_1[_0x170f6(0x8e)])({'status':0x190,'description':'登录失败','schema':{'type':'object','properties':{'statusCode':{'type':'number','example':0x190},'message':{'type':_0x170f6(0x92),'example':_0x170f6(0x78)},'error':{'type':_0x170f6(0x92),'example':'Bad\x20Request'}}}}),__param(0x0,(0x0,common_1[_0x170f6(0x6f)])(new common_1['ValidationPipe']({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x170f6(0xb8)])()),__metadata('design:type',Function),__metadata(_0x170f6(0x75),[authLogin_dto_1['UserLoginDto'],Object]),__metadata(_0x170f6(0x7f),Promise)],AuthController['prototype'],_0x170f6(0x95),null),__decorate([(0x0,common_1[_0x170f6(0x6d)])(_0x170f6(0xa4)),(0x0,swagger_1[_0x170f6(0x70)])({'summary':_0x170f6(0x6e),'description':_0x170f6(0x9d)}),(0x0,swagger_1[_0x170f6(0x8e)])({'status':0xc8,'description':'登录成功，返回\x20JWT\x20token','schema':{'type':'string','example':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'}}),(0x0,swagger_1[_0x170f6(0x8e)])({'status':0x190,'description':_0x170f6(0x96),'schema':{'type':_0x170f6(0xa7),'properties':{'statusCode':{'type':_0x170f6(0xb7),'example':0x190},'message':{'type':_0x170f6(0x92),'example':'验证码已过期，请重新发送！'},'error':{'type':_0x170f6(0x92),'example':'Bad\x20Request'}}}}),(0x0,swagger_1[_0x170f6(0x8e)])({'status':0x194,'description':_0x170f6(0xa5),'schema':{'type':_0x170f6(0xa7),'properties':{'statusCode':{'type':_0x170f6(0xb7),'example':0x194},'message':{'type':_0x170f6(0x92),'example':_0x170f6(0x76)},'error':{'type':_0x170f6(0x92),'example':_0x170f6(0x94)}}}}),__param(0x0,(0x0,common_1[_0x170f6(0x6f)])(new common_1[(_0x170f6(0x8b))]({'transform':!![]}))),__param(0x1,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata('design:paramtypes',[loginWithCaptcha_dto_1['LoginWithCaptchaDto'],Object]),__metadata('design:returntype',Promise)],AuthController[_0x170f6(0x9f)],_0x170f6(0xa4),null),__decorate([(0x0,common_1[_0x170f6(0x6d)])('updatePassword'),(0x0,swagger_1[_0x170f6(0x70)])({'summary':_0x170f6(0xa9)}),(0x0,common_1[_0x170f6(0xa8)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x170f6(0xb5)])(),__param(0x0,(0x0,common_1[_0x170f6(0xb8)])()),__param(0x1,(0x0,common_1[_0x170f6(0x6f)])(new common_1[(_0x170f6(0x8b))]({'transform':!![]}))),__metadata(_0x170f6(0x7d),Function),__metadata(_0x170f6(0x75),[Object,updatePassword_dto_1[_0x170f6(0x99)]]),__metadata(_0x170f6(0x7f),Promise)],AuthController['prototype'],_0x170f6(0x7c),null),__decorate([(0x0,common_1['Get'])(_0x170f6(0x9c)),(0x0,swagger_1['ApiOperation'])({'summary':_0x170f6(0x77)}),(0x0,common_1[_0x170f6(0xa8)])(jwtAuth_guard_1[_0x170f6(0x80)]),(0x0,swagger_1[_0x170f6(0xb5)])(),__param(0x0,(0x0,common_1['Req'])()),__metadata(_0x170f6(0x7d),Function),__metadata(_0x170f6(0x75),[Object]),__metadata(_0x170f6(0x7f),Promise)],AuthController[_0x170f6(0x9f)],_0x170f6(0x9c),null),__decorate([(0x0,common_1['Post'])(_0x170f6(0x89)),(0x0,swagger_1[_0x170f6(0x70)])({'summary':_0x170f6(0x91),'description':_0x170f6(0xab)}),(0x0,swagger_1[_0x170f6(0x8e)])({'status':0xc8,'description':_0x170f6(0xac),'schema':{'example':'验证码发送成功、请填写验证码完成注册！'}}),(0x0,swagger_1['ApiResponse'])({'status':0x190,'description':_0x170f6(0x96),'schema':{'example':{'statusCode':0x190,'message':_0x170f6(0x7b)}}}),(0x0,swagger_1['ApiResponse'])({'status':0x1ad,'description':_0x170f6(0xb6),'schema':{'example':{'statusCode':0x1ad,'message':_0x170f6(0xa1)}}}),__param(0x0,(0x0,common_1[_0x170f6(0x6f)])(new common_1[(_0x170f6(0x8b))]({'transform':!![]}))),__metadata(_0x170f6(0x7d),Function),__metadata('design:paramtypes',[sendCode_dto_1[_0x170f6(0x73)]]),__metadata(_0x170f6(0x7f),Promise)],AuthController[_0x170f6(0x9f)],'sendCode',null),__decorate([(0x0,common_1['Post'])(_0x170f6(0x9a)),(0x0,swagger_1[_0x170f6(0x70)])({'summary':_0x170f6(0xb4)}),(0x0,common_1[_0x170f6(0xa8)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x170f6(0xb5)])(),__param(0x0,(0x0,common_1[_0x170f6(0xb8)])()),__param(0x1,(0x0,common_1[_0x170f6(0x6f)])(new common_1[(_0x170f6(0x8b))]({'transform':!![]}))),__metadata('design:type',Function),__metadata(_0x170f6(0x75),[Object,Object]),__metadata(_0x170f6(0x7f),Promise)],AuthController[_0x170f6(0x9f)],_0x170f6(0x9a),null),__decorate([(0x0,common_1['Post'])('verifyPhoneIdentity'),(0x0,swagger_1[_0x170f6(0x70)])({'summary':_0x170f6(0x86)}),(0x0,common_1[_0x170f6(0xa8)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x170f6(0xb5)])(),__param(0x0,(0x0,common_1[_0x170f6(0xb8)])()),__param(0x1,(0x0,common_1[_0x170f6(0x6f)])(new common_1[(_0x170f6(0x8b))]({'transform':!![]}))),__metadata(_0x170f6(0x7d),Function),__metadata(_0x170f6(0x75),[Object,Object]),__metadata('design:returntype',Promise)],AuthController[_0x170f6(0x9f)],_0x170f6(0x90),null),AuthController=__decorate([(0x0,swagger_1[_0x170f6(0x85)])(_0x170f6(0x82)),(0x0,common_1[_0x170f6(0x81)])(_0x170f6(0x82)),__metadata(_0x170f6(0x75),[auth_service_1['AuthService']])],AuthController),exports['AuthController']=AuthController;
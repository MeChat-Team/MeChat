'use strict';function _0xc8dd(){const _0x5472c4=['请求过于频繁','ApiResponse','verifyPhoneIdentity','./auth.service','number','ApiOperation','verifyIdentity','验证手机号','__metadata','UseGuards','__esModule','./dto/sendCode.dto','今日发送验证码次数已达上限，请24小时后再试！','getOwnPropertyDescriptor','用户不存在，请先注册！','4DgKXzK','ApiBearerAuth','支持使用用户名/邮箱/手机号\x20+\x20密码进行登录','1703051lAAbga','用户不存在','AuthController','@nestjs/swagger','getInfo','LoginWithCaptchaDto','验证码发送成功','10855648BaLbdZ','JwtAuthGuard','loginWithCaptcha','1090WcMyJl','design:type','SendCodeDto','./dto/authRegister.dto','UpdatePasswordDto','375546myRlCt','4649025moCnho','用户登录','register','验证码已过期，请重新发送！','Not\x20Found','登录成功，返回\x20JWT\x20token','authService','登录失败','login','使用手机号/邮箱\x20+\x20验证码进行登录。需要先调用发送验证码接口获取验证码。','../../common/auth/jwtAuth.guard','design:paramtypes','defineProperty','请提供有效的邮箱地址或手机号码。','157971Gsaudq','updatePassword','__param','请求参数错误','object','decorate','5130250QZsbqe','sendCode','function','length','./dto/loginWithCaptcha.dto','AuthService','metadata','Bad\x20Request','用户更改密码','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...','Req','Get','__decorate','当前密码错误！','\x0a发送验证码到指定的邮箱或手机号。\x0a\x0a###\x20频率限制\x0a-\x20同一邮箱/手机号60秒内只能发送一次验证码\x0a-\x20每个邮箱/手机号每天最多发送10次\x0a-\x20验证码有效期为5分钟\x0a\x0a###\x20使用场景\x0a-\x20注册验证：isLogin\x20=\x20false\x0a-\x20登录验证：isLogin\x20=\x20true\x0a\x0a###\x20注意事项\x0a-\x20手机号格式：11位数字，以1开头\x0a-\x20邮箱格式：标准邮箱格式（example@domain.com）\x0a-\x20如果是登录场景，系统会检查该手机号/邮箱是否已注册\x0a\x20\x20\x20\x20','Post','2fESKwd','12793563GvCwir','发送验证码','用户使用验证码登录','ApiTags','验证码发送成功、请填写验证码完成注册！','验证身份','用户注册','prototype','design:returntype','string','./dto/authLogin.dto','Body','ValidationPipe','auth','@nestjs/common','6qvfQPK','UserLoginDto'];_0xc8dd=function(){return _0x5472c4;};return _0xc8dd();}const _0x43e868=_0xf28d;(function(_0x25a9d8,_0x89f6cd){const _0x9e4b4=_0xf28d,_0x312b36=_0x25a9d8();while(!![]){try{const _0xb1005b=-parseInt(_0x9e4b4(0x19b))/0x1+-parseInt(_0x9e4b4(0x168))/0x2*(-parseInt(_0x9e4b4(0x19c))/0x3)+-parseInt(_0x9e4b4(0x189))/0x4*(-parseInt(_0x9e4b4(0x158))/0x5)+parseInt(_0x9e4b4(0x178))/0x6*(parseInt(_0x9e4b4(0x18c))/0x7)+-parseInt(_0x9e4b4(0x193))/0x8+parseInt(_0x9e4b4(0x169))/0x9+parseInt(_0x9e4b4(0x196))/0xa*(-parseInt(_0x9e4b4(0x1aa))/0xb);if(_0xb1005b===_0x89f6cd)break;else _0x312b36['push'](_0x312b36['shift']());}catch(_0x20ce43){_0x312b36['push'](_0x312b36['shift']());}}}(_0xc8dd,0xe6252));var __decorate=this&&this[_0x43e868(0x164)]||function(_0x4c3bb8,_0xa1960f,_0x2696be,_0x1752f1){const _0x344014=_0x43e868;var _0x62e623=arguments[_0x344014(0x15b)],_0x2c9376=_0x62e623<0x3?_0xa1960f:_0x1752f1===null?_0x1752f1=Object[_0x344014(0x187)](_0xa1960f,_0x2696be):_0x1752f1,_0x1ca73d;if(typeof Reflect===_0x344014(0x156)&&typeof Reflect[_0x344014(0x157)]===_0x344014(0x15a))_0x2c9376=Reflect[_0x344014(0x157)](_0x4c3bb8,_0xa1960f,_0x2696be,_0x1752f1);else{for(var _0x55f47f=_0x4c3bb8[_0x344014(0x15b)]-0x1;_0x55f47f>=0x0;_0x55f47f--)if(_0x1ca73d=_0x4c3bb8[_0x55f47f])_0x2c9376=(_0x62e623<0x3?_0x1ca73d(_0x2c9376):_0x62e623>0x3?_0x1ca73d(_0xa1960f,_0x2696be,_0x2c9376):_0x1ca73d(_0xa1960f,_0x2696be))||_0x2c9376;}return _0x62e623>0x3&&_0x2c9376&&Object[_0x344014(0x1a8)](_0xa1960f,_0x2696be,_0x2c9376),_0x2c9376;},__metadata=this&&this[_0x43e868(0x182)]||function(_0x370eac,_0x52dae8){const _0x3b5031=_0x43e868;if(typeof Reflect==='object'&&typeof Reflect[_0x3b5031(0x15e)]===_0x3b5031(0x15a))return Reflect[_0x3b5031(0x15e)](_0x370eac,_0x52dae8);},__param=this&&this[_0x43e868(0x1ac)]||function(_0x36089f,_0x3503ac){return function(_0x36b111,_0x20754b){_0x3503ac(_0x36b111,_0x20754b,_0x36089f);};};function _0xf28d(_0xbda5a5,_0x26876b){const _0xc8dd7e=_0xc8dd();return _0xf28d=function(_0xf28df7,_0x308e97){_0xf28df7=_0xf28df7-0x156;let _0x159156=_0xc8dd7e[_0xf28df7];return _0x159156;},_0xf28d(_0xbda5a5,_0x26876b);}Object[_0x43e868(0x1a8)](exports,_0x43e868(0x184),{'value':!![]}),exports[_0x43e868(0x18e)]=void 0x0;const jwtAuth_guard_1=require(_0x43e868(0x1a6)),common_1=require(_0x43e868(0x177)),swagger_1=require(_0x43e868(0x18f)),auth_service_1=require(_0x43e868(0x17d)),authLogin_dto_1=require(_0x43e868(0x173)),authRegister_dto_1=require(_0x43e868(0x199)),updatePassword_dto_1=require('./dto/updatePassword.dto'),loginWithCaptcha_dto_1=require(_0x43e868(0x15c)),sendCode_dto_1=require(_0x43e868(0x185));let AuthController=class AuthController{constructor(_0x581be3){const _0x2ca12e=_0x43e868;this[_0x2ca12e(0x1a2)]=_0x581be3;}async[_0x43e868(0x19e)](_0x4671f3,_0x51e9ff){const _0x4229de=_0x43e868;return await this[_0x4229de(0x1a2)][_0x4229de(0x19e)](_0x4671f3,_0x51e9ff);}async['login'](_0x253232,_0x225a0a){const _0x1af504=_0x43e868;return this[_0x1af504(0x1a2)][_0x1af504(0x1a4)](_0x253232,_0x225a0a);}async['loginWithCaptcha'](_0x125f66,_0x2dfaf7){const _0x32b6ad=_0x43e868;return this[_0x32b6ad(0x1a2)][_0x32b6ad(0x195)](_0x125f66,_0x2dfaf7);}async['updatePassword'](_0x52df41,_0xce2417){const _0x3a954e=_0x43e868;return this[_0x3a954e(0x1a2)][_0x3a954e(0x1ab)](_0x52df41,_0xce2417);}async['getInfo'](_0x183598){const _0x444cf2=_0x43e868;return this['authService'][_0x444cf2(0x190)](_0x183598);}async[_0x43e868(0x159)](_0x47b23d){const _0x572898=_0x43e868;return await this[_0x572898(0x1a2)]['sendCode'](_0x47b23d);}async['verifyIdentity'](_0x3f5e76,_0x24b53a){const _0x19ecee=_0x43e868;return this[_0x19ecee(0x1a2)][_0x19ecee(0x180)](_0x3f5e76,_0x24b53a);}async[_0x43e868(0x17c)](_0x373f62,_0xc7eabd){const _0x24f42c=_0x43e868;return this['authService'][_0x24f42c(0x17c)](_0x373f62,_0xc7eabd);}};__decorate([(0x0,common_1['Post'])(_0x43e868(0x19e)),(0x0,swagger_1[_0x43e868(0x17f)])({'summary':_0x43e868(0x16f)}),__param(0x0,(0x0,common_1['Body'])(new common_1['ValidationPipe']({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x43e868(0x162)])()),__metadata(_0x43e868(0x197),Function),__metadata(_0x43e868(0x1a7),[authRegister_dto_1['UserRegisterDto'],Object]),__metadata(_0x43e868(0x171),Promise)],AuthController[_0x43e868(0x170)],_0x43e868(0x19e),null),__decorate([(0x0,common_1[_0x43e868(0x167)])('login'),(0x0,swagger_1[_0x43e868(0x17f)])({'summary':_0x43e868(0x19d),'description':_0x43e868(0x18b)}),(0x0,swagger_1['ApiResponse'])({'status':0xc8,'description':'登录成功，返回\x20JWT\x20token','schema':{'type':'string','example':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'}}),(0x0,swagger_1[_0x43e868(0x17b)])({'status':0x190,'description':_0x43e868(0x1a3),'schema':{'type':_0x43e868(0x156),'properties':{'statusCode':{'type':'number','example':0x190},'message':{'type':'string','example':_0x43e868(0x165)},'error':{'type':'string','example':_0x43e868(0x15f)}}}}),__param(0x0,(0x0,common_1['Body'])(new common_1[(_0x43e868(0x175))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x43e868(0x162)])()),__metadata(_0x43e868(0x197),Function),__metadata(_0x43e868(0x1a7),[authLogin_dto_1[_0x43e868(0x179)],Object]),__metadata('design:returntype',Promise)],AuthController[_0x43e868(0x170)],_0x43e868(0x1a4),null),__decorate([(0x0,common_1['Post'])(_0x43e868(0x195)),(0x0,swagger_1['ApiOperation'])({'summary':_0x43e868(0x16b),'description':_0x43e868(0x1a5)}),(0x0,swagger_1[_0x43e868(0x17b)])({'status':0xc8,'description':_0x43e868(0x1a1),'schema':{'type':_0x43e868(0x172),'example':_0x43e868(0x161)}}),(0x0,swagger_1[_0x43e868(0x17b)])({'status':0x190,'description':'请求参数错误','schema':{'type':_0x43e868(0x156),'properties':{'statusCode':{'type':_0x43e868(0x17e),'example':0x190},'message':{'type':_0x43e868(0x172),'example':_0x43e868(0x19f)},'error':{'type':'string','example':_0x43e868(0x15f)}}}}),(0x0,swagger_1[_0x43e868(0x17b)])({'status':0x194,'description':_0x43e868(0x18d),'schema':{'type':'object','properties':{'statusCode':{'type':_0x43e868(0x17e),'example':0x194},'message':{'type':_0x43e868(0x172),'example':_0x43e868(0x188)},'error':{'type':_0x43e868(0x172),'example':_0x43e868(0x1a0)}}}}),__param(0x0,(0x0,common_1[_0x43e868(0x174)])(new common_1[(_0x43e868(0x175))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x43e868(0x162)])()),__metadata(_0x43e868(0x197),Function),__metadata('design:paramtypes',[loginWithCaptcha_dto_1[_0x43e868(0x191)],Object]),__metadata(_0x43e868(0x171),Promise)],AuthController['prototype'],_0x43e868(0x195),null),__decorate([(0x0,common_1[_0x43e868(0x167)])(_0x43e868(0x1ab)),(0x0,swagger_1['ApiOperation'])({'summary':_0x43e868(0x160)}),(0x0,common_1[_0x43e868(0x183)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x43e868(0x18a)])(),__param(0x0,(0x0,common_1[_0x43e868(0x162)])()),__param(0x1,(0x0,common_1[_0x43e868(0x174)])(new common_1['ValidationPipe']({'transform':!![]}))),__metadata('design:type',Function),__metadata('design:paramtypes',[Object,updatePassword_dto_1[_0x43e868(0x19a)]]),__metadata(_0x43e868(0x171),Promise)],AuthController[_0x43e868(0x170)],_0x43e868(0x1ab),null),__decorate([(0x0,common_1[_0x43e868(0x163)])(_0x43e868(0x190)),(0x0,swagger_1['ApiOperation'])({'summary':'获取用户个人信息'}),(0x0,common_1[_0x43e868(0x183)])(jwtAuth_guard_1[_0x43e868(0x194)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x43e868(0x162)])()),__metadata(_0x43e868(0x197),Function),__metadata(_0x43e868(0x1a7),[Object]),__metadata(_0x43e868(0x171),Promise)],AuthController[_0x43e868(0x170)],_0x43e868(0x190),null),__decorate([(0x0,common_1[_0x43e868(0x167)])(_0x43e868(0x159)),(0x0,swagger_1[_0x43e868(0x17f)])({'summary':_0x43e868(0x16a),'description':_0x43e868(0x166)}),(0x0,swagger_1[_0x43e868(0x17b)])({'status':0xc8,'description':_0x43e868(0x192),'schema':{'example':_0x43e868(0x16d)}}),(0x0,swagger_1['ApiResponse'])({'status':0x190,'description':_0x43e868(0x1ad),'schema':{'example':{'statusCode':0x190,'message':_0x43e868(0x1a9)}}}),(0x0,swagger_1['ApiResponse'])({'status':0x1ad,'description':_0x43e868(0x17a),'schema':{'example':{'statusCode':0x1ad,'message':_0x43e868(0x186)}}}),__param(0x0,(0x0,common_1[_0x43e868(0x174)])(new common_1[(_0x43e868(0x175))]({'transform':!![]}))),__metadata('design:type',Function),__metadata(_0x43e868(0x1a7),[sendCode_dto_1[_0x43e868(0x198)]]),__metadata(_0x43e868(0x171),Promise)],AuthController['prototype'],'sendCode',null),__decorate([(0x0,common_1[_0x43e868(0x167)])(_0x43e868(0x180)),(0x0,swagger_1['ApiOperation'])({'summary':_0x43e868(0x16e)}),(0x0,common_1[_0x43e868(0x183)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x43e868(0x162)])()),__param(0x1,(0x0,common_1[_0x43e868(0x174)])(new common_1[(_0x43e868(0x175))]({'transform':!![]}))),__metadata(_0x43e868(0x197),Function),__metadata(_0x43e868(0x1a7),[Object,Object]),__metadata('design:returntype',Promise)],AuthController[_0x43e868(0x170)],'verifyIdentity',null),__decorate([(0x0,common_1[_0x43e868(0x167)])(_0x43e868(0x17c)),(0x0,swagger_1[_0x43e868(0x17f)])({'summary':_0x43e868(0x181)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x43e868(0x194)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1['Req'])()),__param(0x1,(0x0,common_1[_0x43e868(0x174)])(new common_1['ValidationPipe']({'transform':!![]}))),__metadata(_0x43e868(0x197),Function),__metadata(_0x43e868(0x1a7),[Object,Object]),__metadata('design:returntype',Promise)],AuthController[_0x43e868(0x170)],_0x43e868(0x17c),null),AuthController=__decorate([(0x0,swagger_1[_0x43e868(0x16c)])(_0x43e868(0x176)),(0x0,common_1['Controller'])('auth'),__metadata(_0x43e868(0x1a7),[auth_service_1[_0x43e868(0x15d)]])],AuthController),exports['AuthController']=AuthController;
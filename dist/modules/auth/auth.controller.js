'use strict';const _0x10d038=_0x2adc;(function(_0x37f1be,_0x45dad1){const _0x31cce6=_0x2adc,_0x3dea92=_0x37f1be();while(!![]){try{const _0x2300a4=-parseInt(_0x31cce6(0x102))/0x1*(-parseInt(_0x31cce6(0xe3))/0x2)+parseInt(_0x31cce6(0xfb))/0x3*(-parseInt(_0x31cce6(0xd0))/0x4)+-parseInt(_0x31cce6(0xf4))/0x5+parseInt(_0x31cce6(0xd7))/0x6+-parseInt(_0x31cce6(0xf5))/0x7+-parseInt(_0x31cce6(0xe8))/0x8+parseInt(_0x31cce6(0xfe))/0x9;if(_0x2300a4===_0x45dad1)break;else _0x3dea92['push'](_0x3dea92['shift']());}catch(_0x18c667){_0x3dea92['push'](_0x3dea92['shift']());}}}(_0x2068,0xdb887));var __decorate=this&&this['__decorate']||function(_0x2879ad,_0x43cc34,_0x20f442,_0x3b7ce1){const _0x1e4493=_0x2adc;var _0x2a77a9=arguments[_0x1e4493(0xc9)],_0x24aaa3=_0x2a77a9<0x3?_0x43cc34:_0x3b7ce1===null?_0x3b7ce1=Object['getOwnPropertyDescriptor'](_0x43cc34,_0x20f442):_0x3b7ce1,_0x12ded1;if(typeof Reflect===_0x1e4493(0xd9)&&typeof Reflect[_0x1e4493(0xe0)]===_0x1e4493(0xf0))_0x24aaa3=Reflect[_0x1e4493(0xe0)](_0x2879ad,_0x43cc34,_0x20f442,_0x3b7ce1);else{for(var _0xd5dd8d=_0x2879ad['length']-0x1;_0xd5dd8d>=0x0;_0xd5dd8d--)if(_0x12ded1=_0x2879ad[_0xd5dd8d])_0x24aaa3=(_0x2a77a9<0x3?_0x12ded1(_0x24aaa3):_0x2a77a9>0x3?_0x12ded1(_0x43cc34,_0x20f442,_0x24aaa3):_0x12ded1(_0x43cc34,_0x20f442))||_0x24aaa3;}return _0x2a77a9>0x3&&_0x24aaa3&&Object[_0x1e4493(0x107)](_0x43cc34,_0x20f442,_0x24aaa3),_0x24aaa3;},__metadata=this&&this[_0x10d038(0xf1)]||function(_0x499a86,_0x4df667){const _0x58f5ff=_0x10d038;if(typeof Reflect===_0x58f5ff(0xd9)&&typeof Reflect[_0x58f5ff(0xf7)]===_0x58f5ff(0xf0))return Reflect[_0x58f5ff(0xf7)](_0x499a86,_0x4df667);},__param=this&&this[_0x10d038(0xce)]||function(_0x28ec1a,_0x2bcbb5){return function(_0x296a78,_0x5bd881){_0x2bcbb5(_0x296a78,_0x5bd881,_0x28ec1a);};};function _0x2068(){const _0x4fc02a=['__param','请求过于频繁','116JwBopl','verifyPhoneIdentity','register','\x0a发送验证码到指定的邮箱或手机号。\x0a\x0a###\x20频率限制\x0a-\x20同一邮箱/手机号60秒内只能发送一次验证码\x0a-\x20每个邮箱/手机号每天最多发送10次\x0a-\x20验证码有效期为5分钟\x0a\x0a###\x20使用场景\x0a-\x20注册验证：isLogin\x20=\x20false\x0a-\x20登录验证：isLogin\x20=\x20true\x0a\x0a###\x20注意事项\x0a-\x20手机号格式：11位数字，以1开头\x0a-\x20邮箱格式：标准邮箱格式（example@domain.com）\x0a-\x20如果是登录场景，系统会检查该手机号/邮箱是否已注册\x0a\x20\x20\x20\x20','./dto/authRegister.dto','支持使用用户名/邮箱/手机号\x20+\x20密码进行登录','发送验证码','2556000jJCLyz','ValidationPipe','object','ApiOperation','验证码发送成功、请填写验证码完成注册！','design:returntype','./dto/updatePassword.dto','Get','登录失败','decorate','验证手机号','Post','12250SfpzNr','string','../../common/auth/jwtAuth.guard','verifyIdentity','用户不存在，请先注册！','2144944GpIFxJ','design:type','UseGuards','Body','Req','UserLoginDto','sendCode','验证码发送成功','function','__metadata','updatePassword','./dto/loginWithCaptcha.dto','3183455nYwJDC','11695257wmZBAo','number','metadata','./dto/authLogin.dto','ApiBearerAuth','auth','124161kaHSFO','LoginWithCaptchaDto','@nestjs/common','23412285ublArF','__esModule','今日发送验证码次数已达上限，请24小时后再试！','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...','269tgUauG','用户登录','login','authService','prototype','defineProperty','用户使用验证码登录','ApiResponse','JwtAuthGuard','验证身份','Controller','getInfo','loginWithCaptcha','请提供有效的邮箱地址或手机号码。','当前密码错误！','UserRegisterDto','Bad\x20Request','UpdatePasswordDto','用户注册','使用手机号/邮箱\x20+\x20验证码进行登录。需要先调用发送验证码接口获取验证码。','design:paramtypes','length','./auth.service','AuthService','登录成功，返回\x20JWT\x20token','用户不存在'];_0x2068=function(){return _0x4fc02a;};return _0x2068();}function _0x2adc(_0x293827,_0x5be641){const _0x206858=_0x2068();return _0x2adc=function(_0x2adcf4,_0x4847a2){_0x2adcf4=_0x2adcf4-0xc1;let _0x5f200a=_0x206858[_0x2adcf4];return _0x5f200a;},_0x2adc(_0x293827,_0x5be641);}Object[_0x10d038(0x107)](exports,_0x10d038(0xff),{'value':!![]}),exports['AuthController']=void 0x0;const jwtAuth_guard_1=require(_0x10d038(0xe5)),common_1=require(_0x10d038(0xfd)),swagger_1=require('@nestjs/swagger'),auth_service_1=require(_0x10d038(0xca)),authLogin_dto_1=require(_0x10d038(0xf8)),authRegister_dto_1=require(_0x10d038(0xd4)),updatePassword_dto_1=require(_0x10d038(0xdd)),loginWithCaptcha_dto_1=require(_0x10d038(0xf3)),sendCode_dto_1=require('./dto/sendCode.dto');let AuthController=class AuthController{constructor(_0x3ac3d1){const _0x269d3a=_0x10d038;this[_0x269d3a(0x105)]=_0x3ac3d1;}async[_0x10d038(0xd2)](_0x44be7b,_0x17bde9){const _0x29c7f2=_0x10d038;return await this[_0x29c7f2(0x105)][_0x29c7f2(0xd2)](_0x44be7b,_0x17bde9);}async[_0x10d038(0x104)](_0x447655,_0x9c6fe6){const _0x1acad0=_0x10d038;return this[_0x1acad0(0x105)]['login'](_0x447655,_0x9c6fe6);}async[_0x10d038(0x10e)](_0x42b6b4,_0x40553c){const _0x3a7d09=_0x10d038;return this[_0x3a7d09(0x105)][_0x3a7d09(0x10e)](_0x42b6b4,_0x40553c);}async[_0x10d038(0xf2)](_0x6a6bb3,_0x12fdaf){const _0x3657c1=_0x10d038;return this['authService'][_0x3657c1(0xf2)](_0x6a6bb3,_0x12fdaf);}async['getInfo'](_0x423b9e){const _0x40c9c7=_0x10d038;return this['authService'][_0x40c9c7(0x10d)](_0x423b9e);}async[_0x10d038(0xee)](_0x57d9d2){return await this['authService']['sendCode'](_0x57d9d2);}async[_0x10d038(0xe6)](_0x4b681f,_0x136c57){const _0x699a29=_0x10d038;return this[_0x699a29(0x105)][_0x699a29(0xe6)](_0x4b681f,_0x136c57);}async['verifyPhoneIdentity'](_0x38d190,_0x3b1a2c){const _0x4d6502=_0x10d038;return this[_0x4d6502(0x105)][_0x4d6502(0xd1)](_0x38d190,_0x3b1a2c);}};__decorate([(0x0,common_1[_0x10d038(0xe2)])(_0x10d038(0xd2)),(0x0,swagger_1['ApiOperation'])({'summary':_0x10d038(0xc6)}),__param(0x0,(0x0,common_1[_0x10d038(0xeb)])(new common_1[(_0x10d038(0xd8))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x10d038(0xec)])()),__metadata(_0x10d038(0xe9),Function),__metadata(_0x10d038(0xc8),[authRegister_dto_1[_0x10d038(0xc3)],Object]),__metadata('design:returntype',Promise)],AuthController['prototype'],_0x10d038(0xd2),null),__decorate([(0x0,common_1[_0x10d038(0xe2)])('login'),(0x0,swagger_1[_0x10d038(0xda)])({'summary':_0x10d038(0x103),'description':_0x10d038(0xd5)}),(0x0,swagger_1[_0x10d038(0x109)])({'status':0xc8,'description':_0x10d038(0xcc),'schema':{'type':_0x10d038(0xe4),'example':_0x10d038(0x101)}}),(0x0,swagger_1[_0x10d038(0x109)])({'status':0x190,'description':_0x10d038(0xdf),'schema':{'type':'object','properties':{'statusCode':{'type':_0x10d038(0xf6),'example':0x190},'message':{'type':_0x10d038(0xe4),'example':_0x10d038(0xc2)},'error':{'type':_0x10d038(0xe4),'example':_0x10d038(0xc4)}}}}),__param(0x0,(0x0,common_1[_0x10d038(0xeb)])(new common_1[(_0x10d038(0xd8))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x10d038(0xec)])()),__metadata('design:type',Function),__metadata(_0x10d038(0xc8),[authLogin_dto_1[_0x10d038(0xed)],Object]),__metadata(_0x10d038(0xdc),Promise)],AuthController[_0x10d038(0x106)],'login',null),__decorate([(0x0,common_1['Post'])('loginWithCaptcha'),(0x0,swagger_1[_0x10d038(0xda)])({'summary':_0x10d038(0x108),'description':_0x10d038(0xc7)}),(0x0,swagger_1['ApiResponse'])({'status':0xc8,'description':_0x10d038(0xcc),'schema':{'type':_0x10d038(0xe4),'example':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'}}),(0x0,swagger_1[_0x10d038(0x109)])({'status':0x190,'description':'请求参数错误','schema':{'type':_0x10d038(0xd9),'properties':{'statusCode':{'type':'number','example':0x190},'message':{'type':_0x10d038(0xe4),'example':'验证码已过期，请重新发送！'},'error':{'type':_0x10d038(0xe4),'example':_0x10d038(0xc4)}}}}),(0x0,swagger_1[_0x10d038(0x109)])({'status':0x194,'description':_0x10d038(0xcd),'schema':{'type':_0x10d038(0xd9),'properties':{'statusCode':{'type':_0x10d038(0xf6),'example':0x194},'message':{'type':'string','example':_0x10d038(0xe7)},'error':{'type':_0x10d038(0xe4),'example':'Not\x20Found'}}}}),__param(0x0,(0x0,common_1[_0x10d038(0xeb)])(new common_1[(_0x10d038(0xd8))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x10d038(0xec)])()),__metadata('design:type',Function),__metadata(_0x10d038(0xc8),[loginWithCaptcha_dto_1[_0x10d038(0xfc)],Object]),__metadata(_0x10d038(0xdc),Promise)],AuthController[_0x10d038(0x106)],'loginWithCaptcha',null),__decorate([(0x0,common_1[_0x10d038(0xe2)])(_0x10d038(0xf2)),(0x0,swagger_1[_0x10d038(0xda)])({'summary':'用户更改密码'}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x10d038(0xf9)])(),__param(0x0,(0x0,common_1[_0x10d038(0xec)])()),__param(0x1,(0x0,common_1[_0x10d038(0xeb)])(new common_1[(_0x10d038(0xd8))]({'transform':!![]}))),__metadata(_0x10d038(0xe9),Function),__metadata(_0x10d038(0xc8),[Object,updatePassword_dto_1[_0x10d038(0xc5)]]),__metadata(_0x10d038(0xdc),Promise)],AuthController[_0x10d038(0x106)],_0x10d038(0xf2),null),__decorate([(0x0,common_1[_0x10d038(0xde)])(_0x10d038(0x10d)),(0x0,swagger_1[_0x10d038(0xda)])({'summary':'获取用户个人信息'}),(0x0,common_1[_0x10d038(0xea)])(jwtAuth_guard_1[_0x10d038(0x10a)]),(0x0,swagger_1[_0x10d038(0xf9)])(),__param(0x0,(0x0,common_1[_0x10d038(0xec)])()),__metadata(_0x10d038(0xe9),Function),__metadata('design:paramtypes',[Object]),__metadata(_0x10d038(0xdc),Promise)],AuthController[_0x10d038(0x106)],_0x10d038(0x10d),null),__decorate([(0x0,common_1[_0x10d038(0xe2)])(_0x10d038(0xee)),(0x0,swagger_1[_0x10d038(0xda)])({'summary':_0x10d038(0xd6),'description':_0x10d038(0xd3)}),(0x0,swagger_1[_0x10d038(0x109)])({'status':0xc8,'description':_0x10d038(0xef),'schema':{'example':_0x10d038(0xdb)}}),(0x0,swagger_1[_0x10d038(0x109)])({'status':0x190,'description':'请求参数错误','schema':{'example':{'statusCode':0x190,'message':_0x10d038(0xc1)}}}),(0x0,swagger_1[_0x10d038(0x109)])({'status':0x1ad,'description':_0x10d038(0xcf),'schema':{'example':{'statusCode':0x1ad,'message':_0x10d038(0x100)}}}),__param(0x0,(0x0,common_1[_0x10d038(0xeb)])(new common_1[(_0x10d038(0xd8))]({'transform':!![]}))),__metadata(_0x10d038(0xe9),Function),__metadata(_0x10d038(0xc8),[sendCode_dto_1['SendCodeDto']]),__metadata(_0x10d038(0xdc),Promise)],AuthController[_0x10d038(0x106)],_0x10d038(0xee),null),__decorate([(0x0,common_1['Post'])('verifyIdentity'),(0x0,swagger_1[_0x10d038(0xda)])({'summary':_0x10d038(0x10b)}),(0x0,common_1[_0x10d038(0xea)])(jwtAuth_guard_1[_0x10d038(0x10a)]),(0x0,swagger_1[_0x10d038(0xf9)])(),__param(0x0,(0x0,common_1[_0x10d038(0xec)])()),__param(0x1,(0x0,common_1[_0x10d038(0xeb)])(new common_1[(_0x10d038(0xd8))]({'transform':!![]}))),__metadata(_0x10d038(0xe9),Function),__metadata(_0x10d038(0xc8),[Object,Object]),__metadata(_0x10d038(0xdc),Promise)],AuthController[_0x10d038(0x106)],_0x10d038(0xe6),null),__decorate([(0x0,common_1[_0x10d038(0xe2)])(_0x10d038(0xd1)),(0x0,swagger_1['ApiOperation'])({'summary':_0x10d038(0xe1)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x10d038(0x10a)]),(0x0,swagger_1[_0x10d038(0xf9)])(),__param(0x0,(0x0,common_1['Req'])()),__param(0x1,(0x0,common_1[_0x10d038(0xeb)])(new common_1[(_0x10d038(0xd8))]({'transform':!![]}))),__metadata(_0x10d038(0xe9),Function),__metadata(_0x10d038(0xc8),[Object,Object]),__metadata(_0x10d038(0xdc),Promise)],AuthController[_0x10d038(0x106)],'verifyPhoneIdentity',null),AuthController=__decorate([(0x0,swagger_1['ApiTags'])(_0x10d038(0xfa)),(0x0,common_1[_0x10d038(0x10c)])(_0x10d038(0xfa)),__metadata(_0x10d038(0xc8),[auth_service_1[_0x10d038(0xcb)]])],AuthController),exports['AuthController']=AuthController;
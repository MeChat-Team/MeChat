'use strict';const _0xd2d7f2=_0x1877;(function(_0x59f143,_0x56a7af){const _0x30bed3=_0x1877,_0x5053e1=_0x59f143();while(!![]){try{const _0x3c3c44=parseInt(_0x30bed3(0x139))/0x1*(parseInt(_0x30bed3(0x120))/0x2)+parseInt(_0x30bed3(0x135))/0x3+-parseInt(_0x30bed3(0x11f))/0x4+parseInt(_0x30bed3(0x123))/0x5+parseInt(_0x30bed3(0x12f))/0x6*(-parseInt(_0x30bed3(0xf6))/0x7)+-parseInt(_0x30bed3(0xfd))/0x8*(parseInt(_0x30bed3(0x11e))/0x9)+parseInt(_0x30bed3(0x137))/0xa;if(_0x3c3c44===_0x56a7af)break;else _0x5053e1['push'](_0x5053e1['shift']());}catch(_0x30a5c6){_0x5053e1['push'](_0x5053e1['shift']());}}}(_0x202e,0x5fa2f));var __decorate=this&&this[_0xd2d7f2(0x124)]||function(_0x5fa31b,_0x5dcae2,_0x11d782,_0x4513e2){const _0x59f928=_0xd2d7f2;var _0x2a084a=arguments[_0x59f928(0xf1)],_0xa0be28=_0x2a084a<0x3?_0x5dcae2:_0x4513e2===null?_0x4513e2=Object[_0x59f928(0x13d)](_0x5dcae2,_0x11d782):_0x4513e2,_0x5d67ff;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x59f928(0x125))_0xa0be28=Reflect['decorate'](_0x5fa31b,_0x5dcae2,_0x11d782,_0x4513e2);else{for(var _0x2e114b=_0x5fa31b[_0x59f928(0xf1)]-0x1;_0x2e114b>=0x0;_0x2e114b--)if(_0x5d67ff=_0x5fa31b[_0x2e114b])_0xa0be28=(_0x2a084a<0x3?_0x5d67ff(_0xa0be28):_0x2a084a>0x3?_0x5d67ff(_0x5dcae2,_0x11d782,_0xa0be28):_0x5d67ff(_0x5dcae2,_0x11d782))||_0xa0be28;}return _0x2a084a>0x3&&_0xa0be28&&Object[_0x59f928(0x113)](_0x5dcae2,_0x11d782,_0xa0be28),_0xa0be28;},__metadata=this&&this[_0xd2d7f2(0xfb)]||function(_0x5da521,_0x3c14a4){const _0x49fe4c=_0xd2d7f2;if(typeof Reflect===_0x49fe4c(0xf2)&&typeof Reflect[_0x49fe4c(0x130)]===_0x49fe4c(0x125))return Reflect[_0x49fe4c(0x130)](_0x5da521,_0x3c14a4);},__param=this&&this[_0xd2d7f2(0x114)]||function(_0x2d286c,_0x719e6){return function(_0x23d99b,_0xfe57fc){_0x719e6(_0x23d99b,_0xfe57fc,_0x2d286c);};};Object[_0xd2d7f2(0x113)](exports,_0xd2d7f2(0x141),{'value':!![]}),exports['AuthController']=void 0x0;const jwtAuth_guard_1=require(_0xd2d7f2(0x109)),common_1=require(_0xd2d7f2(0x116)),swagger_1=require('@nestjs/swagger'),auth_service_1=require(_0xd2d7f2(0x138)),authLogin_dto_1=require(_0xd2d7f2(0x12a)),authRegister_dto_1=require(_0xd2d7f2(0xf4)),updatePassword_dto_1=require('./dto/updatePassword.dto'),loginWithCaptcha_dto_1=require(_0xd2d7f2(0x13f)),sendCode_dto_1=require(_0xd2d7f2(0x10d));function _0x1877(_0x2832d5,_0x2a179c){const _0x202e59=_0x202e();return _0x1877=function(_0x187789,_0x2ed530){_0x187789=_0x187789-0xf0;let _0xc41f17=_0x202e59[_0x187789];return _0xc41f17;},_0x1877(_0x2832d5,_0x2a179c);}let AuthController=class AuthController{constructor(_0x268c03){const _0x3a8485=_0xd2d7f2;this[_0x3a8485(0x101)]=_0x268c03;}async[_0xd2d7f2(0x100)](_0x4efb2a,_0x291beb){return await this['authService']['register'](_0x4efb2a,_0x291beb);}async[_0xd2d7f2(0xf3)](_0x3d14dd,_0x2b187c){const _0x5adfa9=_0xd2d7f2;return this[_0x5adfa9(0x101)][_0x5adfa9(0xf3)](_0x3d14dd,_0x2b187c);}async['loginWithCaptcha'](_0x2836c9,_0x351c10){const _0x3ba6b3=_0xd2d7f2;return this[_0x3ba6b3(0x101)][_0x3ba6b3(0x134)](_0x2836c9,_0x351c10);}async[_0xd2d7f2(0x129)](_0x3a4b2c,_0x14d1df){const _0x587993=_0xd2d7f2;return this[_0x587993(0x101)][_0x587993(0x129)](_0x3a4b2c,_0x14d1df);}async[_0xd2d7f2(0x122)](_0x4f3a24){const _0x3808bd=_0xd2d7f2;return this[_0x3808bd(0x101)][_0x3808bd(0x122)](_0x4f3a24);}async[_0xd2d7f2(0xf0)](_0x57091b){const _0x5d6fc7=_0xd2d7f2;return await this['authService'][_0x5d6fc7(0xf0)](_0x57091b);}async[_0xd2d7f2(0x126)](_0x2119d6,_0x2bbd3d){const _0x405979=_0xd2d7f2;return this[_0x405979(0x101)][_0x405979(0x126)](_0x2119d6,_0x2bbd3d);}async[_0xd2d7f2(0x105)](_0x1af9de,_0x4327e4){const _0x507163=_0xd2d7f2;return this[_0x507163(0x101)][_0x507163(0x105)](_0x1af9de,_0x4327e4);}};function _0x202e(){const _0x1b38ad=['用户不存在','验证身份','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...','Req','使用手机号/邮箱\x20+\x20验证码进行登录。需要先调用发送验证码接口获取验证码。','defineProperty','__param','获取用户个人信息','@nestjs/common','\x0a发送验证码到指定的邮箱或手机号。\x0a\x0a###\x20频率限制\x0a-\x20同一邮箱/手机号60秒内只能发送一次验证码\x0a-\x20每个邮箱/手机号每天最多发送10次\x0a-\x20验证码有效期为5分钟\x0a\x0a###\x20使用场景\x0a-\x20注册验证：isLogin\x20=\x20false\x0a-\x20登录验证：isLogin\x20=\x20true\x0a\x0a###\x20注意事项\x0a-\x20手机号格式：11位数字，以1开头\x0a-\x20邮箱格式：标准邮箱格式（example@domain.com）\x0a-\x20如果是登录场景，系统会检查该手机号/邮箱是否已注册\x0a\x20\x20\x20\x20','ApiBearerAuth','Post','Bad\x20Request','string','支持使用用户名/邮箱/手机号\x20+\x20密码进行登录','JwtAuthGuard','215676ZWXLaG','2169788kbIKMT','78700ZoIDQM','用户使用验证码登录','getInfo','2614565sPieoS','__decorate','function','verifyIdentity','SendCodeDto','验证手机号','updatePassword','./dto/authLogin.dto','请求过于频繁','验证码已过期，请重新发送！','UserRegisterDto','登录失败','6hOBapO','metadata','design:returntype','登录成功，返回\x20JWT\x20token','AuthController','loginWithCaptcha','78780OcJrVh','ApiTags','8091440SMyXBv','./auth.service','5bKtegD','请求参数错误','design:type','验证码发送成功','getOwnPropertyDescriptor','Get','./dto/loginWithCaptcha.dto','ValidationPipe','__esModule','sendCode','length','object','login','./dto/authRegister.dto','今日发送验证码次数已达上限，请24小时后再试！','1662283inyBeI','用户注册','用户登录','prototype','UseGuards','__metadata','ApiResponse','128RAOIhz','ApiOperation','number','register','authService','design:paramtypes','请提供有效的邮箱地址或手机号码。','Body','verifyPhoneIdentity','auth','用户更改密码','当前密码错误！','../../common/auth/jwtAuth.guard','发送验证码','LoginWithCaptchaDto','AuthService','./dto/sendCode.dto'];_0x202e=function(){return _0x1b38ad;};return _0x202e();}__decorate([(0x0,common_1[_0xd2d7f2(0x119)])('register'),(0x0,swagger_1[_0xd2d7f2(0xfe)])({'summary':_0xd2d7f2(0xf7)}),__param(0x0,(0x0,common_1[_0xd2d7f2(0x104)])(new common_1[(_0xd2d7f2(0x140))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0xd2d7f2(0x111)])()),__metadata('design:type',Function),__metadata(_0xd2d7f2(0x102),[authRegister_dto_1[_0xd2d7f2(0x12d)],Object]),__metadata(_0xd2d7f2(0x131),Promise)],AuthController[_0xd2d7f2(0xf9)],_0xd2d7f2(0x100),null),__decorate([(0x0,common_1[_0xd2d7f2(0x119)])(_0xd2d7f2(0xf3)),(0x0,swagger_1['ApiOperation'])({'summary':_0xd2d7f2(0xf8),'description':_0xd2d7f2(0x11c)}),(0x0,swagger_1[_0xd2d7f2(0xfc)])({'status':0xc8,'description':_0xd2d7f2(0x132),'schema':{'type':'string','example':_0xd2d7f2(0x110)}}),(0x0,swagger_1[_0xd2d7f2(0xfc)])({'status':0x190,'description':_0xd2d7f2(0x12e),'schema':{'type':_0xd2d7f2(0xf2),'properties':{'statusCode':{'type':'number','example':0x190},'message':{'type':_0xd2d7f2(0x11b),'example':_0xd2d7f2(0x108)},'error':{'type':_0xd2d7f2(0x11b),'example':_0xd2d7f2(0x11a)}}}}),__param(0x0,(0x0,common_1[_0xd2d7f2(0x104)])(new common_1[(_0xd2d7f2(0x140))]({'transform':!![]}))),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0xd2d7f2(0x13b),Function),__metadata(_0xd2d7f2(0x102),[authLogin_dto_1['UserLoginDto'],Object]),__metadata(_0xd2d7f2(0x131),Promise)],AuthController[_0xd2d7f2(0xf9)],_0xd2d7f2(0xf3),null),__decorate([(0x0,common_1[_0xd2d7f2(0x119)])('loginWithCaptcha'),(0x0,swagger_1[_0xd2d7f2(0xfe)])({'summary':_0xd2d7f2(0x121),'description':_0xd2d7f2(0x112)}),(0x0,swagger_1[_0xd2d7f2(0xfc)])({'status':0xc8,'description':'登录成功，返回\x20JWT\x20token','schema':{'type':_0xd2d7f2(0x11b),'example':_0xd2d7f2(0x110)}}),(0x0,swagger_1['ApiResponse'])({'status':0x190,'description':'请求参数错误','schema':{'type':_0xd2d7f2(0xf2),'properties':{'statusCode':{'type':_0xd2d7f2(0xff),'example':0x190},'message':{'type':'string','example':_0xd2d7f2(0x12c)},'error':{'type':_0xd2d7f2(0x11b),'example':'Bad\x20Request'}}}}),(0x0,swagger_1['ApiResponse'])({'status':0x194,'description':_0xd2d7f2(0x10e),'schema':{'type':_0xd2d7f2(0xf2),'properties':{'statusCode':{'type':_0xd2d7f2(0xff),'example':0x194},'message':{'type':_0xd2d7f2(0x11b),'example':'用户不存在，请先注册！'},'error':{'type':_0xd2d7f2(0x11b),'example':'Not\x20Found'}}}}),__param(0x0,(0x0,common_1[_0xd2d7f2(0x104)])(new common_1[(_0xd2d7f2(0x140))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0xd2d7f2(0x111)])()),__metadata(_0xd2d7f2(0x13b),Function),__metadata(_0xd2d7f2(0x102),[loginWithCaptcha_dto_1[_0xd2d7f2(0x10b)],Object]),__metadata('design:returntype',Promise)],AuthController[_0xd2d7f2(0xf9)],'loginWithCaptcha',null),__decorate([(0x0,common_1[_0xd2d7f2(0x119)])(_0xd2d7f2(0x129)),(0x0,swagger_1[_0xd2d7f2(0xfe)])({'summary':_0xd2d7f2(0x107)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0xd2d7f2(0x11d)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0xd2d7f2(0x111)])()),__param(0x1,(0x0,common_1[_0xd2d7f2(0x104)])(new common_1[(_0xd2d7f2(0x140))]({'transform':!![]}))),__metadata('design:type',Function),__metadata('design:paramtypes',[Object,updatePassword_dto_1['UpdatePasswordDto']]),__metadata(_0xd2d7f2(0x131),Promise)],AuthController[_0xd2d7f2(0xf9)],'updatePassword',null),__decorate([(0x0,common_1[_0xd2d7f2(0x13e)])('getInfo'),(0x0,swagger_1[_0xd2d7f2(0xfe)])({'summary':_0xd2d7f2(0x115)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0xd2d7f2(0x11d)]),(0x0,swagger_1[_0xd2d7f2(0x118)])(),__param(0x0,(0x0,common_1[_0xd2d7f2(0x111)])()),__metadata(_0xd2d7f2(0x13b),Function),__metadata(_0xd2d7f2(0x102),[Object]),__metadata(_0xd2d7f2(0x131),Promise)],AuthController[_0xd2d7f2(0xf9)],'getInfo',null),__decorate([(0x0,common_1[_0xd2d7f2(0x119)])(_0xd2d7f2(0xf0)),(0x0,swagger_1[_0xd2d7f2(0xfe)])({'summary':_0xd2d7f2(0x10a),'description':_0xd2d7f2(0x117)}),(0x0,swagger_1[_0xd2d7f2(0xfc)])({'status':0xc8,'description':_0xd2d7f2(0x13c),'schema':{'example':'验证码发送成功、请填写验证码完成注册！'}}),(0x0,swagger_1[_0xd2d7f2(0xfc)])({'status':0x190,'description':_0xd2d7f2(0x13a),'schema':{'example':{'statusCode':0x190,'message':_0xd2d7f2(0x103)}}}),(0x0,swagger_1[_0xd2d7f2(0xfc)])({'status':0x1ad,'description':_0xd2d7f2(0x12b),'schema':{'example':{'statusCode':0x1ad,'message':_0xd2d7f2(0xf5)}}}),__param(0x0,(0x0,common_1['Body'])(new common_1[(_0xd2d7f2(0x140))]({'transform':!![]}))),__metadata('design:type',Function),__metadata(_0xd2d7f2(0x102),[sendCode_dto_1[_0xd2d7f2(0x127)]]),__metadata('design:returntype',Promise)],AuthController[_0xd2d7f2(0xf9)],'sendCode',null),__decorate([(0x0,common_1[_0xd2d7f2(0x119)])(_0xd2d7f2(0x126)),(0x0,swagger_1[_0xd2d7f2(0xfe)])({'summary':_0xd2d7f2(0x10f)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0xd2d7f2(0x11d)]),(0x0,swagger_1[_0xd2d7f2(0x118)])(),__param(0x0,(0x0,common_1[_0xd2d7f2(0x111)])()),__param(0x1,(0x0,common_1[_0xd2d7f2(0x104)])(new common_1[(_0xd2d7f2(0x140))]({'transform':!![]}))),__metadata('design:type',Function),__metadata(_0xd2d7f2(0x102),[Object,Object]),__metadata(_0xd2d7f2(0x131),Promise)],AuthController[_0xd2d7f2(0xf9)],_0xd2d7f2(0x126),null),__decorate([(0x0,common_1['Post'])(_0xd2d7f2(0x105)),(0x0,swagger_1[_0xd2d7f2(0xfe)])({'summary':_0xd2d7f2(0x128)}),(0x0,common_1[_0xd2d7f2(0xfa)])(jwtAuth_guard_1[_0xd2d7f2(0x11d)]),(0x0,swagger_1[_0xd2d7f2(0x118)])(),__param(0x0,(0x0,common_1[_0xd2d7f2(0x111)])()),__param(0x1,(0x0,common_1['Body'])(new common_1[(_0xd2d7f2(0x140))]({'transform':!![]}))),__metadata(_0xd2d7f2(0x13b),Function),__metadata(_0xd2d7f2(0x102),[Object,Object]),__metadata(_0xd2d7f2(0x131),Promise)],AuthController[_0xd2d7f2(0xf9)],_0xd2d7f2(0x105),null),AuthController=__decorate([(0x0,swagger_1[_0xd2d7f2(0x136)])('auth'),(0x0,common_1['Controller'])(_0xd2d7f2(0x106)),__metadata(_0xd2d7f2(0x102),[auth_service_1[_0xd2d7f2(0x10c)]])],AuthController),exports[_0xd2d7f2(0x133)]=AuthController;
'use strict';const _0x56bf93=_0x3074;function _0x33b1(){const _0x3e7636=['验证码发送成功、请填写验证码完成注册！','./dto/authLogin.dto','请提供有效的邮箱地址或手机号码。','139592cNYDUT','function','Not\x20Found','__param','register','metadata','用户使用验证码登录','4488FmjiOV','../../common/auth/jwtAuth.guard','登录成功，返回\x20JWT\x20token','AuthService','./auth.service','verifyIdentity','ApiTags','验证手机号','用户注册','Controller','验证码发送成功','请求过于频繁','updatePassword','4004190mdTTHZ','用户不存在，请先注册！','@nestjs/common','./dto/loginWithCaptcha.dto','Req','JwtAuthGuard','sendCode','@nestjs/swagger','UserLoginDto','Get','422114WnXApZ','\x0a发送验证码到指定的邮箱或手机号。\x0a\x0a###\x20频率限制\x0a-\x20同一邮箱/手机号60秒内只能发送一次验证码\x0a-\x20每个邮箱/手机号每天最多发送10次\x0a-\x20验证码有效期为5分钟\x0a\x0a###\x20使用场景\x0a-\x20注册验证：isLogin\x20=\x20false\x0a-\x20登录验证：isLogin\x20=\x20true\x0a\x0a###\x20注意事项\x0a-\x20手机号格式：11位数字，以1开头\x0a-\x20邮箱格式：标准邮箱格式（example@domain.com）\x0a-\x20如果是登录场景，系统会检查该手机号/邮箱是否已注册\x0a\x20\x20\x20\x20','4923JdTDVA','ApiBearerAuth','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...','15IyHcAP','design:returntype','4aZXbQc','ApiResponse','loginWithCaptcha','login','请求参数错误','使用手机号/邮箱\x20+\x20验证码进行登录。需要先调用发送验证码接口获取验证码。','verifyPhoneIdentity','getInfo','Body','当前密码错误！','design:paramtypes','UseGuards','auth','defineProperty','number','string','__esModule','./dto/authRegister.dto','./dto/sendCode.dto','prototype','验证码已过期，请重新发送！','authService','Post','406344jhZhOG','SendCodeDto','Bad\x20Request','用户不存在','UserRegisterDto','今日发送验证码次数已达上限，请24小时后再试！','登录失败','object','114777RwOmvz','design:type','6Xgjfub','decorate','UpdatePasswordDto','ValidationPipe','ApiOperation','length','发送验证码','108aieeeO','3987298IfvxkD','验证身份'];_0x33b1=function(){return _0x3e7636;};return _0x33b1();}(function(_0x1b5edc,_0x46466f){const _0x17fdfb=_0x3074,_0x342c8e=_0x1b5edc();while(!![]){try{const _0x327d16=parseInt(_0x17fdfb(0x122))/0x1*(parseInt(_0x17fdfb(0x147))/0x2)+-parseInt(_0x17fdfb(0x166))/0x3+parseInt(_0x17fdfb(0x15e))/0x4*(parseInt(_0x17fdfb(0x145))/0x5)+parseInt(_0x17fdfb(0x115))/0x6*(parseInt(_0x17fdfb(0x11d))/0x7)+-parseInt(_0x17fdfb(0x129))/0x8*(-parseInt(_0x17fdfb(0x142))/0x9)+-parseInt(_0x17fdfb(0x136))/0xa+-parseInt(_0x17fdfb(0x140))/0xb*(parseInt(_0x17fdfb(0x11c))/0xc);if(_0x327d16===_0x46466f)break;else _0x342c8e['push'](_0x342c8e['shift']());}catch(_0x4aa251){_0x342c8e['push'](_0x342c8e['shift']());}}}(_0x33b1,0xa521b));function _0x3074(_0x44ac29,_0x3b5086){const _0x33b1e6=_0x33b1();return _0x3074=function(_0x307421,_0x1e8d49){_0x307421=_0x307421-0x114;let _0x15a01f=_0x33b1e6[_0x307421];return _0x15a01f;},_0x3074(_0x44ac29,_0x3b5086);}var __decorate=this&&this['__decorate']||function(_0x5cbd7c,_0x539353,_0x50fc8d,_0x4bbf43){const _0x4f05f2=_0x3074;var _0x1d568a=arguments[_0x4f05f2(0x11a)],_0x59fd0c=_0x1d568a<0x3?_0x539353:_0x4bbf43===null?_0x4bbf43=Object['getOwnPropertyDescriptor'](_0x539353,_0x50fc8d):_0x4bbf43,_0x19971d;if(typeof Reflect===_0x4f05f2(0x165)&&typeof Reflect['decorate']==='function')_0x59fd0c=Reflect[_0x4f05f2(0x116)](_0x5cbd7c,_0x539353,_0x50fc8d,_0x4bbf43);else{for(var _0x271be9=_0x5cbd7c['length']-0x1;_0x271be9>=0x0;_0x271be9--)if(_0x19971d=_0x5cbd7c[_0x271be9])_0x59fd0c=(_0x1d568a<0x3?_0x19971d(_0x59fd0c):_0x1d568a>0x3?_0x19971d(_0x539353,_0x50fc8d,_0x59fd0c):_0x19971d(_0x539353,_0x50fc8d))||_0x59fd0c;}return _0x1d568a>0x3&&_0x59fd0c&&Object[_0x4f05f2(0x154)](_0x539353,_0x50fc8d,_0x59fd0c),_0x59fd0c;},__metadata=this&&this['__metadata']||function(_0x14c8aa,_0x2c7866){const _0x4ae52a=_0x3074;if(typeof Reflect===_0x4ae52a(0x165)&&typeof Reflect[_0x4ae52a(0x127)]===_0x4ae52a(0x123))return Reflect[_0x4ae52a(0x127)](_0x14c8aa,_0x2c7866);},__param=this&&this[_0x56bf93(0x125)]||function(_0x34ef9b,_0x46ab6e){return function(_0x2dd605,_0x2855d8){_0x46ab6e(_0x2dd605,_0x2855d8,_0x34ef9b);};};Object['defineProperty'](exports,_0x56bf93(0x157),{'value':!![]}),exports['AuthController']=void 0x0;const jwtAuth_guard_1=require(_0x56bf93(0x12a)),common_1=require(_0x56bf93(0x138)),swagger_1=require(_0x56bf93(0x13d)),auth_service_1=require(_0x56bf93(0x12d)),authLogin_dto_1=require(_0x56bf93(0x120)),authRegister_dto_1=require(_0x56bf93(0x158)),updatePassword_dto_1=require('./dto/updatePassword.dto'),loginWithCaptcha_dto_1=require(_0x56bf93(0x139)),sendCode_dto_1=require(_0x56bf93(0x159));let AuthController=class AuthController{constructor(_0x2229ab){const _0x31900c=_0x56bf93;this[_0x31900c(0x15c)]=_0x2229ab;}async[_0x56bf93(0x126)](_0x4f751c,_0x314e09){const _0x141d92=_0x56bf93;return await this[_0x141d92(0x15c)][_0x141d92(0x126)](_0x4f751c,_0x314e09);}async['login'](_0x4c066a,_0x5d570e){const _0x4d2a92=_0x56bf93;return this[_0x4d2a92(0x15c)]['login'](_0x4c066a,_0x5d570e);}async[_0x56bf93(0x149)](_0x37bb37,_0x2305a1){const _0x224cc3=_0x56bf93;return this[_0x224cc3(0x15c)][_0x224cc3(0x149)](_0x37bb37,_0x2305a1);}async[_0x56bf93(0x135)](_0x22464b,_0x44d237){const _0x59968b=_0x56bf93;return this[_0x59968b(0x15c)]['updatePassword'](_0x22464b,_0x44d237);}async[_0x56bf93(0x14e)](_0xe2ee3f){const _0x1674d2=_0x56bf93;return this[_0x1674d2(0x15c)][_0x1674d2(0x14e)](_0xe2ee3f);}async['sendCode'](_0x420147){const _0x20619c=_0x56bf93;return await this[_0x20619c(0x15c)][_0x20619c(0x13c)](_0x420147);}async[_0x56bf93(0x12e)](_0x424de2,_0x1b567d){const _0x1c1ac6=_0x56bf93;return this[_0x1c1ac6(0x15c)][_0x1c1ac6(0x12e)](_0x424de2,_0x1b567d);}async[_0x56bf93(0x14d)](_0x425377,_0x76e781){const _0x1e67ab=_0x56bf93;return this[_0x1e67ab(0x15c)][_0x1e67ab(0x14d)](_0x425377,_0x76e781);}};__decorate([(0x0,common_1['Post'])(_0x56bf93(0x126)),(0x0,swagger_1[_0x56bf93(0x119)])({'summary':_0x56bf93(0x131)}),__param(0x0,(0x0,common_1[_0x56bf93(0x14f)])(new common_1[(_0x56bf93(0x118))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x56bf93(0x13a)])()),__metadata(_0x56bf93(0x114),Function),__metadata(_0x56bf93(0x151),[authRegister_dto_1[_0x56bf93(0x162)],Object]),__metadata('design:returntype',Promise)],AuthController[_0x56bf93(0x15a)],_0x56bf93(0x126),null),__decorate([(0x0,common_1['Post'])(_0x56bf93(0x14a)),(0x0,swagger_1[_0x56bf93(0x119)])({'summary':'用户登录','description':'支持使用用户名/邮箱/手机号\x20+\x20密码进行登录'}),(0x0,swagger_1['ApiResponse'])({'status':0xc8,'description':_0x56bf93(0x12b),'schema':{'type':_0x56bf93(0x156),'example':'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'}}),(0x0,swagger_1[_0x56bf93(0x148)])({'status':0x190,'description':_0x56bf93(0x164),'schema':{'type':_0x56bf93(0x165),'properties':{'statusCode':{'type':'number','example':0x190},'message':{'type':_0x56bf93(0x156),'example':_0x56bf93(0x150)},'error':{'type':_0x56bf93(0x156),'example':_0x56bf93(0x160)}}}}),__param(0x0,(0x0,common_1['Body'])(new common_1[(_0x56bf93(0x118))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x56bf93(0x13a)])()),__metadata('design:type',Function),__metadata(_0x56bf93(0x151),[authLogin_dto_1[_0x56bf93(0x13e)],Object]),__metadata(_0x56bf93(0x146),Promise)],AuthController[_0x56bf93(0x15a)],_0x56bf93(0x14a),null),__decorate([(0x0,common_1[_0x56bf93(0x15d)])(_0x56bf93(0x149)),(0x0,swagger_1[_0x56bf93(0x119)])({'summary':_0x56bf93(0x128),'description':_0x56bf93(0x14c)}),(0x0,swagger_1['ApiResponse'])({'status':0xc8,'description':_0x56bf93(0x12b),'schema':{'type':_0x56bf93(0x156),'example':_0x56bf93(0x144)}}),(0x0,swagger_1['ApiResponse'])({'status':0x190,'description':_0x56bf93(0x14b),'schema':{'type':_0x56bf93(0x165),'properties':{'statusCode':{'type':_0x56bf93(0x155),'example':0x190},'message':{'type':_0x56bf93(0x156),'example':_0x56bf93(0x15b)},'error':{'type':'string','example':_0x56bf93(0x160)}}}}),(0x0,swagger_1[_0x56bf93(0x148)])({'status':0x194,'description':_0x56bf93(0x161),'schema':{'type':'object','properties':{'statusCode':{'type':_0x56bf93(0x155),'example':0x194},'message':{'type':_0x56bf93(0x156),'example':_0x56bf93(0x137)},'error':{'type':_0x56bf93(0x156),'example':_0x56bf93(0x124)}}}}),__param(0x0,(0x0,common_1[_0x56bf93(0x14f)])(new common_1[(_0x56bf93(0x118))]({'transform':!![]}))),__param(0x1,(0x0,common_1[_0x56bf93(0x13a)])()),__metadata(_0x56bf93(0x114),Function),__metadata(_0x56bf93(0x151),[loginWithCaptcha_dto_1['LoginWithCaptchaDto'],Object]),__metadata(_0x56bf93(0x146),Promise)],AuthController[_0x56bf93(0x15a)],_0x56bf93(0x149),null),__decorate([(0x0,common_1[_0x56bf93(0x15d)])(_0x56bf93(0x135)),(0x0,swagger_1['ApiOperation'])({'summary':'用户更改密码'}),(0x0,common_1[_0x56bf93(0x152)])(jwtAuth_guard_1[_0x56bf93(0x13b)]),(0x0,swagger_1[_0x56bf93(0x143)])(),__param(0x0,(0x0,common_1[_0x56bf93(0x13a)])()),__param(0x1,(0x0,common_1[_0x56bf93(0x14f)])(new common_1[(_0x56bf93(0x118))]({'transform':!![]}))),__metadata(_0x56bf93(0x114),Function),__metadata(_0x56bf93(0x151),[Object,updatePassword_dto_1[_0x56bf93(0x117)]]),__metadata(_0x56bf93(0x146),Promise)],AuthController['prototype'],'updatePassword',null),__decorate([(0x0,common_1[_0x56bf93(0x13f)])(_0x56bf93(0x14e)),(0x0,swagger_1[_0x56bf93(0x119)])({'summary':'获取用户个人信息'}),(0x0,common_1[_0x56bf93(0x152)])(jwtAuth_guard_1[_0x56bf93(0x13b)]),(0x0,swagger_1[_0x56bf93(0x143)])(),__param(0x0,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata(_0x56bf93(0x151),[Object]),__metadata(_0x56bf93(0x146),Promise)],AuthController[_0x56bf93(0x15a)],_0x56bf93(0x14e),null),__decorate([(0x0,common_1[_0x56bf93(0x15d)])('sendCode'),(0x0,swagger_1[_0x56bf93(0x119)])({'summary':_0x56bf93(0x11b),'description':_0x56bf93(0x141)}),(0x0,swagger_1[_0x56bf93(0x148)])({'status':0xc8,'description':_0x56bf93(0x133),'schema':{'example':_0x56bf93(0x11f)}}),(0x0,swagger_1[_0x56bf93(0x148)])({'status':0x190,'description':_0x56bf93(0x14b),'schema':{'example':{'statusCode':0x190,'message':_0x56bf93(0x121)}}}),(0x0,swagger_1[_0x56bf93(0x148)])({'status':0x1ad,'description':_0x56bf93(0x134),'schema':{'example':{'statusCode':0x1ad,'message':_0x56bf93(0x163)}}}),__param(0x0,(0x0,common_1[_0x56bf93(0x14f)])(new common_1[(_0x56bf93(0x118))]({'transform':!![]}))),__metadata(_0x56bf93(0x114),Function),__metadata(_0x56bf93(0x151),[sendCode_dto_1[_0x56bf93(0x15f)]]),__metadata(_0x56bf93(0x146),Promise)],AuthController['prototype'],'sendCode',null),__decorate([(0x0,common_1[_0x56bf93(0x15d)])(_0x56bf93(0x12e)),(0x0,swagger_1['ApiOperation'])({'summary':_0x56bf93(0x11e)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x56bf93(0x13b)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x56bf93(0x13a)])()),__param(0x1,(0x0,common_1[_0x56bf93(0x14f)])(new common_1['ValidationPipe']({'transform':!![]}))),__metadata('design:type',Function),__metadata(_0x56bf93(0x151),[Object,Object]),__metadata(_0x56bf93(0x146),Promise)],AuthController[_0x56bf93(0x15a)],'verifyIdentity',null),__decorate([(0x0,common_1[_0x56bf93(0x15d)])('verifyPhoneIdentity'),(0x0,swagger_1[_0x56bf93(0x119)])({'summary':_0x56bf93(0x130)}),(0x0,common_1[_0x56bf93(0x152)])(jwtAuth_guard_1[_0x56bf93(0x13b)]),(0x0,swagger_1[_0x56bf93(0x143)])(),__param(0x0,(0x0,common_1[_0x56bf93(0x13a)])()),__param(0x1,(0x0,common_1[_0x56bf93(0x14f)])(new common_1[(_0x56bf93(0x118))]({'transform':!![]}))),__metadata(_0x56bf93(0x114),Function),__metadata(_0x56bf93(0x151),[Object,Object]),__metadata(_0x56bf93(0x146),Promise)],AuthController['prototype'],_0x56bf93(0x14d),null),AuthController=__decorate([(0x0,swagger_1[_0x56bf93(0x12f)])('auth'),(0x0,common_1[_0x56bf93(0x132)])(_0x56bf93(0x153)),__metadata(_0x56bf93(0x151),[auth_service_1[_0x56bf93(0x12c)]])],AuthController),exports['AuthController']=AuthController;
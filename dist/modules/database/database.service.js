'use strict';const _0x2f1e88=_0x2e0f;function _0x2e0f(_0x5a89e3,_0x4dc8a4){const _0x23e7d6=_0x23e7();return _0x2e0f=function(_0x2e0fd1,_0x52b951){_0x2e0fd1=_0x2e0fd1-0x198;let _0x39cf25=_0x23e7d6[_0x2e0fd1];return _0x39cf25;},_0x2e0f(_0x5a89e3,_0x4dc8a4);}(function(_0x409380,_0x296dd1){const _0x46738c=_0x2e0f,_0x396ad1=_0x409380();while(!![]){try{const _0x14a226=-parseInt(_0x46738c(0x1a2))/0x1+parseInt(_0x46738c(0x1d3))/0x2+parseInt(_0x46738c(0x1be))/0x3+parseInt(_0x46738c(0x1d4))/0x4+parseInt(_0x46738c(0x20d))/0x5*(-parseInt(_0x46738c(0x1e1))/0x6)+parseInt(_0x46738c(0x1fe))/0x7*(parseInt(_0x46738c(0x1a1))/0x8)+-parseInt(_0x46738c(0x1ea))/0x9*(parseInt(_0x46738c(0x19e))/0xa);if(_0x14a226===_0x296dd1)break;else _0x396ad1['push'](_0x396ad1['shift']());}catch(_0x1b7480){_0x396ad1['push'](_0x396ad1['shift']());}}}(_0x23e7,0xeeee0));function _0x23e7(){const _0xf25ea4=['油画风格,像素风格,赛博朋克,动漫,日系,超现实主义,油画,卡通,插画,海报,写实,扁平,中国风,水墨画,唯美二次元,印象派,炫彩插画,像素艺术,艺术创想,色彩主义,数字艺术','typeorm','6EAjGHA','siteName','icon-park-outline:shopping','super','registerSendStatus','checkSiteBaseConfig','Logger','join','INSERT\x20INTO\x20menu\x20(menuName,\x20menuPath,\x20menuIcon,\x20menuTipText,\x20menuType,\x20menuPlatform,\x20menuIframeUrl,\x20`order`,\x20isShow,\x20isJump,\x20isNeedAuth,\x20createdAt,\x20updatedAt,\x20deletedAt)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20NOW(),\x20NOW(),\x20NULL)','9QmBfQV','ri:message-3-line','__metadata','123456','menuType','registerSendModel3Count','connection','@nestjs/common','metadata','uiw:share','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27super\x27','public','HttpException','createBaseMenuConfig','registerSendModel4Count','admin','__esModule','baiduCode','思维导图','onModuleInit','56nbHZcN','ant-design:appstore-outlined','replace','https://api.lightai.io','baiduSiteId','初始化创建','menuPath','firstRegisterSendRank','fluent:draw-image-24-regular','firstRregisterSendModel3Count','query','创建默认超级管理员失败！','log','design:paramtypes','userDefautlAvatar','5563185vFajYc','/mind','\x0a\x20\x20SELECT\x20COUNT(*)\x20AS\x20count\x20FROM\x20config\x20WHERE\x20`configKey`\x20IN\x20(','menuPlatform','\x0a####\x20AIWeb\x20欢迎您\x0a\x20-\x20欢迎使用\x20AIWeb\x0a\x20-\x20初始管理员账号密码\x20\x20super\x20\x20123456\x20【前台后台登录都可以修改】\x0a\x20-\x20初始预览账号密码\x20\x20admin\x20\x20123456\x20【为后台查看账号\x20仅可查看部分非敏感数据】\x0a','ri:landscape-line','isVerifyEmail','创建基础菜单配置失败！','ri:account-pin-box-line','buyCramiAddress','/draw','INSERT\x20INTO\x20users\x20(username,\x20password,\x20status,\x20email,\x20role)\x20VALUES\x20(\x27','Pay','model4Name','Midjourney','checkMenuConfig','15004050pteJBx','绘画积分','checkSuperAdmin','88336SyxyND','423615VlZjxQ','drawMjName','insertId','应用广场','专业绘画','decorate','error:\x20','个人中心','map','openaiBaseUrl','\x27,\x20\x27','menuTipText','Market','length','\x27,\x200,\x201000,\x20100)','AppStore','Mind','INTERNAL_SERVER_ERROR','configKey','对话聊天','/app-store','Translate\x20any\x20given\x20phrase\x20from\x20any\x20language\x20into\x20English.\x20For\x20instance,\x20when\x20I\x20input\x20\x27{可爱的熊猫}\x27,\x20you\x20should\x20output\x20\x27{cute\x20panda}\x27,\x20with\x20no\x20period\x20at\x20the\x20end.','/chat','SELECT\x20COUNT(*)\x20AS\x20count\x20FROM\x20menu','drawingStyles','500','hashSync','mjTranslatePrompt','5870079AQWWSY','defineProperty','HttpStatus','checkGalleryConfig','INSERT\x20INTO\x20config\x20(configKey,\x20configVal,\x20public,\x20encry)\x20VALUES\x20','高级积分','createBaseSiteConfig','createDefaultUser','Chat','model3Name','用户成功、用户名为[','Share','300',']、初始密码为[','object','count','bcryptjs','icon-park-outline:mindmap-map','创建默认网站配置失败！','order','初始化网站配置信息成功、如您需要修改网站配置信息，请前往管理系统系统配置设置\x20==============>\x20请注意查阅','65054tsGICq','7751028paJUgg','firstRregisterSendModel4Count','绘画广场','function','sk-','Draw','DatabaseService','__decorate','Connection','robotAvatar','/share'];_0x23e7=function(){return _0xf25ea4;};return _0x23e7();}var __decorate=this&&this[_0x2f1e88(0x1db)]||function(_0xf5ac29,_0x4cabd4,_0x46bf68,_0x5a4689){const _0x372c99=_0x2f1e88;var _0x2343f3=arguments[_0x372c99(0x1af)],_0x35c77b=_0x2343f3<0x3?_0x4cabd4:_0x5a4689===null?_0x5a4689=Object['getOwnPropertyDescriptor'](_0x4cabd4,_0x46bf68):_0x5a4689,_0x31e664;if(typeof Reflect==='object'&&typeof Reflect[_0x372c99(0x1a7)]===_0x372c99(0x1d7))_0x35c77b=Reflect['decorate'](_0xf5ac29,_0x4cabd4,_0x46bf68,_0x5a4689);else{for(var _0x1994d5=_0xf5ac29[_0x372c99(0x1af)]-0x1;_0x1994d5>=0x0;_0x1994d5--)if(_0x31e664=_0xf5ac29[_0x1994d5])_0x35c77b=(_0x2343f3<0x3?_0x31e664(_0x35c77b):_0x2343f3>0x3?_0x31e664(_0x4cabd4,_0x46bf68,_0x35c77b):_0x31e664(_0x4cabd4,_0x46bf68))||_0x35c77b;}return _0x2343f3>0x3&&_0x35c77b&&Object[_0x372c99(0x1bf)](_0x4cabd4,_0x46bf68,_0x35c77b),_0x35c77b;},__metadata=this&&this[_0x2f1e88(0x1ec)]||function(_0x11ca8a,_0x1004cc){const _0x2b8ca3=_0x2f1e88;if(typeof Reflect===_0x2b8ca3(0x1cc)&&typeof Reflect[_0x2b8ca3(0x1f2)]===_0x2b8ca3(0x1d7))return Reflect[_0x2b8ca3(0x1f2)](_0x11ca8a,_0x1004cc);};Object[_0x2f1e88(0x1bf)](exports,_0x2f1e88(0x1fa),{'value':!![]}),exports[_0x2f1e88(0x1da)]=void 0x0;const common_1=require(_0x2f1e88(0x1f1)),bcrypt=require(_0x2f1e88(0x1ce)),typeorm_1=require(_0x2f1e88(0x1e0));let DatabaseService=class DatabaseService{constructor(_0x5171a8){const _0x2f8195=_0x2f1e88;this[_0x2f8195(0x1f0)]=_0x5171a8;}async[_0x2f1e88(0x1fd)](){const _0x50afd1=_0x2f1e88;await this['checkSuperAdmin'](),await this[_0x50afd1(0x1e6)](),await this[_0x50afd1(0x19d)](),await this[_0x50afd1(0x1c1)]();}async[_0x2f1e88(0x1a0)](){const _0x42e203=_0x2f1e88,_0x3b8dfe=await this['connection'][_0x42e203(0x208)](_0x42e203(0x1f4));if(!_0x3b8dfe||_0x3b8dfe['length']===0x0){const _0x305105=bcrypt[_0x42e203(0x1bc)]('123456',0xa),_0x25adbc=bcrypt[_0x42e203(0x1bc)](_0x42e203(0x1ed),0xa),_0x1113cf=_0x42e203(0x1e4),_0x5b9654='admin',_0x119c47={'username':_0x42e203(0x1e4),'password':_0x305105,'status':0x1,'email':_0x1113cf,'sex':0x1,'role':_0x42e203(0x1e4)},_0x36a1e2={'username':_0x42e203(0x1f9),'password':_0x25adbc,'status':0x0,'email':_0x5b9654,'sex':0x1,'role':_0x42e203(0x1f9)};await this[_0x42e203(0x1c5)](_0x119c47),await this['createDefaultUser'](_0x36a1e2);}}async[_0x2f1e88(0x1c5)](_0x56d5a1){const _0x400144=_0x2f1e88;try{const {username:_0x4be289,password:_0x2fb368,status:_0x10bdf9,email:_0x5c4ddc,role:_0x356518}=_0x56d5a1,_0x58c1f4=await this[_0x400144(0x1f0)][_0x400144(0x208)](_0x400144(0x199)+_0x4be289+'\x27,\x20\x27'+_0x2fb368+'\x27,\x20\x27'+_0x10bdf9+_0x400144(0x1ac)+_0x5c4ddc+_0x400144(0x1ac)+_0x356518+'\x27)'),_0x4437f1=_0x58c1f4[_0x400144(0x1a4)];await this[_0x400144(0x1f0)]['query']('INSERT\x20INTO\x20balance\x20(userId,\x20balance,\x20usesLeft,\x20paintCount)\x20VALUES\x20(\x27'+_0x4437f1+_0x400144(0x1b0)),common_1[_0x400144(0x1e7)][_0x400144(0x20a)](_0x400144(0x203)+_0x356518+_0x400144(0x1c8)+_0x4be289+_0x400144(0x1cb)+(_0x4be289===_0x400144(0x1e4)?_0x400144(0x1e4):'123456')+']\x20==============>\x20请注意查阅',_0x400144(0x1da));}catch(_0x17dedf){console[_0x400144(0x20a)](_0x400144(0x1a8),_0x17dedf);throw new common_1[(_0x400144(0x1f6))](_0x400144(0x209),common_1['HttpStatus']['INTERNAL_SERVER_ERROR']);}}async[_0x2f1e88(0x1e6)](){const _0x7fd1c3=_0x2f1e88,_0x31854f=['siteName',_0x7fd1c3(0x1dd)],_0x9968da=await this[_0x7fd1c3(0x1f0)][_0x7fd1c3(0x208)](_0x7fd1c3(0x20f)+_0x31854f[_0x7fd1c3(0x1aa)](_0x272cfa=>'\x27'+_0x272cfa+'\x27')[_0x7fd1c3(0x1e8)](',')+')\x0a'),_0x4548cd=parseInt(_0x9968da[0x0][_0x7fd1c3(0x1cd)]);_0x4548cd===0x0&&await this[_0x7fd1c3(0x1c4)]();}async[_0x2f1e88(0x1c4)](){const _0x1e5105=_0x2f1e88;try{const _0x26ae5c='',_0x49596d=_0x1e5105(0x211),_0x59463c=[{'configKey':_0x1e5105(0x1e2),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x1dd),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x20c),'configVal':'','public':0x0,'encry':0x0},{'configKey':_0x1e5105(0x1fb),'configVal':_0x26ae5c,'public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x202),'configVal':'','public':0x0,'encry':0x0},{'configKey':'baiduToken','configVal':'','public':0x0,'encry':0x0},{'configKey':_0x1e5105(0x216),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x1ab),'configVal':_0x1e5105(0x201),'public':0x0,'encry':0x0},{'configKey':'openaiTimeout','configVal':_0x1e5105(0x1ca),'public':0x0,'encry':0x0},{'configKey':'openaiBaseKey','configVal':_0x1e5105(0x1d8),'public':0x0,'encry':0x0},{'configKey':_0x1e5105(0x1bd),'configVal':_0x1e5105(0x1b7),'public':0x0,'encry':0x0},{'configKey':'noticeInfo','configVal':_0x49596d,'public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x1e5),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x1ef),'configVal':'30','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x1f8),'configVal':'3','public':0x1,'encry':0x0},{'configKey':'registerSendDrawMjCount','configVal':'3','public':0x1,'encry':0x0},{'configKey':'firstRegisterSendStatus','configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x205),'configVal':_0x1e5105(0x1bb),'public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x207),'configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x1d5),'configVal':'10','public':0x1,'encry':0x0},{'configKey':'firstRregisterSendDrawMjCount','configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x213),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x1c7),'configVal':'普通积分','public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x19b),'configVal':_0x1e5105(0x1c3),'public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x1a3),'configVal':_0x1e5105(0x19f),'public':0x1,'encry':0x0},{'configKey':_0x1e5105(0x1ba),'configVal':_0x1e5105(0x1df),'public':0x1,'encry':0x0}],_0x675f4a=await this[_0x1e5105(0x1f0)][_0x1e5105(0x208)](_0x1e5105(0x1c2)+_0x59463c[_0x1e5105(0x1aa)](_0x26b72b=>'(\x27'+_0x26b72b[_0x1e5105(0x1b4)]+'\x27,\x20\x27'+_0x26b72b['configVal'][_0x1e5105(0x200)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x26b72b[_0x1e5105(0x1f5)]+_0x1e5105(0x1ac)+_0x26b72b['encry']+'\x27)')['join'](',\x20'));common_1[_0x1e5105(0x1e7)]['log'](_0x1e5105(0x1d2),_0x1e5105(0x1da));}catch(_0x5c8cc7){console['log'](_0x1e5105(0x1a8),_0x5c8cc7);throw new common_1[(_0x1e5105(0x1f6))](_0x1e5105(0x1d0),common_1[_0x1e5105(0x1c0)][_0x1e5105(0x1b3)]);}}async[_0x2f1e88(0x19d)](){const _0x41e666=_0x2f1e88,_0x5e50cd=await this[_0x41e666(0x1f0)][_0x41e666(0x208)](_0x41e666(0x1b9)),_0x1dae66=parseInt(_0x5e50cd[0x0][_0x41e666(0x1cd)]);_0x1dae66===0x0&&await this[_0x41e666(0x1f7)]();}async[_0x2f1e88(0x1f7)](){const _0x2373d2=_0x2f1e88;try{const _0x5cc7fe=[{'menuTipText':_0x2373d2(0x1b5),'menuIcon':_0x2373d2(0x1eb),'menuName':_0x2373d2(0x1c6),'menuPath':_0x2373d2(0x1b8),'menuType':0x0,'menuPlatform':0x1,'order':0x64,'isShow':!![]},{'menuTipText':_0x2373d2(0x1a5),'menuIcon':_0x2373d2(0x1ff),'menuName':_0x2373d2(0x1b1),'menuPath':_0x2373d2(0x1b6),'menuType':0x0,'menuPlatform':0x1,'order':0xc8,'isShow':!![]},{'menuTipText':_0x2373d2(0x1a6),'menuIcon':_0x2373d2(0x212),'menuName':_0x2373d2(0x19c),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x1,'order':0x12c,'isShow':!![]},{'menuTipText':_0x2373d2(0x1d6),'menuIcon':'solar:album-line-duotone','menuName':_0x2373d2(0x1ae),'menuPath':'/market','menuType':0x0,'menuPlatform':0x1,'order':0x190,'isShow':!![]},{'menuTipText':'基础绘画','menuIcon':_0x2373d2(0x206),'menuName':_0x2373d2(0x1d9),'menuPath':_0x2373d2(0x198),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4,'isShow':!![]},{'menuTipText':_0x2373d2(0x1fc),'menuIcon':_0x2373d2(0x1cf),'menuName':_0x2373d2(0x1b2),'menuPath':_0x2373d2(0x20e),'menuType':0x0,'menuPlatform':0x1,'order':0x258,'isShow':!![]},{'menuTipText':'会员中心','menuIcon':_0x2373d2(0x1e3),'menuName':_0x2373d2(0x19a),'menuPath':'/pay','menuType':0x0,'menuPlatform':0x1,'order':0x2bc,'isShow':!![]},{'menuTipText':'推广计划','menuIcon':_0x2373d2(0x1f3),'menuName':_0x2373d2(0x1c9),'menuPath':_0x2373d2(0x1de),'menuType':0x0,'menuPlatform':0x1,'order':0x320,'isShow':!![]}],_0x43b89f=[{'menuTipText':_0x2373d2(0x1b5),'menuIcon':_0x2373d2(0x1eb),'menuName':_0x2373d2(0x1c6),'menuPath':_0x2373d2(0x1b8),'menuType':0x0,'menuPlatform':0x0,'order':0x64,'isShow':!![]},{'menuTipText':'应用广场','menuIcon':_0x2373d2(0x1ff),'menuName':'AppStore','menuPath':_0x2373d2(0x1b6),'menuType':0x0,'menuPlatform':0x0,'order':0xc8,'isShow':!![]},{'menuTipText':'专业绘画','menuIcon':_0x2373d2(0x212),'menuName':'Midjourney','menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x0,'order':0x12c,'isShow':!![]},{'menuTipText':'思维导图','menuIcon':_0x2373d2(0x1cf),'menuName':_0x2373d2(0x1b2),'menuPath':_0x2373d2(0x20e),'menuType':0x0,'menuPlatform':0x0,'order':0x190,'isShow':!![]},{'menuTipText':_0x2373d2(0x1a9),'menuIcon':_0x2373d2(0x215),'menuName':'UserCenter','menuPath':'/user-center','menuType':0x0,'menuPlatform':0x0,'order':0x1f4,'isShow':!![]}],_0x2bb277=[..._0x5cc7fe,..._0x43b89f];for(const _0x523035 of _0x2bb277){await this[_0x2373d2(0x1f0)][_0x2373d2(0x208)](_0x2373d2(0x1e9),[_0x523035['menuName'],_0x523035[_0x2373d2(0x204)],_0x523035['menuIcon'],_0x523035[_0x2373d2(0x1ad)],_0x523035[_0x2373d2(0x1ee)],_0x523035[_0x2373d2(0x210)],null,_0x523035[_0x2373d2(0x1d1)],_0x523035['isShow'],![],![]]);}common_1[_0x2373d2(0x1e7)][_0x2373d2(0x20a)]('初始化菜单配置成功',_0x2373d2(0x1da));}catch(_0x23d9c3){console[_0x2373d2(0x20a)](_0x2373d2(0x1a8),_0x23d9c3);throw new common_1[(_0x2373d2(0x1f6))](_0x2373d2(0x214),common_1[_0x2373d2(0x1c0)][_0x2373d2(0x1b3)]);}}async['checkGalleryConfig'](){}};DatabaseService=__decorate([(0x0,common_1['Injectable'])(),__metadata(_0x2f1e88(0x20b),[typeorm_1[_0x2f1e88(0x1dc)]])],DatabaseService),exports[_0x2f1e88(0x1da)]=DatabaseService;
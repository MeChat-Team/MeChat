'use strict';const _0x5f040c=_0x1368;(function(_0x2a5891,_0xd5e64b){const _0x45be77=_0x1368,_0x5903aa=_0x2a5891();while(!![]){try{const _0x44861e=-parseInt(_0x45be77(0xdc))/0x1+-parseInt(_0x45be77(0xf5))/0x2+-parseInt(_0x45be77(0xe7))/0x3+parseInt(_0x45be77(0x11b))/0x4*(parseInt(_0x45be77(0xef))/0x5)+-parseInt(_0x45be77(0x11c))/0x6*(parseInt(_0x45be77(0xf3))/0x7)+parseInt(_0x45be77(0xf9))/0x8+parseInt(_0x45be77(0x110))/0x9;if(_0x44861e===_0xd5e64b)break;else _0x5903aa['push'](_0x5903aa['shift']());}catch(_0x358f6e){_0x5903aa['push'](_0x5903aa['shift']());}}}(_0x5484,0x5f379));var __decorate=this&&this[_0x5f040c(0x10c)]||function(_0x53a309,_0xb825b5,_0xd96d9b,_0x56d21a){const _0x1e1891=_0x5f040c;var _0x3b9e0e=arguments[_0x1e1891(0xdf)],_0x3573b7=_0x3b9e0e<0x3?_0xb825b5:_0x56d21a===null?_0x56d21a=Object[_0x1e1891(0xfd)](_0xb825b5,_0xd96d9b):_0x56d21a,_0x47d645;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x1e1891(0x118))_0x3573b7=Reflect[_0x1e1891(0xfa)](_0x53a309,_0xb825b5,_0xd96d9b,_0x56d21a);else{for(var _0x336dd1=_0x53a309[_0x1e1891(0xdf)]-0x1;_0x336dd1>=0x0;_0x336dd1--)if(_0x47d645=_0x53a309[_0x336dd1])_0x3573b7=(_0x3b9e0e<0x3?_0x47d645(_0x3573b7):_0x3b9e0e>0x3?_0x47d645(_0xb825b5,_0xd96d9b,_0x3573b7):_0x47d645(_0xb825b5,_0xd96d9b))||_0x3573b7;}return _0x3b9e0e>0x3&&_0x3573b7&&Object[_0x1e1891(0xfc)](_0xb825b5,_0xd96d9b,_0x3573b7),_0x3573b7;},__metadata=this&&this['__metadata']||function(_0x5f4396,_0x29df10){const _0x29ed2a=_0x5f040c;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x29ed2a(0x118))return Reflect[_0x29ed2a(0x126)](_0x5f4396,_0x29df10);},__param=this&&this['__param']||function(_0x4031b5,_0x594283){return function(_0x2a5b34,_0x33e0ba){_0x594283(_0x2a5b34,_0x33e0ba,_0x4031b5);};};Object[_0x5f040c(0xfc)](exports,_0x5f040c(0x107),{'value':!![]}),exports[_0x5f040c(0x121)]=void 0x0;function _0x1368(_0x58b51d,_0x288b5e){const _0x54840e=_0x5484();return _0x1368=function(_0x136837,_0x449dcc){_0x136837=_0x136837-0xdc;let _0x33e6ec=_0x54840e[_0x136837];return _0x33e6ec;},_0x1368(_0x58b51d,_0x288b5e);}const swagger_1=require('@nestjs/swagger'),jwtAuth_guard_1=require('../../common/auth/jwtAuth.guard'),chat_service_1=require('./chat.service'),common_1=require(_0x5f040c(0x10a)),chatProcess_dto_1=require(_0x5f040c(0x100)),aiPPT_1=require(_0x5f040c(0xf2)),globalConfig_service_1=require(_0x5f040c(0xde));let ChatController=class ChatController{constructor(_0x5a44ec,_0x4f4e48,_0x3b9d93){const _0x4de122=_0x5f040c;this['chatService']=_0x5a44ec,this[_0x4de122(0xe3)]=_0x4f4e48,this[_0x4de122(0xe4)]=_0x3b9d93;}[_0x5f040c(0x105)](_0x3998d9,_0x516829,_0x136b0f){const _0x297928=_0x5f040c;return this['chatService'][_0x297928(0x105)](_0x3998d9,_0x516829,_0x136b0f);}['chatProcessSync'](_0x175de9,_0x21e278){const _0x514ca2=_0x5f040c;return this[_0x514ca2(0xe8)][_0x514ca2(0x105)](Object[_0x514ca2(0x117)]({},_0x175de9),_0x21e278);}async[_0x5f040c(0x11f)](_0x14ced9,_0x4f73cd){const _0x544609=_0x5f040c;return this[_0x544609(0xe8)][_0x544609(0x105)](Object[_0x544609(0x117)](Object[_0x544609(0x117)]({},_0x14ced9),{'specialModel':_0x544609(0x106)}),_0x4f73cd);}async[_0x5f040c(0x122)](_0x70bb96,_0x23ced1,_0x1c95cf){const _0x179c5a=_0x5f040c;return this[_0x179c5a(0xe8)][_0x179c5a(0x105)](Object[_0x179c5a(0x117)](Object[_0x179c5a(0x117)]({},_0x70bb96),{'specialModel':_0x179c5a(0xfb)}),_0x23ced1,_0x1c95cf);}['ttsProcess'](_0x1fe7d9,_0x19fb66,_0x3a0cfc){const _0x2558f8=_0x5f040c;return this['chatService'][_0x2558f8(0xf0)](_0x1fe7d9,_0x19fb66,_0x3a0cfc);}[_0x5f040c(0x10e)](_0x15811f){const _0x102a90=_0x5f040c;return this[_0x102a90(0xe4)][_0x102a90(0x10e)](_0x15811f);}};__decorate([(0x0,common_1[_0x5f040c(0x10d)])(_0x5f040c(0xec)),(0x0,swagger_1[_0x5f040c(0x104)])({'summary':_0x5f040c(0x123),'description':_0x5f040c(0x112)}),(0x0,swagger_1[_0x5f040c(0x102)])({'status':0xc8,'description':_0x5f040c(0xe1),'schema':{'properties':{'text':{'type':'string','description':'响应文本'},'fileInfo':{'type':_0x5f040c(0x101),'description':'生成的文件信息'},'taskId':{'type':_0x5f040c(0x101),'description':_0x5f040c(0xf7)},'taskData':{'type':_0x5f040c(0x101),'description':_0x5f040c(0x115)},'status':{'type':_0x5f040c(0x10b),'description':_0x5f040c(0x111)}}}}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x5f040c(0x11e)]),(0x0,swagger_1[_0x5f040c(0xed)])(),__param(0x0,(0x0,common_1[_0x5f040c(0xe2)])()),__param(0x1,(0x0,common_1[_0x5f040c(0x10f)])()),__param(0x2,(0x0,common_1[_0x5f040c(0x109)])()),__metadata(_0x5f040c(0x108),Function),__metadata(_0x5f040c(0xe6),[chatProcess_dto_1[_0x5f040c(0xdd)],Object,Object]),__metadata('design:returntype',void 0x0)],ChatController['prototype'],_0x5f040c(0x105),null),__decorate([(0x0,common_1[_0x5f040c(0x10d)])(_0x5f040c(0x124)),(0x0,swagger_1[_0x5f040c(0x104)])({'summary':_0x5f040c(0xff),'description':_0x5f040c(0x119)}),(0x0,swagger_1[_0x5f040c(0x102)])({'status':0xc8,'description':_0x5f040c(0x116)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x5f040c(0x11e)]),(0x0,swagger_1[_0x5f040c(0xed)])(),__param(0x0,(0x0,common_1[_0x5f040c(0xe2)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata(_0x5f040c(0xe6),[chatProcess_dto_1[_0x5f040c(0xdd)],Object]),__metadata(_0x5f040c(0x11d),void 0x0)],ChatController['prototype'],_0x5f040c(0xf6),null),__decorate([(0x0,common_1[_0x5f040c(0x10d)])(_0x5f040c(0xe9)),(0x0,swagger_1[_0x5f040c(0x104)])({'summary':_0x5f040c(0xe0),'description':_0x5f040c(0xeb)}),(0x0,swagger_1[_0x5f040c(0x102)])({'status':0xc8,'description':'返回优化后的绘画描述词'}),(0x0,common_1[_0x5f040c(0xfe)])(jwtAuth_guard_1[_0x5f040c(0x11e)]),(0x0,swagger_1[_0x5f040c(0xed)])(),__param(0x0,(0x0,common_1['Body'])()),__param(0x1,(0x0,common_1[_0x5f040c(0x10f)])()),__metadata(_0x5f040c(0x108),Function),__metadata('design:paramtypes',[chatProcess_dto_1[_0x5f040c(0xdd)],Object]),__metadata(_0x5f040c(0x11d),Promise)],ChatController['prototype'],_0x5f040c(0x11f),null),__decorate([(0x0,common_1[_0x5f040c(0x10d)])('chat-mind'),(0x0,swagger_1['ApiOperation'])({'summary':_0x5f040c(0xee),'description':'使用GPT生成思维导图，使用MindMap专用模型'}),(0x0,swagger_1[_0x5f040c(0x102)])({'status':0xc8,'description':_0x5f040c(0x113)}),(0x0,common_1[_0x5f040c(0xfe)])(jwtAuth_guard_1[_0x5f040c(0x11e)]),(0x0,swagger_1[_0x5f040c(0xed)])(),__param(0x0,(0x0,common_1['Body'])()),__param(0x1,(0x0,common_1[_0x5f040c(0x10f)])()),__param(0x2,(0x0,common_1['Res'])()),__metadata(_0x5f040c(0x108),Function),__metadata(_0x5f040c(0xe6),[chatProcess_dto_1[_0x5f040c(0xdd)],Object,Object]),__metadata(_0x5f040c(0x11d),Promise)],ChatController[_0x5f040c(0x125)],_0x5f040c(0x122),null),__decorate([(0x0,common_1[_0x5f040c(0x10d)])('tts-process'),(0x0,swagger_1['ApiOperation'])({'summary':_0x5f040c(0xf1),'description':'将文本转换为语音'}),(0x0,swagger_1[_0x5f040c(0x102)])({'status':0xc8,'description':_0x5f040c(0x120)}),(0x0,common_1[_0x5f040c(0xfe)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1['Body'])()),__param(0x1,(0x0,common_1[_0x5f040c(0x10f)])()),__param(0x2,(0x0,common_1['Res'])()),__metadata(_0x5f040c(0x108),Function),__metadata('design:paramtypes',[Object,Object,Object]),__metadata(_0x5f040c(0x11d),void 0x0)],ChatController[_0x5f040c(0x125)],_0x5f040c(0xf0),null),__decorate([(0x0,common_1[_0x5f040c(0x10d)])('ppt-cover'),(0x0,swagger_1[_0x5f040c(0x104)])({'summary':_0x5f040c(0xf4),'description':_0x5f040c(0xea)}),(0x0,swagger_1[_0x5f040c(0x102)])({'status':0xc8,'description':_0x5f040c(0xe5)}),(0x0,common_1[_0x5f040c(0xfe)])(jwtAuth_guard_1[_0x5f040c(0x11e)]),(0x0,swagger_1[_0x5f040c(0xed)])(),__param(0x0,(0x0,common_1[_0x5f040c(0xe2)])()),__metadata('design:type',Function),__metadata(_0x5f040c(0xe6),[Object]),__metadata(_0x5f040c(0x11d),void 0x0)],ChatController[_0x5f040c(0x125)],'pptCover',null),ChatController=__decorate([(0x0,swagger_1[_0x5f040c(0x103)])('chatgpt'),(0x0,common_1['Controller'])(_0x5f040c(0x11a)),__metadata(_0x5f040c(0xe6),[chat_service_1[_0x5f040c(0xf8)],globalConfig_service_1[_0x5f040c(0x114)],aiPPT_1['AiPptService']])],ChatController),exports[_0x5f040c(0x121)]=ChatController;function _0x5484(){const _0x8efd6f=['../globalConfig/globalConfig.service','length','GPT描述词绘画翻译','返回对话响应流或任务结果','Body','globalConfigService','aiPptService','返回生成的PPT封面数据','design:paramtypes','415527fIvWcS','chatService','mj-fy','生成PPT封面','使用GPT对绘画描述词进行翻译和优化，使用PromptOptimization模型','chat-process','ApiBearerAuth','Mind思维导图生成','245LvXFYS','ttsProcess','TTS语音合成','../ai/aiPPT','58877adGJfR','PPT封面生成','1157436lCRYsU','chatProcessSync','任务ID','ChatService','5060608osdKsd','decorate','MindMap','defineProperty','getOwnPropertyDescriptor','UseGuards','GPT同步对话','./dto/chatProcess.dto','string','ApiResponse','ApiTags','ApiOperation','chatProcess','PromptOptimization','__esModule','design:type','Res','@nestjs/common','number','__decorate','Post','pptCover','Req','11444274HIhnlo','状态码：1-进行中，2-完成，3-失败','统一处理各种\x20AI\x20服务的请求，支持：\x0a\x20\x20\x20\x201.\x20OpenAI\x20聊天\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20gpt-3.5-turbo,\x20gpt-4\x0a\x20\x20\x20\x202.\x20Suno\x20AI\x20音乐生成\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20suno-music\x0a\x20\x20\x20\x20\x20\x20\x20-\x20歌词生成：action=\x22LYRICS\x22\x0a\x20\x20\x20\x20\x20\x20\x20-\x20音乐生成：action=\x22MUSIC\x22,\x20需提供\x20customId\x0a\x20\x20\x20\x203.\x20Luma\x20视频生成\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20luma-video\x0a\x20\x20\x20\x20\x20\x20\x20-\x20action=\x22CREATE\x22\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持\x20extraParam\x20和\x20fileInfo\x20参数\x0a\x20\x20\x20\x204.\x20Flux\x20绘图\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20flux\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持\x20extraParam\x20参数\x0a\x20\x20\x20\x20\x20\x20\x20-\x20可选\x20options.groupId\x20参数\x0a\x20\x20\x20\x205.\x20Midjourney\x20绘图\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持四种速度模式：\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney:\x20默认速度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney-fast:\x20快速模式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney-relax:\x20放松模式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney-turbo:\x20极速模式\x0a\x20\x20\x20\x20\x20\x20\x20-\x20action:\x20IMAGINE,\x20UPSCALE,\x20VARIATION,\x20ZOOM,\x20PAN,\x20DESCRIBE,\x20BLEND\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持\x20extraParam\x20和\x20fileInfo\x20参数\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20所有请求都支持流式响应，可实时获取生成进度。','返回思维导图数据','GlobalConfigService','任务数据','返回完整的对话响应','assign','function','与GPT进行同步对话，返回完整响应','chatgpt','30236GtKdDf','402RmoMqH','design:returntype','JwtAuthGuard','mjFanyi','返回语音数据流','ChatController','chatmind','AI\x20服务统一接口','chat-sync','prototype','metadata','603780XdRsjD','ChatProcessDto'];_0x5484=function(){return _0x8efd6f;};return _0x5484();}
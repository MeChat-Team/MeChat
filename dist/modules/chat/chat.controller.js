'use strict';const _0x3adc33=_0x5b18;(function(_0xd0d24a,_0x3dce55){const _0x2965aa=_0x5b18,_0x3ed312=_0xd0d24a();while(!![]){try{const _0xad000f=parseInt(_0x2965aa(0xf4))/0x1*(parseInt(_0x2965aa(0xf3))/0x2)+-parseInt(_0x2965aa(0xad))/0x3*(parseInt(_0x2965aa(0xd8))/0x4)+parseInt(_0x2965aa(0xe9))/0x5+parseInt(_0x2965aa(0xfa))/0x6+parseInt(_0x2965aa(0xdf))/0x7*(-parseInt(_0x2965aa(0xc9))/0x8)+-parseInt(_0x2965aa(0xde))/0x9*(parseInt(_0x2965aa(0xd4))/0xa)+parseInt(_0x2965aa(0xbc))/0xb*(parseInt(_0x2965aa(0xf7))/0xc);if(_0xad000f===_0x3dce55)break;else _0x3ed312['push'](_0x3ed312['shift']());}catch(_0x4a374f){_0x3ed312['push'](_0x3ed312['shift']());}}}(_0x3c39,0x6c0ce));function _0x5b18(_0x2583bd,_0x2181eb){const _0x3c3935=_0x3c39();return _0x5b18=function(_0x5b183b,_0x5758e9){_0x5b183b=_0x5b183b-0xab;let _0x3d7804=_0x3c3935[_0x5b183b];return _0x3d7804;},_0x5b18(_0x2583bd,_0x2181eb);}var __decorate=this&&this[_0x3adc33(0xdc)]||function(_0x5859f9,_0x10e763,_0x2bd7fb,_0x2860ea){const _0x360f1f=_0x3adc33;var _0x1b4629=arguments[_0x360f1f(0xcb)],_0x1ebd25=_0x1b4629<0x3?_0x10e763:_0x2860ea===null?_0x2860ea=Object['getOwnPropertyDescriptor'](_0x10e763,_0x2bd7fb):_0x2860ea,_0x33e713;if(typeof Reflect==='object'&&typeof Reflect[_0x360f1f(0xd3)]==='function')_0x1ebd25=Reflect[_0x360f1f(0xd3)](_0x5859f9,_0x10e763,_0x2bd7fb,_0x2860ea);else{for(var _0x14e865=_0x5859f9[_0x360f1f(0xcb)]-0x1;_0x14e865>=0x0;_0x14e865--)if(_0x33e713=_0x5859f9[_0x14e865])_0x1ebd25=(_0x1b4629<0x3?_0x33e713(_0x1ebd25):_0x1b4629>0x3?_0x33e713(_0x10e763,_0x2bd7fb,_0x1ebd25):_0x33e713(_0x10e763,_0x2bd7fb))||_0x1ebd25;}return _0x1b4629>0x3&&_0x1ebd25&&Object[_0x360f1f(0xd2)](_0x10e763,_0x2bd7fb,_0x1ebd25),_0x1ebd25;},__metadata=this&&this['__metadata']||function(_0xd15751,_0x3cc8d1){const _0x28f416=_0x3adc33;if(typeof Reflect==='object'&&typeof Reflect[_0x28f416(0xbb)]===_0x28f416(0xeb))return Reflect[_0x28f416(0xbb)](_0xd15751,_0x3cc8d1);},__param=this&&this[_0x3adc33(0xb2)]||function(_0x16050b,_0x2786ab){return function(_0x3988ad,_0x465afa){_0x2786ab(_0x3988ad,_0x465afa,_0x16050b);};};Object[_0x3adc33(0xd2)](exports,_0x3adc33(0xbe),{'value':!![]}),exports[_0x3adc33(0xd7)]=void 0x0;const swagger_1=require(_0x3adc33(0xf1)),jwtAuth_guard_1=require(_0x3adc33(0xbf)),chat_service_1=require('./chat.service'),common_1=require(_0x3adc33(0xee)),chatProcess_dto_1=require(_0x3adc33(0xb7)),aiPPT_1=require(_0x3adc33(0xf5)),globalConfig_service_1=require(_0x3adc33(0xbd));let ChatController=class ChatController{constructor(_0x7ea6d9,_0x3616f2,_0x661891){const _0x323e73=_0x3adc33;this['chatService']=_0x7ea6d9,this[_0x323e73(0xe6)]=_0x3616f2,this[_0x323e73(0xb3)]=_0x661891;}[_0x3adc33(0xcd)](_0x1eb8e8,_0x4a9c0d,_0x3dcbe5){const _0x18008f=_0x3adc33;return this[_0x18008f(0xca)][_0x18008f(0xcd)](_0x1eb8e8,_0x4a9c0d,_0x3dcbe5);}[_0x3adc33(0xc8)](_0x49d57d,_0x4dfcbc){const _0x4ee16c=_0x3adc33;return this['chatService'][_0x4ee16c(0xcd)](Object[_0x4ee16c(0xd1)]({},_0x49d57d),_0x4dfcbc);}async[_0x3adc33(0xe7)](_0x5907b1,_0x2a8151){const _0x5ec8c8=_0x3adc33;return this['chatService']['chatProcess'](Object[_0x5ec8c8(0xd1)](Object[_0x5ec8c8(0xd1)]({},_0x5907b1),{'specialModel':_0x5ec8c8(0xe4)}),_0x2a8151);}async[_0x3adc33(0xce)](_0x3999b7,_0x5e0d7a,_0x3921a5){const _0x4e57c3=_0x3adc33;return this[_0x4e57c3(0xca)]['chatProcess'](Object[_0x4e57c3(0xd1)](Object[_0x4e57c3(0xd1)]({},_0x3999b7),{'specialModel':_0x4e57c3(0xab)}),_0x5e0d7a,_0x3921a5);}[_0x3adc33(0xef)](_0x2ff2cb,_0x36c8c5,_0x2ba5a0){return this['chatService']['ttsProcess'](_0x2ff2cb,_0x36c8c5,_0x2ba5a0);}[_0x3adc33(0xc7)](_0x5cf4a5){const _0x36a661=_0x3adc33;return this['aiPptService'][_0x36a661(0xc7)](_0x5cf4a5);}};function _0x3c39(){const _0x5474ae=['返回思维导图数据','globalConfigService','mjFanyi','Mind思维导图生成','1649955kpjwuf','tts-process','function','GlobalConfigService','与GPT进行同步对话，返回完整响应','@nestjs/common','ttsProcess','ppt-cover','@nestjs/swagger','chat-process','131420UtvzRM','2DmODSz','../ai/aiPPT','mj-fy','8178756bYqqFC','chatgpt','PPT封面生成','154644JxnYye','Body','MindMap','JwtAuthGuard','105PuygCz','GPT描述词绘画翻译','design:paramtypes','Req','任务数据','__param','aiPptService','生成的文件信息','将文本转换为语音','ChatProcessDto','./dto/chatProcess.dto','ApiTags','状态码：1-进行中，2-完成，3-失败','design:type','metadata','11edSUIC','../globalConfig/globalConfig.service','__esModule','../../common/auth/jwtAuth.guard','使用GPT对绘画描述词进行翻译和优化，使用PromptOptimization模型','使用GPT生成思维导图，使用MindMap专用模型','GPT同步对话','UseGuards','返回优化后的绘画描述词','number','ApiResponse','pptCover','chatProcessSync','68664aJbBCz','chatService','length','ApiBearerAuth','chatProcess','chatmind','design:returntype','AI\x20服务统一接口','assign','defineProperty','decorate','169220NEKXIU','AiPptService','返回完整的对话响应','ChatController','3844CsMyXn','chat-sync','Res','响应文本','__decorate','ApiOperation','99iSxgMQ','413hiVcwl','prototype','chat-mind','Post','string','PromptOptimization'];_0x3c39=function(){return _0x5474ae;};return _0x3c39();}__decorate([(0x0,common_1[_0x3adc33(0xe2)])(_0x3adc33(0xf2)),(0x0,swagger_1['ApiOperation'])({'summary':_0x3adc33(0xd0),'description':'统一处理各种\x20AI\x20服务的请求，支持：\x0a\x20\x20\x20\x201.\x20OpenAI\x20聊天\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20gpt-3.5-turbo,\x20gpt-4\x0a\x20\x20\x20\x202.\x20Suno\x20AI\x20音乐生成\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20suno-music\x0a\x20\x20\x20\x20\x20\x20\x20-\x20歌词生成：action=\x22LYRICS\x22\x0a\x20\x20\x20\x20\x20\x20\x20-\x20音乐生成：action=\x22MUSIC\x22,\x20需提供\x20customId\x0a\x20\x20\x20\x203.\x20Luma\x20视频生成\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20luma-video\x0a\x20\x20\x20\x20\x20\x20\x20-\x20action=\x22CREATE\x22\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持\x20extraParam\x20和\x20fileInfo\x20参数\x0a\x20\x20\x20\x204.\x20Flux\x20绘图\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20flux\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持\x20extraParam\x20参数\x0a\x20\x20\x20\x20\x20\x20\x20-\x20可选\x20options.groupId\x20参数\x0a\x20\x20\x20\x205.\x20Midjourney\x20绘图\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持四种速度模式：\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney:\x20默认速度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney-fast:\x20快速模式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney-relax:\x20放松模式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney-turbo:\x20极速模式\x0a\x20\x20\x20\x20\x20\x20\x20-\x20action:\x20IMAGINE,\x20UPSCALE,\x20VARIATION,\x20ZOOM,\x20PAN,\x20DESCRIBE,\x20BLEND\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持\x20extraParam\x20和\x20fileInfo\x20参数\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20所有请求都支持流式响应，可实时获取生成进度。'}),(0x0,swagger_1[_0x3adc33(0xc6)])({'status':0xc8,'description':'返回对话响应流或任务结果','schema':{'properties':{'text':{'type':_0x3adc33(0xe3),'description':_0x3adc33(0xdb)},'fileInfo':{'type':'string','description':_0x3adc33(0xb4)},'taskId':{'type':_0x3adc33(0xe3),'description':'任务ID'},'taskData':{'type':_0x3adc33(0xe3),'description':_0x3adc33(0xb1)},'status':{'type':_0x3adc33(0xc5),'description':_0x3adc33(0xb9)}}}}),(0x0,common_1[_0x3adc33(0xc3)])(jwtAuth_guard_1[_0x3adc33(0xac)]),(0x0,swagger_1[_0x3adc33(0xcc)])(),__param(0x0,(0x0,common_1['Body'])()),__param(0x1,(0x0,common_1[_0x3adc33(0xb0)])()),__param(0x2,(0x0,common_1['Res'])()),__metadata('design:type',Function),__metadata('design:paramtypes',[chatProcess_dto_1['ChatProcessDto'],Object,Object]),__metadata(_0x3adc33(0xcf),void 0x0)],ChatController[_0x3adc33(0xe0)],_0x3adc33(0xcd),null),__decorate([(0x0,common_1[_0x3adc33(0xe2)])(_0x3adc33(0xd9)),(0x0,swagger_1[_0x3adc33(0xdd)])({'summary':_0x3adc33(0xc2),'description':_0x3adc33(0xed)}),(0x0,swagger_1[_0x3adc33(0xc6)])({'status':0xc8,'description':_0x3adc33(0xd6)}),(0x0,common_1[_0x3adc33(0xc3)])(jwtAuth_guard_1[_0x3adc33(0xac)]),(0x0,swagger_1[_0x3adc33(0xcc)])(),__param(0x0,(0x0,common_1[_0x3adc33(0xfb)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x3adc33(0xba),Function),__metadata('design:paramtypes',[chatProcess_dto_1[_0x3adc33(0xb6)],Object]),__metadata(_0x3adc33(0xcf),void 0x0)],ChatController[_0x3adc33(0xe0)],'chatProcessSync',null),__decorate([(0x0,common_1[_0x3adc33(0xe2)])(_0x3adc33(0xf6)),(0x0,swagger_1['ApiOperation'])({'summary':_0x3adc33(0xae),'description':_0x3adc33(0xc0)}),(0x0,swagger_1[_0x3adc33(0xc6)])({'status':0xc8,'description':_0x3adc33(0xc4)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x3adc33(0xac)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1['Body'])()),__param(0x1,(0x0,common_1[_0x3adc33(0xb0)])()),__metadata(_0x3adc33(0xba),Function),__metadata(_0x3adc33(0xaf),[chatProcess_dto_1[_0x3adc33(0xb6)],Object]),__metadata(_0x3adc33(0xcf),Promise)],ChatController['prototype'],'mjFanyi',null),__decorate([(0x0,common_1[_0x3adc33(0xe2)])(_0x3adc33(0xe1)),(0x0,swagger_1['ApiOperation'])({'summary':_0x3adc33(0xe8),'description':_0x3adc33(0xc1)}),(0x0,swagger_1[_0x3adc33(0xc6)])({'status':0xc8,'description':_0x3adc33(0xe5)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x3adc33(0xac)]),(0x0,swagger_1[_0x3adc33(0xcc)])(),__param(0x0,(0x0,common_1[_0x3adc33(0xfb)])()),__param(0x1,(0x0,common_1[_0x3adc33(0xb0)])()),__param(0x2,(0x0,common_1['Res'])()),__metadata(_0x3adc33(0xba),Function),__metadata(_0x3adc33(0xaf),[chatProcess_dto_1[_0x3adc33(0xb6)],Object,Object]),__metadata(_0x3adc33(0xcf),Promise)],ChatController[_0x3adc33(0xe0)],'chatmind',null),__decorate([(0x0,common_1['Post'])(_0x3adc33(0xea)),(0x0,swagger_1[_0x3adc33(0xdd)])({'summary':'TTS语音合成','description':_0x3adc33(0xb5)}),(0x0,swagger_1['ApiResponse'])({'status':0xc8,'description':'返回语音数据流'}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x3adc33(0xac)]),(0x0,swagger_1[_0x3adc33(0xcc)])(),__param(0x0,(0x0,common_1['Body'])()),__param(0x1,(0x0,common_1[_0x3adc33(0xb0)])()),__param(0x2,(0x0,common_1[_0x3adc33(0xda)])()),__metadata(_0x3adc33(0xba),Function),__metadata(_0x3adc33(0xaf),[Object,Object,Object]),__metadata(_0x3adc33(0xcf),void 0x0)],ChatController[_0x3adc33(0xe0)],'ttsProcess',null),__decorate([(0x0,common_1[_0x3adc33(0xe2)])(_0x3adc33(0xf0)),(0x0,swagger_1[_0x3adc33(0xdd)])({'summary':_0x3adc33(0xf9),'description':'生成PPT封面'}),(0x0,swagger_1['ApiResponse'])({'status':0xc8,'description':'返回生成的PPT封面数据'}),(0x0,common_1[_0x3adc33(0xc3)])(jwtAuth_guard_1[_0x3adc33(0xac)]),(0x0,swagger_1[_0x3adc33(0xcc)])(),__param(0x0,(0x0,common_1['Body'])()),__metadata('design:type',Function),__metadata(_0x3adc33(0xaf),[Object]),__metadata(_0x3adc33(0xcf),void 0x0)],ChatController[_0x3adc33(0xe0)],_0x3adc33(0xc7),null),ChatController=__decorate([(0x0,swagger_1[_0x3adc33(0xb8)])('chatgpt'),(0x0,common_1['Controller'])(_0x3adc33(0xf8)),__metadata(_0x3adc33(0xaf),[chat_service_1['ChatService'],globalConfig_service_1[_0x3adc33(0xec)],aiPPT_1[_0x3adc33(0xd5)]])],ChatController),exports[_0x3adc33(0xd7)]=ChatController;
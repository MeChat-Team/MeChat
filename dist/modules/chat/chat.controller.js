'use strict';const _0x246c19=_0x4ff0;(function(_0x25a939,_0x5211d6){const _0x4160ac=_0x4ff0,_0x52f2ab=_0x25a939();while(!![]){try{const _0x3f81f6=parseInt(_0x4160ac(0x16a))/0x1+-parseInt(_0x4160ac(0x17f))/0x2+-parseInt(_0x4160ac(0x184))/0x3+-parseInt(_0x4160ac(0x171))/0x4*(parseInt(_0x4160ac(0x18b))/0x5)+parseInt(_0x4160ac(0x181))/0x6*(-parseInt(_0x4160ac(0x15d))/0x7)+-parseInt(_0x4160ac(0x166))/0x8+-parseInt(_0x4160ac(0x178))/0x9*(-parseInt(_0x4160ac(0x19c))/0xa);if(_0x3f81f6===_0x5211d6)break;else _0x52f2ab['push'](_0x52f2ab['shift']());}catch(_0x3618f3){_0x52f2ab['push'](_0x52f2ab['shift']());}}}(_0x2a79,0x46c1a));function _0x2a79(){const _0x22e0cb=['chatmind','chat-process','mj-fy','响应文本','design:returntype','状态码：1-进行中，2-完成，3-失败','统一处理各种\x20AI\x20服务的请求，支持：\x0a\x20\x20\x20\x201.\x20OpenAI\x20聊天\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20gpt-3.5-turbo,\x20gpt-4\x0a\x20\x20\x20\x202.\x20Suno\x20AI\x20音乐生成\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20suno-music\x0a\x20\x20\x20\x20\x20\x20\x20-\x20歌词生成：action=\x22LYRICS\x22\x0a\x20\x20\x20\x20\x20\x20\x20-\x20音乐生成：action=\x22MUSIC\x22,\x20需提供\x20customId\x0a\x20\x20\x20\x203.\x20Luma\x20视频生成\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20luma-video\x0a\x20\x20\x20\x20\x20\x20\x20-\x20action=\x22CREATE\x22\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持\x20extraParam\x20和\x20fileInfo\x20参数\x0a\x20\x20\x20\x204.\x20Flux\x20绘图\x0a\x20\x20\x20\x20\x20\x20\x20-\x20model:\x20flux\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持\x20extraParam\x20参数\x0a\x20\x20\x20\x20\x20\x20\x20-\x20可选\x20options.groupId\x20参数\x0a\x20\x20\x20\x205.\x20Midjourney\x20绘图\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持四种速度模式：\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney:\x20默认速度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney-fast:\x20快速模式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney-relax:\x20放松模式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20midjourney-turbo:\x20极速模式\x0a\x20\x20\x20\x20\x20\x20\x20-\x20action:\x20IMAGINE,\x20UPSCALE,\x20VARIATION,\x20ZOOM,\x20PAN,\x20DESCRIBE,\x20BLEND\x0a\x20\x20\x20\x20\x20\x20\x20-\x20支持\x20extraParam\x20和\x20fileInfo\x20参数\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20所有请求都支持流式响应，可实时获取生成进度。','function','3222880WnFBsv','ppt-cover','任务ID','ApiResponse','261040MgdxLr','ChatService','metadata','AI\x20服务统一接口','../../common/auth/jwtAuth.guard','Controller','ttsProcess','350324ZHEnhy','UseGuards','design:paramtypes','number','ApiOperation','@nestjs/swagger','design:type','147141NVrgIE','object','与GPT进行同步对话，返回完整响应','chatService','__decorate','decorate','返回思维导图数据','1076996ZioLzQ','defineProperty','21024XCeddD','返回优化后的绘画描述词','任务数据','964203BIQwdu','JwtAuthGuard','globalConfigService','./chat.service','__metadata','使用GPT对绘画描述词进行翻译和优化，使用PromptOptimization模型','ApiBearerAuth','10qseVIE','生成PPT封面','返回生成的PPT封面数据','ChatController','chatProcessSync','GPT描述词绘画翻译','chat-sync','prototype','Post','pptCover','chatgpt','string','ChatProcessDto','assign','Res','chatProcess','aiPptService','1030utAURS','Body','../ai/aiPPT','Mind思维导图生成','PPT封面生成','GPT同步对话','Req','MindMap','使用GPT生成思维导图，使用MindMap专用模型','返回完整的对话响应','PromptOptimization','tts-process','434dhmqyR'];_0x2a79=function(){return _0x22e0cb;};return _0x2a79();}function _0x4ff0(_0x12c490,_0xf67dfa){const _0x2a797f=_0x2a79();return _0x4ff0=function(_0x4ff061,_0x5b31e3){_0x4ff061=_0x4ff061-0x15b;let _0x3a6e54=_0x2a797f[_0x4ff061];return _0x3a6e54;},_0x4ff0(_0x12c490,_0xf67dfa);}var __decorate=this&&this[_0x246c19(0x17c)]||function(_0x4bb7c3,_0x1fdf2a,_0x31053a,_0x1e1b94){const _0xecc18c=_0x246c19;var _0x47fd70=arguments['length'],_0x314db6=_0x47fd70<0x3?_0x1fdf2a:_0x1e1b94===null?_0x1e1b94=Object['getOwnPropertyDescriptor'](_0x1fdf2a,_0x31053a):_0x1e1b94,_0x487410;if(typeof Reflect===_0xecc18c(0x179)&&typeof Reflect['decorate']===_0xecc18c(0x165))_0x314db6=Reflect[_0xecc18c(0x17d)](_0x4bb7c3,_0x1fdf2a,_0x31053a,_0x1e1b94);else{for(var _0x5c27dc=_0x4bb7c3['length']-0x1;_0x5c27dc>=0x0;_0x5c27dc--)if(_0x487410=_0x4bb7c3[_0x5c27dc])_0x314db6=(_0x47fd70<0x3?_0x487410(_0x314db6):_0x47fd70>0x3?_0x487410(_0x1fdf2a,_0x31053a,_0x314db6):_0x487410(_0x1fdf2a,_0x31053a))||_0x314db6;}return _0x47fd70>0x3&&_0x314db6&&Object[_0xecc18c(0x180)](_0x1fdf2a,_0x31053a,_0x314db6),_0x314db6;},__metadata=this&&this[_0x246c19(0x188)]||function(_0x366098,_0xf0af8b){const _0x4d3865=_0x246c19;if(typeof Reflect===_0x4d3865(0x179)&&typeof Reflect[_0x4d3865(0x16c)]===_0x4d3865(0x165))return Reflect[_0x4d3865(0x16c)](_0x366098,_0xf0af8b);},__param=this&&this['__param']||function(_0x2b0d4f,_0x23277b){return function(_0x57731b,_0x430083){_0x23277b(_0x57731b,_0x430083,_0x2b0d4f);};};Object[_0x246c19(0x180)](exports,'__esModule',{'value':!![]}),exports[_0x246c19(0x18e)]=void 0x0;const swagger_1=require(_0x246c19(0x176)),jwtAuth_guard_1=require(_0x246c19(0x16e)),chat_service_1=require(_0x246c19(0x187)),common_1=require('@nestjs/common'),chatProcess_dto_1=require('./dto/chatProcess.dto'),aiPPT_1=require(_0x246c19(0x19e)),globalConfig_service_1=require('../globalConfig/globalConfig.service');let ChatController=class ChatController{constructor(_0x40ea54,_0x334ab9,_0x492618){const _0x3966ad=_0x246c19;this[_0x3966ad(0x17b)]=_0x40ea54,this[_0x3966ad(0x186)]=_0x334ab9,this[_0x3966ad(0x19b)]=_0x492618;}['chatProcess'](_0x51fef6,_0x2a567f,_0x2876d9){const _0x4aa52b=_0x246c19;return this[_0x4aa52b(0x17b)][_0x4aa52b(0x19a)](_0x51fef6,_0x2a567f,_0x2876d9);}[_0x246c19(0x18f)](_0x197e95,_0x1890dc){const _0x1996ea=_0x246c19;return this[_0x1996ea(0x17b)]['chatProcess'](Object[_0x1996ea(0x198)]({},_0x197e95),_0x1890dc);}async['mjFanyi'](_0x38f8aa,_0x32b889){const _0x2005ea=_0x246c19;return this['chatService'][_0x2005ea(0x19a)](Object[_0x2005ea(0x198)](Object['assign']({},_0x38f8aa),{'specialModel':_0x2005ea(0x15b)}),_0x32b889);}async[_0x246c19(0x15e)](_0x5de54b,_0x108021,_0x5b7e91){const _0x237b39=_0x246c19;return this[_0x237b39(0x17b)]['chatProcess'](Object[_0x237b39(0x198)](Object[_0x237b39(0x198)]({},_0x5de54b),{'specialModel':_0x237b39(0x1a3)}),_0x108021,_0x5b7e91);}[_0x246c19(0x170)](_0x27f625,_0x2211c5,_0xb9dd48){const _0x5dd858=_0x246c19;return this[_0x5dd858(0x17b)][_0x5dd858(0x170)](_0x27f625,_0x2211c5,_0xb9dd48);}[_0x246c19(0x194)](_0x447045){const _0x253df7=_0x246c19;return this['aiPptService'][_0x253df7(0x194)](_0x447045);}};__decorate([(0x0,common_1[_0x246c19(0x193)])(_0x246c19(0x15f)),(0x0,swagger_1['ApiOperation'])({'summary':_0x246c19(0x16d),'description':_0x246c19(0x164)}),(0x0,swagger_1['ApiResponse'])({'status':0xc8,'description':'返回对话响应流或任务结果','schema':{'properties':{'text':{'type':_0x246c19(0x196),'description':_0x246c19(0x161)},'fileInfo':{'type':'string','description':'生成的文件信息'},'taskId':{'type':_0x246c19(0x196),'description':_0x246c19(0x168)},'taskData':{'type':_0x246c19(0x196),'description':_0x246c19(0x183)},'status':{'type':_0x246c19(0x174),'description':_0x246c19(0x163)}}}}),(0x0,common_1[_0x246c19(0x172)])(jwtAuth_guard_1[_0x246c19(0x185)]),(0x0,swagger_1[_0x246c19(0x18a)])(),__param(0x0,(0x0,common_1[_0x246c19(0x19d)])()),__param(0x1,(0x0,common_1[_0x246c19(0x1a2)])()),__param(0x2,(0x0,common_1['Res'])()),__metadata(_0x246c19(0x177),Function),__metadata('design:paramtypes',[chatProcess_dto_1[_0x246c19(0x197)],Object,Object]),__metadata(_0x246c19(0x162),void 0x0)],ChatController['prototype'],_0x246c19(0x19a),null),__decorate([(0x0,common_1[_0x246c19(0x193)])(_0x246c19(0x191)),(0x0,swagger_1[_0x246c19(0x175)])({'summary':_0x246c19(0x1a1),'description':_0x246c19(0x17a)}),(0x0,swagger_1[_0x246c19(0x169)])({'status':0xc8,'description':_0x246c19(0x1a5)}),(0x0,common_1['UseGuards'])(jwtAuth_guard_1[_0x246c19(0x185)]),(0x0,swagger_1[_0x246c19(0x18a)])(),__param(0x0,(0x0,common_1['Body'])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x246c19(0x177),Function),__metadata(_0x246c19(0x173),[chatProcess_dto_1[_0x246c19(0x197)],Object]),__metadata(_0x246c19(0x162),void 0x0)],ChatController['prototype'],_0x246c19(0x18f),null),__decorate([(0x0,common_1[_0x246c19(0x193)])(_0x246c19(0x160)),(0x0,swagger_1['ApiOperation'])({'summary':_0x246c19(0x190),'description':_0x246c19(0x189)}),(0x0,swagger_1[_0x246c19(0x169)])({'status':0xc8,'description':_0x246c19(0x182)}),(0x0,common_1[_0x246c19(0x172)])(jwtAuth_guard_1[_0x246c19(0x185)]),(0x0,swagger_1[_0x246c19(0x18a)])(),__param(0x0,(0x0,common_1[_0x246c19(0x19d)])()),__param(0x1,(0x0,common_1[_0x246c19(0x1a2)])()),__metadata('design:type',Function),__metadata(_0x246c19(0x173),[chatProcess_dto_1[_0x246c19(0x197)],Object]),__metadata('design:returntype',Promise)],ChatController[_0x246c19(0x192)],'mjFanyi',null),__decorate([(0x0,common_1['Post'])('chat-mind'),(0x0,swagger_1[_0x246c19(0x175)])({'summary':_0x246c19(0x19f),'description':_0x246c19(0x1a4)}),(0x0,swagger_1[_0x246c19(0x169)])({'status':0xc8,'description':_0x246c19(0x17e)}),(0x0,common_1[_0x246c19(0x172)])(jwtAuth_guard_1[_0x246c19(0x185)]),(0x0,swagger_1[_0x246c19(0x18a)])(),__param(0x0,(0x0,common_1[_0x246c19(0x19d)])()),__param(0x1,(0x0,common_1[_0x246c19(0x1a2)])()),__param(0x2,(0x0,common_1[_0x246c19(0x199)])()),__metadata(_0x246c19(0x177),Function),__metadata('design:paramtypes',[chatProcess_dto_1[_0x246c19(0x197)],Object,Object]),__metadata(_0x246c19(0x162),Promise)],ChatController[_0x246c19(0x192)],_0x246c19(0x15e),null),__decorate([(0x0,common_1['Post'])(_0x246c19(0x15c)),(0x0,swagger_1[_0x246c19(0x175)])({'summary':'TTS语音合成','description':'将文本转换为语音'}),(0x0,swagger_1[_0x246c19(0x169)])({'status':0xc8,'description':'返回语音数据流'}),(0x0,common_1[_0x246c19(0x172)])(jwtAuth_guard_1[_0x246c19(0x185)]),(0x0,swagger_1[_0x246c19(0x18a)])(),__param(0x0,(0x0,common_1[_0x246c19(0x19d)])()),__param(0x1,(0x0,common_1[_0x246c19(0x1a2)])()),__param(0x2,(0x0,common_1['Res'])()),__metadata('design:type',Function),__metadata(_0x246c19(0x173),[Object,Object,Object]),__metadata('design:returntype',void 0x0)],ChatController['prototype'],_0x246c19(0x170),null),__decorate([(0x0,common_1['Post'])(_0x246c19(0x167)),(0x0,swagger_1[_0x246c19(0x175)])({'summary':_0x246c19(0x1a0),'description':_0x246c19(0x18c)}),(0x0,swagger_1[_0x246c19(0x169)])({'status':0xc8,'description':_0x246c19(0x18d)}),(0x0,common_1[_0x246c19(0x172)])(jwtAuth_guard_1[_0x246c19(0x185)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x246c19(0x19d)])()),__metadata(_0x246c19(0x177),Function),__metadata(_0x246c19(0x173),[Object]),__metadata('design:returntype',void 0x0)],ChatController[_0x246c19(0x192)],'pptCover',null),ChatController=__decorate([(0x0,swagger_1['ApiTags'])(_0x246c19(0x195)),(0x0,common_1[_0x246c19(0x16f)])(_0x246c19(0x195)),__metadata(_0x246c19(0x173),[chat_service_1[_0x246c19(0x16b)],globalConfig_service_1['GlobalConfigService'],aiPPT_1['AiPptService']])],ChatController),exports['ChatController']=ChatController;
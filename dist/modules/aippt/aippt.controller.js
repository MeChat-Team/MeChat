'use strict';function _0x3672(){const _0x4f48ff=['aippt','服务器内部错误或AI服务调用失败','data:\x20','ApiResponse','design:type','Get','generateOutline','defineProperty','prototype','__param','AipptService','176336tdKzoR','803575XvQyZE','8161569FmwgFI','未找到指定的PPT生成任务','./dto/generate-ppt.dto','生成PPT内容','stringify','end','Cache-Control','length','error','ApiOperation','Post','pptId参数缺失或格式错误','design:paramtypes','getPptInfo','decorate','2218601mbvdUi','#\x20主题\x0a##\x20章节1\x0a###\x20页面1\x0a####\x20内容1','subscribe','asyncPptInfo','__esModule','__metadata','生成PPT大纲','ApiBody','\x0a\x20\x20\x20\x20查询异步生成PPT的进度和数据。\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20返回数据格式：\x0a\x20\x20\x20\x20```json\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x22status\x22:\x20\x22processing\x22,\x20//\x20processing:\x20生成中,\x20completed:\x20已完成,\x20failed:\x20失败\x0a\x20\x20\x20\x20\x20\x20\x22progress\x22:\x2075,\x20//\x20生成进度(0-100)\x0a\x20\x20\x20\x20\x20\x20\x22url\x22:\x20\x22https://example.com/ppt/xxx.pptx\x22,\x20//\x20当status为completed时返回下载地址\x0a\x20\x20\x20\x20\x20\x20\x22error\x22:\x20\x22错误信息\x22\x20//\x20当status为failed时返回错误信息\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20```\x0a\x20\x20\x20\x20','ApiQuery','24HavbxE','PPT生成任务ID','\x0a\x20\x20\x20\x20根据大纲生成完整内容并异步生成PPT。\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20返回的SSE流中，每条数据格式为：\x0a\x20\x20\x20\x20```json\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x22text\x22:\x20\x22生成的内容片段\x22,\x0a\x20\x20\x20\x20\x20\x20\x22status\x22:\x201,\x20//\x201:\x20内容生成中,\x202:\x20内容生成完成,\x203:\x20PPT生成中,\x204:\x20全部完成\x0a\x20\x20\x20\x20\x20\x20\x22result\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20当status为2时，返回完整的内容\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22content\x22:\x20\x22完整的内容\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20当status为3或4时，返回PPT生成信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22pptId\x22:\x20\x22异步生成的PPT\x20ID\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22progress\x22:\x2075\x20//\x20PPT生成进度(0-100)\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20```\x0a\x20\x20\x20\x20','使用简洁的设计风格','function','design:returntype','write','Access-Control-Allow-Origin','基本示例','keep-alive','返回SSE流，包含实时生成的内容和PPT生成状态','8700900JPiGlG','generateContent','7wIaoPi','text/event-stream','__decorate','setHeader','参数验证失败','返回PPT生成的状态信息','2317083PaZBic','./dto/generate-content.dto','metadata','Error\x20writing\x20SSE\x20data:','Response','查询PPT生成状态','Body','Stream\x20error:','生成PPT内容所需的参数','GenerateContentDto','@nestjs/swagger','6cNoxgS','object','关于人工智能的演讲','生成大纲所需的参数','ppt_task_123456','generate-content','AipptController','@nestjs/common','127544DdpvBa','generate-outline','Controller','ApiTags','no-cache','Connection','\x0a\x20\x20\x20\x20流式生成PPT大纲目录markdown。\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20返回的SSE流中，每条数据格式为：\x0a\x20\x20\x20\x20```json\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x22text\x22:\x20\x22生成的文本内容\x22,\x0a\x20\x20\x20\x20\x20\x20\x22status\x22:\x201,\x20//\x201:\x20生成中,\x202:\x20生成完成\x0a\x20\x20\x20\x20\x20\x20\x22result\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20当status为2时，返回完整的大纲结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22outline\x22:\x20\x22完整的大纲markdown\x22\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20```\x0a\x20\x20\x20\x20','aipptService','Query','GenerateOutlineDto'];_0x3672=function(){return _0x4f48ff;};return _0x3672();}const _0x206c04=_0x5de4;(function(_0x2a9688,_0x582ea6){const _0x1d9f46=_0x5de4,_0x260965=_0x2a9688();while(!![]){try{const _0x3add92=parseInt(_0x1d9f46(0x1cd))/0x1*(parseInt(_0x1d9f46(0x1a5))/0x2)+-parseInt(_0x1d9f46(0x1d3))/0x3+-parseInt(_0x1d9f46(0x1c0))/0x4*(-parseInt(_0x1d9f46(0x1a6))/0x5)+parseInt(_0x1d9f46(0x1de))/0x6*(-parseInt(_0x1d9f46(0x1b6))/0x7)+-parseInt(_0x1d9f46(0x1e6))/0x8+parseInt(_0x1d9f46(0x1a7))/0x9+-parseInt(_0x1d9f46(0x1cb))/0xa;if(_0x3add92===_0x582ea6)break;else _0x260965['push'](_0x260965['shift']());}catch(_0x5226f9){_0x260965['push'](_0x260965['shift']());}}}(_0x3672,0x7d3ca));var __decorate=this&&this[_0x206c04(0x1cf)]||function(_0x511473,_0x449746,_0x1b042d,_0x16340c){const _0x9f7a73=_0x206c04;var _0xfa4076=arguments[_0x9f7a73(0x1ae)],_0x5c6ca3=_0xfa4076<0x3?_0x449746:_0x16340c===null?_0x16340c=Object['getOwnPropertyDescriptor'](_0x449746,_0x1b042d):_0x16340c,_0xde2e39;if(typeof Reflect===_0x9f7a73(0x1df)&&typeof Reflect[_0x9f7a73(0x1b5)]==='function')_0x5c6ca3=Reflect['decorate'](_0x511473,_0x449746,_0x1b042d,_0x16340c);else{for(var _0x5b2af8=_0x511473[_0x9f7a73(0x1ae)]-0x1;_0x5b2af8>=0x0;_0x5b2af8--)if(_0xde2e39=_0x511473[_0x5b2af8])_0x5c6ca3=(_0xfa4076<0x3?_0xde2e39(_0x5c6ca3):_0xfa4076>0x3?_0xde2e39(_0x449746,_0x1b042d,_0x5c6ca3):_0xde2e39(_0x449746,_0x1b042d))||_0x5c6ca3;}return _0xfa4076>0x3&&_0x5c6ca3&&Object[_0x9f7a73(0x1a1)](_0x449746,_0x1b042d,_0x5c6ca3),_0x5c6ca3;},__metadata=this&&this[_0x206c04(0x1bb)]||function(_0x852d10,_0x3d331b){const _0x23c746=_0x206c04;if(typeof Reflect===_0x23c746(0x1df)&&typeof Reflect[_0x23c746(0x1d5)]===_0x23c746(0x1c4))return Reflect[_0x23c746(0x1d5)](_0x852d10,_0x3d331b);},__param=this&&this[_0x206c04(0x1a3)]||function(_0x6d3284,_0x19113e){return function(_0x18196a,_0x572a66){_0x19113e(_0x18196a,_0x572a66,_0x6d3284);};};Object[_0x206c04(0x1a1)](exports,_0x206c04(0x1ba),{'value':!![]}),exports[_0x206c04(0x1e4)]=void 0x0;const common_1=require(_0x206c04(0x1e5)),aippt_service_1=require('./aippt.service'),generate_ppt_dto_1=require(_0x206c04(0x1a9)),generate_content_dto_1=require(_0x206c04(0x1d4)),swagger_1=require(_0x206c04(0x1dd));let AipptController=class AipptController{constructor(_0x5d6d27){this['aipptService']=_0x5d6d27;}async['generateOutline'](_0x2633f1,_0x33796c){const _0x28a2e4=_0x206c04;_0x33796c['setHeader']('Content-Type',_0x28a2e4(0x1ce)),_0x33796c[_0x28a2e4(0x1d0)](_0x28a2e4(0x1ad),_0x28a2e4(0x1ea)),_0x33796c[_0x28a2e4(0x1d0)](_0x28a2e4(0x1eb),'keep-alive'),_0x33796c[_0x28a2e4(0x1d0)](_0x28a2e4(0x1c7),'*');const _0x3dcdd6=await this[_0x28a2e4(0x1ed)][_0x28a2e4(0x1a0)](_0x2633f1);_0x3dcdd6[_0x28a2e4(0x1b8)]({'next':_0x42c54d=>{const _0x5dadd8=_0x28a2e4;try{_0x33796c[_0x5dadd8(0x1c6)](_0x5dadd8(0x1f2)+JSON[_0x5dadd8(0x1ab)](_0x42c54d)+'\x0a\x0a');}catch(_0x5306b1){console[_0x5dadd8(0x1af)](_0x5dadd8(0x1d6),_0x5306b1),_0x33796c['end']();}},'error':_0x2f21e8=>{const _0x1ae27d=_0x28a2e4;console['error'](_0x1ae27d(0x1da),_0x2f21e8),_0x33796c[_0x1ae27d(0x1ac)]();},'complete':()=>{const _0x217fda=_0x28a2e4;_0x33796c[_0x217fda(0x1ac)]();}});}async[_0x206c04(0x1cc)](_0x516dde,_0x1a787f){const _0x3786ed=_0x206c04;_0x1a787f[_0x3786ed(0x1d0)]('Content-Type',_0x3786ed(0x1ce)),_0x1a787f['setHeader'](_0x3786ed(0x1ad),_0x3786ed(0x1ea)),_0x1a787f[_0x3786ed(0x1d0)](_0x3786ed(0x1eb),_0x3786ed(0x1c9)),_0x1a787f['setHeader'](_0x3786ed(0x1c7),'*');const _0x5a8da9=await this['aipptService'][_0x3786ed(0x1cc)](_0x516dde);_0x5a8da9['subscribe']({'next':_0x524ff0=>{const _0x1c24a6=_0x3786ed;try{_0x1a787f[_0x1c24a6(0x1c6)]('data:\x20'+JSON['stringify'](_0x524ff0)+'\x0a\x0a');}catch(_0x28797c){console[_0x1c24a6(0x1af)](_0x1c24a6(0x1d6),_0x28797c),_0x1a787f['end']();}},'error':_0x3b34bb=>{const _0x16193e=_0x3786ed;console[_0x16193e(0x1af)](_0x16193e(0x1da),_0x3b34bb),_0x1a787f['end']();},'complete':()=>{const _0x5edb03=_0x3786ed;_0x1a787f[_0x5edb03(0x1ac)]();}});}async[_0x206c04(0x1b4)](_0x5882d6){const _0xed9059=_0x206c04;return this['aipptService'][_0xed9059(0x1b9)](_0x5882d6);}};function _0x5de4(_0x1ac18b,_0x495899){const _0x367264=_0x3672();return _0x5de4=function(_0x5de465,_0xd86847){_0x5de465=_0x5de465-0x1a0;let _0x338a20=_0x367264[_0x5de465];return _0x338a20;},_0x5de4(_0x1ac18b,_0x495899);}__decorate([(0x0,common_1[_0x206c04(0x1b1)])(_0x206c04(0x1e7)),(0x0,swagger_1[_0x206c04(0x1b0)])({'summary':_0x206c04(0x1bc),'description':_0x206c04(0x1ec)}),(0x0,swagger_1[_0x206c04(0x1bd)])({'type':generate_ppt_dto_1['GenerateOutlineDto'],'description':_0x206c04(0x1e1),'examples':{'example1':{'value':{'length':0x5,'lang':'zh','prompt':_0x206c04(0x1e0),'subject':'技术','dataUrl':null},'summary':_0x206c04(0x1c8)}}}),(0x0,swagger_1[_0x206c04(0x1f3)])({'status':0xc8,'description':'返回SSE流，包含实时生成的大纲内容'}),(0x0,swagger_1['ApiResponse'])({'status':0x190,'description':_0x206c04(0x1d1)}),(0x0,swagger_1[_0x206c04(0x1f3)])({'status':0x1f4,'description':_0x206c04(0x1f1)}),__param(0x0,(0x0,common_1[_0x206c04(0x1d9)])()),__param(0x1,(0x0,common_1[_0x206c04(0x1d7)])()),__metadata('design:type',Function),__metadata(_0x206c04(0x1b3),[generate_ppt_dto_1[_0x206c04(0x1ef)],Object]),__metadata(_0x206c04(0x1c5),Promise)],AipptController[_0x206c04(0x1a2)],'generateOutline',null),__decorate([(0x0,common_1['Post'])(_0x206c04(0x1e3)),(0x0,swagger_1[_0x206c04(0x1b0)])({'summary':_0x206c04(0x1aa),'description':_0x206c04(0x1c2)}),(0x0,swagger_1[_0x206c04(0x1bd)])({'type':generate_content_dto_1[_0x206c04(0x1dc)],'description':_0x206c04(0x1db),'examples':{'example1':{'value':{'templateId':'template_modern','outlineMarkdown':_0x206c04(0x1b7),'asyncGenPptx':!![],'prompt':_0x206c04(0x1c3),'dataUrl':null},'summary':_0x206c04(0x1c8)}}}),(0x0,swagger_1[_0x206c04(0x1f3)])({'status':0xc8,'description':_0x206c04(0x1ca)}),(0x0,swagger_1[_0x206c04(0x1f3)])({'status':0x190,'description':'参数验证失败'}),(0x0,swagger_1[_0x206c04(0x1f3)])({'status':0x1f4,'description':_0x206c04(0x1f1)}),__param(0x0,(0x0,common_1[_0x206c04(0x1d9)])()),__param(0x1,(0x0,common_1[_0x206c04(0x1d7)])()),__metadata(_0x206c04(0x1f4),Function),__metadata(_0x206c04(0x1b3),[generate_content_dto_1[_0x206c04(0x1dc)],Object]),__metadata(_0x206c04(0x1c5),Promise)],AipptController[_0x206c04(0x1a2)],_0x206c04(0x1cc),null),__decorate([(0x0,common_1[_0x206c04(0x1f5)])('ppt-info'),(0x0,swagger_1['ApiOperation'])({'summary':_0x206c04(0x1d8),'description':_0x206c04(0x1be)}),(0x0,swagger_1[_0x206c04(0x1bf)])({'name':'pptId','description':_0x206c04(0x1c1),'required':!![],'type':String,'example':_0x206c04(0x1e2)}),(0x0,swagger_1[_0x206c04(0x1f3)])({'status':0xc8,'description':_0x206c04(0x1d2)}),(0x0,swagger_1[_0x206c04(0x1f3)])({'status':0x190,'description':_0x206c04(0x1b2)}),(0x0,swagger_1[_0x206c04(0x1f3)])({'status':0x194,'description':_0x206c04(0x1a8)}),__param(0x0,(0x0,common_1[_0x206c04(0x1ee)])('pptId')),__metadata('design:type',Function),__metadata('design:paramtypes',[String]),__metadata('design:returntype',Promise)],AipptController['prototype'],_0x206c04(0x1b4),null),AipptController=__decorate([(0x0,swagger_1[_0x206c04(0x1e9)])('AI\x20PPT生成服务'),(0x0,common_1[_0x206c04(0x1e8)])(_0x206c04(0x1f0)),__metadata('design:paramtypes',[aippt_service_1[_0x206c04(0x1a4)]])],AipptController),exports[_0x206c04(0x1e4)]=AipptController;
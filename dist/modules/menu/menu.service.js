'use strict';const _0x62b45e=_0x4258;function _0xb5c8(){const _0x16e714=['ri:message-3-line','@nestjs/common','134022JHdTLE','uiw:share','length','/market','./menu.entity','8SztHKt','__decorate','241109IOmYuj','1807680yYVRho','HttpStatus','应用广场','4rQQHQp','typeorm','icon-park-outline:mindmap-map','decorate','Mind','HttpException','操作菜单失败!','delMenu','/user-center','menuPath','Draw','BAD_REQUEST','/draw','queryMenu','UserCenter','/mind','function','ri:account-pin-box-line','Midjourney','/chat','onModuleInit','126qNyynb','Pay','update','/midjourney','2075142YIFNth','/pay','affected','fluent:draw-image-24-regular','delete','metadata','830oFvDpn','__esModule','绘画广场','MenuService','ri:landscape-line','count','find','save','/app-store','object','initMenu','Injectable','menuPlatform','45286biamjk','56322TZjxGG','menuEntity','isSystem','专业绘画','AppStore','__metadata','对话聊天','168005jJPAwb','ASC','solar:album-line-duotone','@nestjs/typeorm','思维导图','defineProperty','__param','会员中心','ant-design:appstore-outlined'];_0xb5c8=function(){return _0x16e714;};return _0xb5c8();}(function(_0x528be9,_0x1f1a9e){const _0x78b90f=_0x4258,_0x3614a6=_0x528be9();while(!![]){try{const _0x10f093=parseInt(_0x78b90f(0xf1))/0x1*(parseInt(_0x78b90f(0x10f))/0x2)+parseInt(_0x78b90f(0xde))/0x3+-parseInt(_0x78b90f(0x109))/0x4*(-parseInt(_0x78b90f(0xf9))/0x5)+-parseInt(_0x78b90f(0xda))/0x6*(-parseInt(_0x78b90f(0x104))/0x7)+-parseInt(_0x78b90f(0x10c))/0x8+parseInt(_0x78b90f(0xf2))/0x9*(-parseInt(_0x78b90f(0xe4))/0xa)+-parseInt(_0x78b90f(0x10b))/0xb;if(_0x10f093===_0x1f1a9e)break;else _0x3614a6['push'](_0x3614a6['shift']());}catch(_0x4cb2b7){_0x3614a6['push'](_0x3614a6['shift']());}}}(_0xb5c8,0x763a5));var __decorate=this&&this[_0x62b45e(0x10a)]||function(_0xefab28,_0x145e4a,_0x49ada4,_0x210db9){const _0x19beb1=_0x62b45e;var _0x2a9b42=arguments[_0x19beb1(0x106)],_0x49b394=_0x2a9b42<0x3?_0x145e4a:_0x210db9===null?_0x210db9=Object['getOwnPropertyDescriptor'](_0x145e4a,_0x49ada4):_0x210db9,_0x266fff;if(typeof Reflect===_0x19beb1(0xed)&&typeof Reflect[_0x19beb1(0x112)]===_0x19beb1(0xd5))_0x49b394=Reflect['decorate'](_0xefab28,_0x145e4a,_0x49ada4,_0x210db9);else{for(var _0x126b4f=_0xefab28[_0x19beb1(0x106)]-0x1;_0x126b4f>=0x0;_0x126b4f--)if(_0x266fff=_0xefab28[_0x126b4f])_0x49b394=(_0x2a9b42<0x3?_0x266fff(_0x49b394):_0x2a9b42>0x3?_0x266fff(_0x145e4a,_0x49ada4,_0x49b394):_0x266fff(_0x145e4a,_0x49ada4))||_0x49b394;}return _0x2a9b42>0x3&&_0x49b394&&Object[_0x19beb1(0xfe)](_0x145e4a,_0x49ada4,_0x49b394),_0x49b394;},__metadata=this&&this[_0x62b45e(0xf7)]||function(_0x2fcb9f,_0x462f93){const _0x15fdcd=_0x62b45e;if(typeof Reflect===_0x15fdcd(0xed)&&typeof Reflect['metadata']===_0x15fdcd(0xd5))return Reflect[_0x15fdcd(0xe3)](_0x2fcb9f,_0x462f93);},__param=this&&this[_0x62b45e(0xff)]||function(_0x40b8cb,_0x18736e){return function(_0x3c74ce,_0x2edbd1){_0x18736e(_0x3c74ce,_0x2edbd1,_0x40b8cb);};};Object[_0x62b45e(0xfe)](exports,_0x62b45e(0xe5),{'value':!![]}),exports[_0x62b45e(0xe7)]=void 0x0;const common_1=require(_0x62b45e(0x103)),typeorm_1=require(_0x62b45e(0xfc)),typeorm_2=require(_0x62b45e(0x110)),menu_entity_1=require(_0x62b45e(0x108));function _0x4258(_0x5f1bea,_0x5ed6dc){const _0xb5c85c=_0xb5c8();return _0x4258=function(_0x42587e,_0x18dfaf){_0x42587e=_0x42587e-0xce;let _0xf79c5=_0xb5c85c[_0x42587e];return _0xf79c5;},_0x4258(_0x5f1bea,_0x5ed6dc);}let MenuService=class MenuService{constructor(_0x78c3da){const _0x2318b0=_0x62b45e;this[_0x2318b0(0xf3)]=_0x78c3da;}async[_0x62b45e(0xd9)](){const _0x19f231=_0x62b45e;await this[_0x19f231(0xee)]();}async[_0x62b45e(0xee)](){const _0x393c62=_0x62b45e,_0x1263b6=await this[_0x393c62(0xf3)][_0x393c62(0xe9)]();if(_0x1263b6>0x0)return;const _0x2aa40b=[{'menuTipText':_0x393c62(0xf8),'menuIcon':'ri:message-3-line','menuName':'Chat','menuPath':_0x393c62(0xd8),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x393c62(0x10e),'menuIcon':_0x393c62(0x101),'menuName':_0x393c62(0xf6),'menuPath':_0x393c62(0xec),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x393c62(0xf5),'menuIcon':_0x393c62(0xe8),'menuName':_0x393c62(0xd7),'menuPath':_0x393c62(0xdd),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x393c62(0xe6),'menuIcon':_0x393c62(0xfb),'menuName':'Market','menuPath':_0x393c62(0x107),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':'基础绘画','menuIcon':_0x393c62(0xe1),'menuName':_0x393c62(0xcf),'menuPath':_0x393c62(0xd1),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x393c62(0xfd),'menuIcon':_0x393c62(0x111),'menuName':'Mind','menuPath':_0x393c62(0xd4),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x393c62(0x100),'menuIcon':'icon-park-outline:shopping','menuName':_0x393c62(0xdb),'menuPath':_0x393c62(0xdf),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':'推广计划','menuIcon':_0x393c62(0x105),'menuName':'Share','menuPath':'/share','menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x34103a=[{'menuTipText':_0x393c62(0xf8),'menuIcon':_0x393c62(0x102),'menuName':'Chat','menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x393c62(0x10e),'menuIcon':_0x393c62(0x101),'menuName':'AppStore','menuPath':_0x393c62(0xec),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'专业绘画','menuIcon':'ri:landscape-line','menuName':_0x393c62(0xd7),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':'思维导图','menuIcon':'icon-park-outline:mindmap-map','menuName':_0x393c62(0x113),'menuPath':_0x393c62(0xd4),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'个人中心','menuIcon':_0x393c62(0xd6),'menuName':_0x393c62(0xd3),'menuPath':_0x393c62(0x117),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x4e512c=[..._0x2aa40b,..._0x34103a];await this[_0x393c62(0xf3)][_0x393c62(0xeb)](_0x4e512c);}async[_0x62b45e(0xd2)](_0x14d713){const _0x4049a6=_0x62b45e,{menuPlatform:_0x2deaa2}=_0x14d713;let _0x4db67f={};return _0x2deaa2&&(_0x4db67f[_0x4049a6(0xf0)]=_0x2deaa2),await this[_0x4049a6(0xf3)][_0x4049a6(0xea)]({'where':_0x4db67f,'order':{'order':_0x4049a6(0xfa)}});}async['menuListFront'](_0x4de4c6){const _0xd64ebf=_0x62b45e,{menuPlatform:_0x1b647c}=_0x4de4c6;let _0x4322f5={'isShow':!![]};return _0x1b647c&&(_0x4322f5[_0xd64ebf(0xf0)]=_0x1b647c),await this[_0xd64ebf(0xf3)][_0xd64ebf(0xea)]({'where':_0x4322f5,'order':{'order':_0xd64ebf(0xfa)}});}async['visibleMenu'](_0x10b347){const _0x2b6e0e=_0x62b45e,{id:_0x189bfa}=_0x10b347;if(!_0x189bfa)return;const _0x174be8=await this['menuEntity']['findOne']({'where':{'id':_0x189bfa}});if(!_0x174be8)return;const {isShow:_0x5f29a}=_0x174be8,_0x2d8b06=await this['menuEntity'][_0x2b6e0e(0xdc)]({'id':_0x189bfa},{'isShow':!_0x5f29a});return _0x2d8b06[_0x2b6e0e(0xe0)]>0x0;}async['setMenu'](_0xdb4a81){const _0x39ca8b=_0x62b45e,{id:_0x5bbe17}=_0xdb4a81;_0xdb4a81['isSystem']?_0xdb4a81[_0x39ca8b(0xce)]='':_0xdb4a81['menuIframeUrl']='';delete _0xdb4a81[_0x39ca8b(0xf4)];try{if(_0x5bbe17){const _0x16ffbe=await this[_0x39ca8b(0xf3)][_0x39ca8b(0xdc)]({'id':_0x5bbe17},_0xdb4a81);return _0x16ffbe[_0x39ca8b(0xe0)]>0x0;}else{const _0x4e1c08=await this['menuEntity'][_0x39ca8b(0xeb)](_0xdb4a81);return _0x4e1c08;}}catch(_0x234424){throw new common_1[(_0x39ca8b(0x114))](_0x39ca8b(0x115),common_1['HttpStatus'][_0x39ca8b(0xd0)]);}}async[_0x62b45e(0x116)](_0x317951){const _0x174225=_0x62b45e,{id:_0x2eef32}=_0x317951;if(!_0x2eef32)throw new common_1[(_0x174225(0x114))]('缺失必要参数!',common_1[_0x174225(0x10d)][_0x174225(0xd0)]);const _0x3a1779=await this[_0x174225(0xf3)][_0x174225(0xe2)]({'id':_0x2eef32});return _0x3a1779;}};MenuService=__decorate([(0x0,common_1[_0x62b45e(0xef)])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(menu_entity_1['MenuEntity'])),__metadata('design:paramtypes',[typeorm_2['Repository']])],MenuService),exports[_0x62b45e(0xe7)]=MenuService;
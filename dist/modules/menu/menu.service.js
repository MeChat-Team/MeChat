'use strict';const _0x1b3814=_0x59c4;(function(_0x3de9fb,_0x1aa0da){const _0x42e9a0=_0x59c4,_0x1353ae=_0x3de9fb();while(!![]){try{const _0x2aeac4=parseInt(_0x42e9a0(0x1f8))/0x1+parseInt(_0x42e9a0(0x22f))/0x2*(-parseInt(_0x42e9a0(0x222))/0x3)+parseInt(_0x42e9a0(0x234))/0x4*(-parseInt(_0x42e9a0(0x224))/0x5)+parseInt(_0x42e9a0(0x1fb))/0x6+parseInt(_0x42e9a0(0x21f))/0x7+parseInt(_0x42e9a0(0x208))/0x8*(-parseInt(_0x42e9a0(0x20f))/0x9)+parseInt(_0x42e9a0(0x205))/0xa;if(_0x2aeac4===_0x1aa0da)break;else _0x1353ae['push'](_0x1353ae['shift']());}catch(_0xadc67){_0x1353ae['push'](_0x1353ae['shift']());}}}(_0x5045,0x81f0c));var __decorate=this&&this[_0x1b3814(0x213)]||function(_0x29d7c4,_0x2714b2,_0x4fe90f,_0x408bfc){const _0x4b64e6=_0x1b3814;var _0x5135c8=arguments[_0x4b64e6(0x22a)],_0x3954ba=_0x5135c8<0x3?_0x2714b2:_0x408bfc===null?_0x408bfc=Object[_0x4b64e6(0x20c)](_0x2714b2,_0x4fe90f):_0x408bfc,_0x217e20;if(typeof Reflect===_0x4b64e6(0x200)&&typeof Reflect[_0x4b64e6(0x226)]===_0x4b64e6(0x228))_0x3954ba=Reflect[_0x4b64e6(0x226)](_0x29d7c4,_0x2714b2,_0x4fe90f,_0x408bfc);else{for(var _0x5c59e3=_0x29d7c4[_0x4b64e6(0x22a)]-0x1;_0x5c59e3>=0x0;_0x5c59e3--)if(_0x217e20=_0x29d7c4[_0x5c59e3])_0x3954ba=(_0x5135c8<0x3?_0x217e20(_0x3954ba):_0x5135c8>0x3?_0x217e20(_0x2714b2,_0x4fe90f,_0x3954ba):_0x217e20(_0x2714b2,_0x4fe90f))||_0x3954ba;}return _0x5135c8>0x3&&_0x3954ba&&Object[_0x4b64e6(0x212)](_0x2714b2,_0x4fe90f,_0x3954ba),_0x3954ba;},__metadata=this&&this[_0x1b3814(0x201)]||function(_0x33a7e5,_0x427411){const _0x5359e4=_0x1b3814;if(typeof Reflect===_0x5359e4(0x200)&&typeof Reflect[_0x5359e4(0x1f7)]===_0x5359e4(0x228))return Reflect['metadata'](_0x33a7e5,_0x427411);},__param=this&&this[_0x1b3814(0x219)]||function(_0x152817,_0x5391ed){return function(_0x25af46,_0x24c1fe){_0x5391ed(_0x25af46,_0x24c1fe,_0x152817);};};Object[_0x1b3814(0x212)](exports,_0x1b3814(0x1f9),{'value':!![]}),exports[_0x1b3814(0x236)]=void 0x0;function _0x5045(){const _0x81d134=['__decorate','menuPath','/user-center','update','Midjourney','绘画广场','__param','会员中心','menuPlatform','/market','/pay','/chat','2112523cPjmLk','AppStore','./menu.entity','219MlGmyd','icon-park-outline:mindmap-map','5129050ncBZJH','save','decorate','思维导图','function','InjectRepository','length','icon-park-outline:shopping','design:paramtypes','缺失必要参数!','推广计划','2876tYjSul','@nestjs/common','ri:landscape-line','Mind','对话聊天','4ZNLXdc','个人中心','MenuService','HttpStatus','BAD_REQUEST','menuListFront','HttpException','Market','操作菜单失败!','@nestjs/typeorm','UserCenter','visibleMenu','/app-store','MenuEntity','Repository','menuEntity','delete','Injectable','metadata','303244UvRfiy','__esModule','/mind','1226040KgqOSZ','专业绘画','ant-design:appstore-outlined','find','affected','object','__metadata','setMenu','count','ri:account-pin-box-line','11328260HmoOTG','应用广场','findOne','8yRfnwv','isSystem','Chat','menuIframeUrl','getOwnPropertyDescriptor','基础绘画','ASC','2512611kigTPP','/midjourney','onModuleInit','defineProperty'];_0x5045=function(){return _0x81d134;};return _0x5045();}const common_1=require(_0x1b3814(0x230)),typeorm_1=require(_0x1b3814(0x23d)),typeorm_2=require('typeorm'),menu_entity_1=require(_0x1b3814(0x221));function _0x59c4(_0x13019c,_0x5a4d60){const _0x5045cf=_0x5045();return _0x59c4=function(_0x59c437,_0xe1c81a){_0x59c437=_0x59c437-0x1f3;let _0x44a573=_0x5045cf[_0x59c437];return _0x44a573;},_0x59c4(_0x13019c,_0x5a4d60);}let MenuService=class MenuService{constructor(_0x2cc193){this['menuEntity']=_0x2cc193;}async[_0x1b3814(0x211)](){await this['initMenu']();}async['initMenu'](){const _0x30dd0d=_0x1b3814,_0x214023=await this[_0x30dd0d(0x1f4)][_0x30dd0d(0x203)]();if(_0x214023>0x0)return;const _0x30baca=[{'menuTipText':_0x30dd0d(0x233),'menuIcon':'ri:message-3-line','menuName':_0x30dd0d(0x20a),'menuPath':_0x30dd0d(0x21e),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x30dd0d(0x206),'menuIcon':'ant-design:appstore-outlined','menuName':'AppStore','menuPath':_0x30dd0d(0x240),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x30dd0d(0x1fc),'menuIcon':_0x30dd0d(0x231),'menuName':_0x30dd0d(0x217),'menuPath':_0x30dd0d(0x210),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x30dd0d(0x218),'menuIcon':'solar:album-line-duotone','menuName':_0x30dd0d(0x23b),'menuPath':_0x30dd0d(0x21c),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x30dd0d(0x20d),'menuIcon':'fluent:draw-image-24-regular','menuName':'Draw','menuPath':'/draw','menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':'思维导图','menuIcon':_0x30dd0d(0x223),'menuName':'Mind','menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x30dd0d(0x21a),'menuIcon':_0x30dd0d(0x22b),'menuName':'Pay','menuPath':_0x30dd0d(0x21d),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x30dd0d(0x22e),'menuIcon':'uiw:share','menuName':'Share','menuPath':'/share','menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x20da2b=[{'menuTipText':_0x30dd0d(0x233),'menuIcon':'ri:message-3-line','menuName':_0x30dd0d(0x20a),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x30dd0d(0x206),'menuIcon':_0x30dd0d(0x1fd),'menuName':_0x30dd0d(0x220),'menuPath':_0x30dd0d(0x240),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x30dd0d(0x1fc),'menuIcon':_0x30dd0d(0x231),'menuName':'Midjourney','menuPath':_0x30dd0d(0x210),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x30dd0d(0x227),'menuIcon':'icon-park-outline:mindmap-map','menuName':_0x30dd0d(0x232),'menuPath':_0x30dd0d(0x1fa),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x30dd0d(0x235),'menuIcon':_0x30dd0d(0x204),'menuName':_0x30dd0d(0x23e),'menuPath':_0x30dd0d(0x215),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x240e49=[..._0x30baca,..._0x20da2b];await this[_0x30dd0d(0x1f4)][_0x30dd0d(0x225)](_0x240e49);}async['queryMenu'](_0x3e577a){const _0x297c7b=_0x1b3814,{menuPlatform:_0x528494}=_0x3e577a;let _0x3056b2={};return _0x528494&&(_0x3056b2[_0x297c7b(0x21b)]=_0x528494),await this['menuEntity']['find']({'where':_0x3056b2,'order':{'order':'ASC'}});}async[_0x1b3814(0x239)](_0x38e26b){const _0x1ffd1a=_0x1b3814,{menuPlatform:_0x2536b2}=_0x38e26b;let _0x35c75f={'isShow':!![]};return _0x2536b2&&(_0x35c75f[_0x1ffd1a(0x21b)]=_0x2536b2),await this[_0x1ffd1a(0x1f4)][_0x1ffd1a(0x1fe)]({'where':_0x35c75f,'order':{'order':_0x1ffd1a(0x20e)}});}async[_0x1b3814(0x23f)](_0x400051){const _0x448663=_0x1b3814,{id:_0xf976ed}=_0x400051;if(!_0xf976ed)return;const _0xbd591c=await this[_0x448663(0x1f4)][_0x448663(0x207)]({'where':{'id':_0xf976ed}});if(!_0xbd591c)return;const {isShow:_0x1d0db4}=_0xbd591c,_0x10b704=await this[_0x448663(0x1f4)][_0x448663(0x216)]({'id':_0xf976ed},{'isShow':!_0x1d0db4});return _0x10b704[_0x448663(0x1ff)]>0x0;}async[_0x1b3814(0x202)](_0x26938f){const _0x48854b=_0x1b3814,{id:_0x44b416}=_0x26938f;_0x26938f['isSystem']?_0x26938f[_0x48854b(0x214)]='':_0x26938f[_0x48854b(0x20b)]='';delete _0x26938f[_0x48854b(0x209)];try{if(_0x44b416){const _0x240806=await this['menuEntity'][_0x48854b(0x216)]({'id':_0x44b416},_0x26938f);return _0x240806[_0x48854b(0x1ff)]>0x0;}else{const _0x466b04=await this[_0x48854b(0x1f4)][_0x48854b(0x225)](_0x26938f);return _0x466b04;}}catch(_0x3e5ed1){throw new common_1[(_0x48854b(0x23a))](_0x48854b(0x23c),common_1[_0x48854b(0x237)][_0x48854b(0x238)]);}}async['delMenu'](_0x5d5235){const _0x447084=_0x1b3814,{id:_0x1def75}=_0x5d5235;if(!_0x1def75)throw new common_1['HttpException'](_0x447084(0x22d),common_1[_0x447084(0x237)][_0x447084(0x238)]);const _0x3304f2=await this[_0x447084(0x1f4)][_0x447084(0x1f5)]({'id':_0x1def75});return _0x3304f2;}};MenuService=__decorate([(0x0,common_1[_0x1b3814(0x1f6)])(),__param(0x0,(0x0,typeorm_1[_0x1b3814(0x229)])(menu_entity_1[_0x1b3814(0x241)])),__metadata(_0x1b3814(0x22c),[typeorm_2[_0x1b3814(0x1f3)]])],MenuService),exports['MenuService']=MenuService;
'use strict';const _0x421782=_0x53d5;(function(_0x31cade,_0x1ac2e7){const _0x37cffc=_0x53d5,_0xd1cd4e=_0x31cade();while(!![]){try{const _0x399c59=parseInt(_0x37cffc(0xd3))/0x1+parseInt(_0x37cffc(0xa6))/0x2+parseInt(_0x37cffc(0xca))/0x3*(parseInt(_0x37cffc(0x8b))/0x4)+-parseInt(_0x37cffc(0xcf))/0x5*(parseInt(_0x37cffc(0xb4))/0x6)+parseInt(_0x37cffc(0x97))/0x7+parseInt(_0x37cffc(0xd9))/0x8*(parseInt(_0x37cffc(0xc0))/0x9)+-parseInt(_0x37cffc(0xa0))/0xa;if(_0x399c59===_0x1ac2e7)break;else _0xd1cd4e['push'](_0xd1cd4e['shift']());}catch(_0x7e7be8){_0xd1cd4e['push'](_0xd1cd4e['shift']());}}}(_0x3b92,0x5f074));var __decorate=this&&this['__decorate']||function(_0x5f1e59,_0x31db7b,_0x40d855,_0x3af4d4){const _0x159e67=_0x53d5;var _0x4adac8=arguments['length'],_0x989251=_0x4adac8<0x3?_0x31db7b:_0x3af4d4===null?_0x3af4d4=Object[_0x159e67(0xb8)](_0x31db7b,_0x40d855):_0x3af4d4,_0x7e2ed3;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x159e67(0xa5))_0x989251=Reflect[_0x159e67(0xcd)](_0x5f1e59,_0x31db7b,_0x40d855,_0x3af4d4);else{for(var _0x5c4491=_0x5f1e59[_0x159e67(0xbb)]-0x1;_0x5c4491>=0x0;_0x5c4491--)if(_0x7e2ed3=_0x5f1e59[_0x5c4491])_0x989251=(_0x4adac8<0x3?_0x7e2ed3(_0x989251):_0x4adac8>0x3?_0x7e2ed3(_0x31db7b,_0x40d855,_0x989251):_0x7e2ed3(_0x31db7b,_0x40d855))||_0x989251;}return _0x4adac8>0x3&&_0x989251&&Object['defineProperty'](_0x31db7b,_0x40d855,_0x989251),_0x989251;},__metadata=this&&this['__metadata']||function(_0x25604c,_0x2b4a70){const _0x242ff2=_0x53d5;if(typeof Reflect===_0x242ff2(0xa2)&&typeof Reflect['metadata']===_0x242ff2(0xa5))return Reflect[_0x242ff2(0xc4)](_0x25604c,_0x2b4a70);},__param=this&&this[_0x421782(0xbe)]||function(_0x4309b3,_0x167828){return function(_0x2c9ad4,_0x8b061b){_0x167828(_0x2c9ad4,_0x8b061b,_0x4309b3);};};function _0x3b92(){const _0x3005cf=['initMenu','menuIframeUrl','function','1343718ePYeDj','defineProperty','Draw','缺失必要参数!','MenuService','/midjourney','ri:landscape-line','delMenu','对话聊天','UserCenter','绘画广场','visibleMenu','ri:account-pin-box-line','基础绘画','36QbMWgC','find','会员中心','menuPlatform','getOwnPropertyDescriptor','推广计划','专业绘画','length','操作菜单失败!','/chat','__param','MenuEntity','3015PYNfsH','menuListFront','/draw','save','metadata','AppStore','InjectRepository','HttpException','Market','HttpStatus','12TXMwfu','ASC','update','decorate','fluent:draw-image-24-regular','350510rkWEPA','/market','Pay','./menu.entity','90745vGKrTj','思维导图','@nestjs/typeorm','solar:album-line-duotone','Chat','Injectable','18408Spween','delete','isSystem','510844cUkBHb','__esModule','Share','Mind','Repository','应用广场','affected','/user-center','icon-park-outline:shopping','count','typeorm','icon-park-outline:mindmap-map','1846733Unkvhz','ant-design:appstore-outlined','/app-store','menuEntity','Midjourney','findOne','/mind','BAD_REQUEST','design:paramtypes','14982540fylncW','ri:message-3-line','object'];_0x3b92=function(){return _0x3005cf;};return _0x3b92();}Object[_0x421782(0xa7)](exports,_0x421782(0x8c),{'value':!![]}),exports[_0x421782(0xaa)]=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require(_0x421782(0xd5)),typeorm_2=require(_0x421782(0x95)),menu_entity_1=require(_0x421782(0xd2));let MenuService=class MenuService{constructor(_0x55b6a9){const _0x2181c8=_0x421782;this[_0x2181c8(0x9a)]=_0x55b6a9;}async['onModuleInit'](){const _0x598a15=_0x421782;await this[_0x598a15(0xa3)]();}async['initMenu'](){const _0x2ff045=_0x421782,_0x1b5a87=await this[_0x2ff045(0x9a)][_0x2ff045(0x94)]();if(_0x1b5a87>0x0)return;const _0x448dbc=[{'menuTipText':_0x2ff045(0xae),'menuIcon':_0x2ff045(0xa1),'menuName':'Chat','menuPath':_0x2ff045(0xbd),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x2ff045(0x90),'menuIcon':_0x2ff045(0x98),'menuName':'AppStore','menuPath':_0x2ff045(0x99),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x2ff045(0xba),'menuIcon':'ri:landscape-line','menuName':_0x2ff045(0x9b),'menuPath':_0x2ff045(0xab),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x2ff045(0xb0),'menuIcon':_0x2ff045(0xd6),'menuName':_0x2ff045(0xc8),'menuPath':_0x2ff045(0xd0),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x2ff045(0xb3),'menuIcon':_0x2ff045(0xce),'menuName':_0x2ff045(0xa8),'menuPath':_0x2ff045(0xc2),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x2ff045(0xd4),'menuIcon':_0x2ff045(0x96),'menuName':_0x2ff045(0x8e),'menuPath':_0x2ff045(0x9d),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x2ff045(0xb6),'menuIcon':_0x2ff045(0x93),'menuName':_0x2ff045(0xd1),'menuPath':'/pay','menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x2ff045(0xb9),'menuIcon':'uiw:share','menuName':_0x2ff045(0x8d),'menuPath':'/share','menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x2e0ff9=[{'menuTipText':_0x2ff045(0xae),'menuIcon':'ri:message-3-line','menuName':_0x2ff045(0xd7),'menuPath':_0x2ff045(0xbd),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0x2ff045(0x98),'menuName':_0x2ff045(0xc5),'menuPath':'/app-store','menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x2ff045(0xba),'menuIcon':_0x2ff045(0xac),'menuName':_0x2ff045(0x9b),'menuPath':_0x2ff045(0xab),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':'思维导图','menuIcon':_0x2ff045(0x96),'menuName':_0x2ff045(0x8e),'menuPath':_0x2ff045(0x9d),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'个人中心','menuIcon':_0x2ff045(0xb2),'menuName':_0x2ff045(0xaf),'menuPath':_0x2ff045(0x92),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x5dd4ee=[..._0x448dbc,..._0x2e0ff9];await this[_0x2ff045(0x9a)][_0x2ff045(0xc3)](_0x5dd4ee);}async['queryMenu'](_0x4589c4){const _0x2c47fa=_0x421782,{menuPlatform:_0x20be8b}=_0x4589c4;let _0x44be2d={};return _0x20be8b&&(_0x44be2d['menuPlatform']=_0x20be8b),await this[_0x2c47fa(0x9a)]['find']({'where':_0x44be2d,'order':{'order':'ASC'}});}async[_0x421782(0xc1)](_0x47ea13){const _0x200db4=_0x421782,{menuPlatform:_0x1964e5}=_0x47ea13;let _0x25cd82={'isShow':!![]};return _0x1964e5&&(_0x25cd82[_0x200db4(0xb7)]=_0x1964e5),await this[_0x200db4(0x9a)][_0x200db4(0xb5)]({'where':_0x25cd82,'order':{'order':_0x200db4(0xcb)}});}async[_0x421782(0xb1)](_0x56107a){const _0x4c5b5e=_0x421782,{id:_0x6bd4fd}=_0x56107a;if(!_0x6bd4fd)return;const _0x1c87ba=await this[_0x4c5b5e(0x9a)][_0x4c5b5e(0x9c)]({'where':{'id':_0x6bd4fd}});if(!_0x1c87ba)return;const {isShow:_0xd302ec}=_0x1c87ba,_0x5e4379=await this[_0x4c5b5e(0x9a)][_0x4c5b5e(0xcc)]({'id':_0x6bd4fd},{'isShow':!_0xd302ec});return _0x5e4379[_0x4c5b5e(0x91)]>0x0;}async['setMenu'](_0x379d4b){const _0x54a7ee=_0x421782,{id:_0xc7284a}=_0x379d4b;_0x379d4b[_0x54a7ee(0x8a)]?_0x379d4b['menuPath']='':_0x379d4b[_0x54a7ee(0xa4)]='';delete _0x379d4b['isSystem'];try{if(_0xc7284a){const _0x471f0f=await this[_0x54a7ee(0x9a)][_0x54a7ee(0xcc)]({'id':_0xc7284a},_0x379d4b);return _0x471f0f[_0x54a7ee(0x91)]>0x0;}else{const _0x57eb2b=await this[_0x54a7ee(0x9a)][_0x54a7ee(0xc3)](_0x379d4b);return _0x57eb2b;}}catch(_0x364162){throw new common_1[(_0x54a7ee(0xc7))](_0x54a7ee(0xbc),common_1[_0x54a7ee(0xc9)][_0x54a7ee(0x9e)]);}}async[_0x421782(0xad)](_0x4578b8){const _0x5c1f19=_0x421782,{id:_0xa2702e}=_0x4578b8;if(!_0xa2702e)throw new common_1[(_0x5c1f19(0xc7))](_0x5c1f19(0xa9),common_1[_0x5c1f19(0xc9)][_0x5c1f19(0x9e)]);const _0x21ab6f=await this[_0x5c1f19(0x9a)][_0x5c1f19(0x89)]({'id':_0xa2702e});return _0x21ab6f;}};function _0x53d5(_0x4f5753,_0x5f1676){const _0x3b926b=_0x3b92();return _0x53d5=function(_0x53d5f1,_0x46709a){_0x53d5f1=_0x53d5f1-0x89;let _0x3fa382=_0x3b926b[_0x53d5f1];return _0x3fa382;},_0x53d5(_0x4f5753,_0x5f1676);}MenuService=__decorate([(0x0,common_1[_0x421782(0xd8)])(),__param(0x0,(0x0,typeorm_1[_0x421782(0xc6)])(menu_entity_1[_0x421782(0xbf)])),__metadata(_0x421782(0x9f),[typeorm_2[_0x421782(0x8f)]])],MenuService),exports[_0x421782(0xaa)]=MenuService;
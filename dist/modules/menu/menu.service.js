'use strict';const _0x3caab5=_0x34ba;function _0x34ba(_0x3f6718,_0x35686b){const _0x156ae9=_0x156a();return _0x34ba=function(_0x34baac,_0x2cac17){_0x34baac=_0x34baac-0xf4;let _0x2af82a=_0x156ae9[_0x34baac];return _0x2af82a;},_0x34ba(_0x3f6718,_0x35686b);}(function(_0x379783,_0x53a233){const _0x1c3d33=_0x34ba,_0xda93ad=_0x379783();while(!![]){try{const _0x3c37e0=-parseInt(_0x1c3d33(0x137))/0x1+parseInt(_0x1c3d33(0xf5))/0x2*(parseInt(_0x1c3d33(0xf4))/0x3)+-parseInt(_0x1c3d33(0x112))/0x4+parseInt(_0x1c3d33(0x113))/0x5+-parseInt(_0x1c3d33(0x135))/0x6+parseInt(_0x1c3d33(0x13d))/0x7+parseInt(_0x1c3d33(0x101))/0x8;if(_0x3c37e0===_0x53a233)break;else _0xda93ad['push'](_0xda93ad['shift']());}catch(_0x602961){_0xda93ad['push'](_0xda93ad['shift']());}}}(_0x156a,0x46f6c));function _0x156a(){const _0xa2822=['affected','typeorm','design:paramtypes','save','Share','/mind','delete','Midjourney','fluent:draw-image-24-regular','function','1140088FUdwkn','205965PHaNrQ','Injectable','个人中心','Mind','isSystem','专业绘画','Market','initMenu','/draw','__param','icon-park-outline:shopping','/share','object','findOne','HttpStatus','decorate','count','__decorate','思维导图','update','icon-park-outline:mindmap-map','Draw','BAD_REQUEST','solar:album-line-duotone','操作菜单失败!','绘画广场','Repository','ri:message-3-line','MenuEntity','/midjourney','Pay','/pay','MenuService','/user-center','665136NLDKmW','ASC','249754zdNYEy','ri:landscape-line','基础绘画','InjectRepository','defineProperty','menuPlatform','2348675gywvrP','/app-store','setMenu','会员中心','metadata','33aqWyEE','85898FQakUp','find','getOwnPropertyDescriptor','ri:account-pin-box-line','length','应用广场','缺失必要参数!','对话聊天','menuIframeUrl','Chat','AppStore','menuPath','697144TLYDPw','./menu.entity','HttpException','ant-design:appstore-outlined','uiw:share','menuEntity','onModuleInit'];_0x156a=function(){return _0xa2822;};return _0x156a();}var __decorate=this&&this[_0x3caab5(0x124)]||function(_0x1e1f6b,_0x57db66,_0x4bcfb8,_0x683d00){const _0x163bba=_0x3caab5;var _0x2fcdfe=arguments[_0x163bba(0xf9)],_0x2257a3=_0x2fcdfe<0x3?_0x57db66:_0x683d00===null?_0x683d00=Object[_0x163bba(0xf7)](_0x57db66,_0x4bcfb8):_0x683d00,_0x3ad874;if(typeof Reflect===_0x163bba(0x11f)&&typeof Reflect['decorate']===_0x163bba(0x111))_0x2257a3=Reflect[_0x163bba(0x122)](_0x1e1f6b,_0x57db66,_0x4bcfb8,_0x683d00);else{for(var _0x3028b4=_0x1e1f6b[_0x163bba(0xf9)]-0x1;_0x3028b4>=0x0;_0x3028b4--)if(_0x3ad874=_0x1e1f6b[_0x3028b4])_0x2257a3=(_0x2fcdfe<0x3?_0x3ad874(_0x2257a3):_0x2fcdfe>0x3?_0x3ad874(_0x57db66,_0x4bcfb8,_0x2257a3):_0x3ad874(_0x57db66,_0x4bcfb8))||_0x2257a3;}return _0x2fcdfe>0x3&&_0x2257a3&&Object[_0x163bba(0x13b)](_0x57db66,_0x4bcfb8,_0x2257a3),_0x2257a3;},__metadata=this&&this['__metadata']||function(_0x428a36,_0x5c9fe2){const _0x3e6ec9=_0x3caab5;if(typeof Reflect===_0x3e6ec9(0x11f)&&typeof Reflect[_0x3e6ec9(0x141)]===_0x3e6ec9(0x111))return Reflect[_0x3e6ec9(0x141)](_0x428a36,_0x5c9fe2);},__param=this&&this[_0x3caab5(0x11c)]||function(_0x5211df,_0x3d052a){return function(_0xbef36c,_0x28d9bc){_0x3d052a(_0xbef36c,_0x28d9bc,_0x5211df);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x3caab5(0x133)]=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require(_0x3caab5(0x109)),menu_entity_1=require(_0x3caab5(0x102));let MenuService=class MenuService{constructor(_0x2df4c0){const _0x5ce562=_0x3caab5;this[_0x5ce562(0x106)]=_0x2df4c0;}async[_0x3caab5(0x107)](){await this['initMenu']();}async[_0x3caab5(0x11a)](){const _0x1333e9=_0x3caab5,_0x487c88=await this['menuEntity'][_0x1333e9(0x123)]();if(_0x487c88>0x0)return;const _0x83ea6b=[{'menuTipText':_0x1333e9(0xfc),'menuIcon':_0x1333e9(0x12e),'menuName':_0x1333e9(0xfe),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x1333e9(0xfa),'menuIcon':_0x1333e9(0x104),'menuName':_0x1333e9(0xff),'menuPath':'/app-store','menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x1333e9(0x118),'menuIcon':_0x1333e9(0x138),'menuName':_0x1333e9(0x10f),'menuPath':_0x1333e9(0x130),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x1333e9(0x12c),'menuIcon':_0x1333e9(0x12a),'menuName':_0x1333e9(0x119),'menuPath':'/market','menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x1333e9(0x139),'menuIcon':_0x1333e9(0x110),'menuName':_0x1333e9(0x128),'menuPath':_0x1333e9(0x11b),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x1333e9(0x125),'menuIcon':_0x1333e9(0x127),'menuName':_0x1333e9(0x116),'menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x1333e9(0x140),'menuIcon':_0x1333e9(0x11d),'menuName':_0x1333e9(0x131),'menuPath':_0x1333e9(0x132),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':'推广计划','menuIcon':_0x1333e9(0x105),'menuName':_0x1333e9(0x10c),'menuPath':_0x1333e9(0x11e),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x294cbb=[{'menuTipText':_0x1333e9(0xfc),'menuIcon':_0x1333e9(0x12e),'menuName':_0x1333e9(0xfe),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0x1333e9(0x104),'menuName':_0x1333e9(0xff),'menuPath':_0x1333e9(0x13e),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x1333e9(0x118),'menuIcon':_0x1333e9(0x138),'menuName':_0x1333e9(0x10f),'menuPath':_0x1333e9(0x130),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':'思维导图','menuIcon':_0x1333e9(0x127),'menuName':'Mind','menuPath':_0x1333e9(0x10d),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x1333e9(0x115),'menuIcon':_0x1333e9(0xf8),'menuName':'UserCenter','menuPath':_0x1333e9(0x134),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x1ced8b=[..._0x83ea6b,..._0x294cbb];await this[_0x1333e9(0x106)][_0x1333e9(0x10b)](_0x1ced8b);}async['queryMenu'](_0x422215){const _0x5117be=_0x3caab5,{menuPlatform:_0x282973}=_0x422215;let _0x2725d0={};return _0x282973&&(_0x2725d0[_0x5117be(0x13c)]=_0x282973),await this[_0x5117be(0x106)]['find']({'where':_0x2725d0,'order':{'order':_0x5117be(0x136)}});}async['menuListFront'](_0x19f7e6){const _0xb52f82=_0x3caab5,{menuPlatform:_0x2e083a}=_0x19f7e6;let _0x48230b={'isShow':!![]};return _0x2e083a&&(_0x48230b[_0xb52f82(0x13c)]=_0x2e083a),await this[_0xb52f82(0x106)][_0xb52f82(0xf6)]({'where':_0x48230b,'order':{'order':'ASC'}});}async['visibleMenu'](_0x2a06c7){const _0x169309=_0x3caab5,{id:_0x17d74d}=_0x2a06c7;if(!_0x17d74d)return;const _0x2247a7=await this[_0x169309(0x106)][_0x169309(0x120)]({'where':{'id':_0x17d74d}});if(!_0x2247a7)return;const {isShow:_0x43635a}=_0x2247a7,_0x176eea=await this[_0x169309(0x106)]['update']({'id':_0x17d74d},{'isShow':!_0x43635a});return _0x176eea[_0x169309(0x108)]>0x0;}async[_0x3caab5(0x13f)](_0x56f32f){const _0x4b7bae=_0x3caab5,{id:_0x200793}=_0x56f32f;_0x56f32f[_0x4b7bae(0x117)]?_0x56f32f[_0x4b7bae(0x100)]='':_0x56f32f[_0x4b7bae(0xfd)]='';delete _0x56f32f[_0x4b7bae(0x117)];try{if(_0x200793){const _0x31b801=await this[_0x4b7bae(0x106)][_0x4b7bae(0x126)]({'id':_0x200793},_0x56f32f);return _0x31b801[_0x4b7bae(0x108)]>0x0;}else{const _0x6ac439=await this[_0x4b7bae(0x106)]['save'](_0x56f32f);return _0x6ac439;}}catch(_0x2344a3){throw new common_1[(_0x4b7bae(0x103))](_0x4b7bae(0x12b),common_1['HttpStatus']['BAD_REQUEST']);}}async['delMenu'](_0xee5b3a){const _0x296c3c=_0x3caab5,{id:_0x98c798}=_0xee5b3a;if(!_0x98c798)throw new common_1[(_0x296c3c(0x103))](_0x296c3c(0xfb),common_1[_0x296c3c(0x121)][_0x296c3c(0x129)]);const _0x1e1b42=await this['menuEntity'][_0x296c3c(0x10e)]({'id':_0x98c798});return _0x1e1b42;}};MenuService=__decorate([(0x0,common_1[_0x3caab5(0x114)])(),__param(0x0,(0x0,typeorm_1[_0x3caab5(0x13a)])(menu_entity_1[_0x3caab5(0x12f)])),__metadata(_0x3caab5(0x10a),[typeorm_2[_0x3caab5(0x12d)]])],MenuService),exports[_0x3caab5(0x133)]=MenuService;
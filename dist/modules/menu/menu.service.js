'use strict';const _0x58569d=_0x4854;(function(_0x1df0be,_0x1316cc){const _0x9723a=_0x4854,_0x214848=_0x1df0be();while(!![]){try{const _0x461682=parseInt(_0x9723a(0x21d))/0x1*(-parseInt(_0x9723a(0x21c))/0x2)+parseInt(_0x9723a(0x1f7))/0x3*(parseInt(_0x9723a(0x1f4))/0x4)+parseInt(_0x9723a(0x1fa))/0x5*(-parseInt(_0x9723a(0x1ec))/0x6)+-parseInt(_0x9723a(0x20c))/0x7+parseInt(_0x9723a(0x228))/0x8*(parseInt(_0x9723a(0x236))/0x9)+parseInt(_0x9723a(0x22b))/0xa*(parseInt(_0x9723a(0x20e))/0xb)+-parseInt(_0x9723a(0x202))/0xc;if(_0x461682===_0x1316cc)break;else _0x214848['push'](_0x214848['shift']());}catch(_0x57c85c){_0x214848['push'](_0x214848['shift']());}}}(_0x500b,0xd04c2));function _0x500b(){const _0x4d560b=['Market','Chat','delete','decorate','UserCenter','/pay','menuListFront','MenuService','1865718BqVAVd','对话聊天','/user-center','menuPath','6ZrYjdO','/share','/market','metadata','isSystem','ri:landscape-line','count','queryMenu','284232vAHnHD','Draw','AppStore','18ZzbWze','object','BAD_REQUEST','89885lqrqYs','delMenu','findOne','绘画广场','HttpException','个人中心','icon-park-outline:shopping','icon-park-outline:mindmap-map','3978168CEAoTJ','缺失必要参数!','Midjourney','会员中心','menuPlatform','find','ASC','Share','Repository','Mind','3864532glgdcV','defineProperty','11JdmjwW','Injectable','ant-design:appstore-outlined','length','/mind','基础绘画','update','/midjourney','专业绘画','function','思维导图','/chat','__esModule','@nestjs/typeorm','423340DyfpDC','1Zgdwtm','推广计划','visibleMenu','setMenu','design:paramtypes','affected','__param','menuEntity','initMenu','menuIframeUrl','save','48DOpmrO','/app-store','HttpStatus','2962630SBjStS','@nestjs/common','应用广场'];_0x500b=function(){return _0x4d560b;};return _0x500b();}var __decorate=this&&this['__decorate']||function(_0x490920,_0x1e979d,_0x171d6f,_0x541890){const _0x46cb8f=_0x4854;var _0x355912=arguments[_0x46cb8f(0x211)],_0x3fa1f4=_0x355912<0x3?_0x1e979d:_0x541890===null?_0x541890=Object['getOwnPropertyDescriptor'](_0x1e979d,_0x171d6f):_0x541890,_0x88eeb6;if(typeof Reflect==='object'&&typeof Reflect[_0x46cb8f(0x231)]==='function')_0x3fa1f4=Reflect[_0x46cb8f(0x231)](_0x490920,_0x1e979d,_0x171d6f,_0x541890);else{for(var _0x14e03d=_0x490920[_0x46cb8f(0x211)]-0x1;_0x14e03d>=0x0;_0x14e03d--)if(_0x88eeb6=_0x490920[_0x14e03d])_0x3fa1f4=(_0x355912<0x3?_0x88eeb6(_0x3fa1f4):_0x355912>0x3?_0x88eeb6(_0x1e979d,_0x171d6f,_0x3fa1f4):_0x88eeb6(_0x1e979d,_0x171d6f))||_0x3fa1f4;}return _0x355912>0x3&&_0x3fa1f4&&Object[_0x46cb8f(0x20d)](_0x1e979d,_0x171d6f,_0x3fa1f4),_0x3fa1f4;},__metadata=this&&this['__metadata']||function(_0x2c3fca,_0xdd5bff){const _0x1f15a5=_0x4854;if(typeof Reflect===_0x1f15a5(0x1f8)&&typeof Reflect[_0x1f15a5(0x1ef)]===_0x1f15a5(0x217))return Reflect[_0x1f15a5(0x1ef)](_0x2c3fca,_0xdd5bff);},__param=this&&this[_0x58569d(0x223)]||function(_0x1b94bd,_0x418b1d){return function(_0x34004e,_0xd51ed6){_0x418b1d(_0x34004e,_0xd51ed6,_0x1b94bd);};};Object['defineProperty'](exports,_0x58569d(0x21a),{'value':!![]}),exports[_0x58569d(0x235)]=void 0x0;const common_1=require(_0x58569d(0x22c)),typeorm_1=require(_0x58569d(0x21b)),typeorm_2=require('typeorm'),menu_entity_1=require('./menu.entity');let MenuService=class MenuService{constructor(_0x426cf5){const _0x5d7459=_0x58569d;this[_0x5d7459(0x224)]=_0x426cf5;}async['onModuleInit'](){const _0x299b07=_0x58569d;await this[_0x299b07(0x225)]();}async['initMenu'](){const _0x4ac9ad=_0x58569d,_0x3269b0=await this[_0x4ac9ad(0x224)][_0x4ac9ad(0x1f2)]();if(_0x3269b0>0x0)return;const _0xc77205=[{'menuTipText':'对话聊天','menuIcon':'ri:message-3-line','menuName':_0x4ac9ad(0x22f),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x4ac9ad(0x22d),'menuIcon':'ant-design:appstore-outlined','menuName':_0x4ac9ad(0x1f6),'menuPath':_0x4ac9ad(0x229),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x4ac9ad(0x216),'menuIcon':_0x4ac9ad(0x1f1),'menuName':_0x4ac9ad(0x204),'menuPath':_0x4ac9ad(0x215),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x4ac9ad(0x1fd),'menuIcon':'solar:album-line-duotone','menuName':_0x4ac9ad(0x22e),'menuPath':_0x4ac9ad(0x1ee),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x4ac9ad(0x213),'menuIcon':'fluent:draw-image-24-regular','menuName':_0x4ac9ad(0x1f5),'menuPath':'/draw','menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x4ac9ad(0x218),'menuIcon':'icon-park-outline:mindmap-map','menuName':_0x4ac9ad(0x20b),'menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x4ac9ad(0x205),'menuIcon':_0x4ac9ad(0x200),'menuName':'Pay','menuPath':_0x4ac9ad(0x233),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x4ac9ad(0x21e),'menuIcon':'uiw:share','menuName':_0x4ac9ad(0x209),'menuPath':_0x4ac9ad(0x1ed),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x59dbcf=[{'menuTipText':_0x4ac9ad(0x237),'menuIcon':'ri:message-3-line','menuName':_0x4ac9ad(0x22f),'menuPath':_0x4ac9ad(0x219),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x4ac9ad(0x22d),'menuIcon':_0x4ac9ad(0x210),'menuName':_0x4ac9ad(0x1f6),'menuPath':_0x4ac9ad(0x229),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'专业绘画','menuIcon':'ri:landscape-line','menuName':'Midjourney','menuPath':_0x4ac9ad(0x215),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':'思维导图','menuIcon':_0x4ac9ad(0x201),'menuName':_0x4ac9ad(0x20b),'menuPath':_0x4ac9ad(0x212),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x4ac9ad(0x1ff),'menuIcon':'ri:account-pin-box-line','menuName':_0x4ac9ad(0x232),'menuPath':_0x4ac9ad(0x238),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x1c3624=[..._0xc77205,..._0x59dbcf];await this[_0x4ac9ad(0x224)][_0x4ac9ad(0x227)](_0x1c3624);}async[_0x58569d(0x1f3)](_0x97345){const _0x4231d5=_0x58569d,{menuPlatform:_0xab8a7f}=_0x97345;let _0x5473ee={};return _0xab8a7f&&(_0x5473ee[_0x4231d5(0x206)]=_0xab8a7f),await this['menuEntity'][_0x4231d5(0x207)]({'where':_0x5473ee,'order':{'order':_0x4231d5(0x208)}});}async[_0x58569d(0x234)](_0x1c748a){const _0x4a0fc4=_0x58569d,{menuPlatform:_0x3c2d85}=_0x1c748a;let _0x5af525={'isShow':!![]};return _0x3c2d85&&(_0x5af525[_0x4a0fc4(0x206)]=_0x3c2d85),await this[_0x4a0fc4(0x224)]['find']({'where':_0x5af525,'order':{'order':_0x4a0fc4(0x208)}});}async[_0x58569d(0x21f)](_0x34f2af){const _0x5d7129=_0x58569d,{id:_0x207f0a}=_0x34f2af;if(!_0x207f0a)return;const _0x2a401a=await this[_0x5d7129(0x224)][_0x5d7129(0x1fc)]({'where':{'id':_0x207f0a}});if(!_0x2a401a)return;const {isShow:_0x18428d}=_0x2a401a,_0x155deb=await this['menuEntity'][_0x5d7129(0x214)]({'id':_0x207f0a},{'isShow':!_0x18428d});return _0x155deb[_0x5d7129(0x222)]>0x0;}async[_0x58569d(0x220)](_0x1aefed){const _0x524e27=_0x58569d,{id:_0x5327d0}=_0x1aefed;_0x1aefed[_0x524e27(0x1f0)]?_0x1aefed[_0x524e27(0x1eb)]='':_0x1aefed[_0x524e27(0x226)]='';delete _0x1aefed['isSystem'];try{if(_0x5327d0){const _0x3f3afa=await this[_0x524e27(0x224)][_0x524e27(0x214)]({'id':_0x5327d0},_0x1aefed);return _0x3f3afa[_0x524e27(0x222)]>0x0;}else{const _0xdc2d0d=await this['menuEntity']['save'](_0x1aefed);return _0xdc2d0d;}}catch(_0x303d63){throw new common_1[(_0x524e27(0x1fe))]('操作菜单失败!',common_1[_0x524e27(0x22a)][_0x524e27(0x1f9)]);}}async[_0x58569d(0x1fb)](_0x138059){const _0x1f5475=_0x58569d,{id:_0x21e987}=_0x138059;if(!_0x21e987)throw new common_1['HttpException'](_0x1f5475(0x203),common_1[_0x1f5475(0x22a)][_0x1f5475(0x1f9)]);const _0x56506a=await this[_0x1f5475(0x224)][_0x1f5475(0x230)]({'id':_0x21e987});return _0x56506a;}};function _0x4854(_0x3d04a5,_0x11dd9b){const _0x500bb0=_0x500b();return _0x4854=function(_0x48540d,_0x20de41){_0x48540d=_0x48540d-0x1eb;let _0x1c7d42=_0x500bb0[_0x48540d];return _0x1c7d42;},_0x4854(_0x3d04a5,_0x11dd9b);}MenuService=__decorate([(0x0,common_1[_0x58569d(0x20f)])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(menu_entity_1['MenuEntity'])),__metadata(_0x58569d(0x221),[typeorm_2[_0x58569d(0x20a)]])],MenuService),exports[_0x58569d(0x235)]=MenuService;
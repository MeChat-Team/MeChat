'use strict';function _0x86bc(){const _0xcc467c=['metadata','Share','__metadata','112NZxgAb','HttpException','icon-park-outline:mindmap-map','UserCenter','isSystem','缺失必要参数!','defineProperty','menuEntity','__decorate','./menu.entity','initMenu','InjectRepository','delete','会员中心','@nestjs/typeorm','/app-store','Injectable','decorate','思维导图','HttpStatus','Midjourney','icon-park-outline:shopping','/user-center','menuPlatform','/chat','delMenu','setMenu','AppStore','__esModule','绘画广场','ASC','find','/pay','onModuleInit','/market','Chat','solar:album-line-duotone','ri:landscape-line','个人中心','应用广场','/share','21163112VwFlZT','6980895DiVppJ','6277663vQhTat','推广计划','9776prfIqb','5220876vhmYyx','MenuService','typeorm','function','483741jzxyca','ant-design:appstore-outlined','object','visibleMenu','getOwnPropertyDescriptor','save','MenuEntity','menuIframeUrl','findOne','ri:account-pin-box-line','Market','ri:message-3-line','/mind','menuListFront','Draw','affected','Mind','基础绘画','Pay','update','/midjourney','BAD_REQUEST','5069952DjBpaz','专业绘画'];_0x86bc=function(){return _0xcc467c;};return _0x86bc();}const _0xe97f83=_0x511e;(function(_0x5d509d,_0x1eacc0){const _0x562191=_0x511e,_0x96694a=_0x5d509d();while(!![]){try{const _0x5935e3=-parseInt(_0x562191(0x1f2))/0x1*(-parseInt(_0x562191(0x1d2))/0x2)+parseInt(_0x562191(0x1d7))/0x3+-parseInt(_0x562191(0x1d3))/0x4+-parseInt(_0x562191(0x1cf))/0x5+-parseInt(_0x562191(0x1ed))/0x6+parseInt(_0x562191(0x1d0))/0x7+parseInt(_0x562191(0x1ce))/0x8;if(_0x5935e3===_0x1eacc0)break;else _0x96694a['push'](_0x96694a['shift']());}catch(_0x2a9607){_0x96694a['push'](_0x96694a['shift']());}}}(_0x86bc,0xabfff));var __decorate=this&&this[_0xe97f83(0x1ad)]||function(_0x447334,_0x4c713a,_0x46d481,_0x3ee064){const _0x2ba308=_0xe97f83;var _0x3e608e=arguments['length'],_0x2977fd=_0x3e608e<0x3?_0x4c713a:_0x3ee064===null?_0x3ee064=Object[_0x2ba308(0x1db)](_0x4c713a,_0x46d481):_0x3ee064,_0x33453a;if(typeof Reflect===_0x2ba308(0x1d9)&&typeof Reflect['decorate']===_0x2ba308(0x1d6))_0x2977fd=Reflect[_0x2ba308(0x1b6)](_0x447334,_0x4c713a,_0x46d481,_0x3ee064);else{for(var _0x2527e1=_0x447334['length']-0x1;_0x2527e1>=0x0;_0x2527e1--)if(_0x33453a=_0x447334[_0x2527e1])_0x2977fd=(_0x3e608e<0x3?_0x33453a(_0x2977fd):_0x3e608e>0x3?_0x33453a(_0x4c713a,_0x46d481,_0x2977fd):_0x33453a(_0x4c713a,_0x46d481))||_0x2977fd;}return _0x3e608e>0x3&&_0x2977fd&&Object['defineProperty'](_0x4c713a,_0x46d481,_0x2977fd),_0x2977fd;},__metadata=this&&this[_0xe97f83(0x1f1)]||function(_0x433281,_0x1f61a0){const _0x5be389=_0xe97f83;if(typeof Reflect===_0x5be389(0x1d9)&&typeof Reflect[_0x5be389(0x1ef)]===_0x5be389(0x1d6))return Reflect[_0x5be389(0x1ef)](_0x433281,_0x1f61a0);},__param=this&&this['__param']||function(_0x1712a6,_0xceb588){return function(_0xecc741,_0xb1ae8a){_0xceb588(_0xecc741,_0xb1ae8a,_0x1712a6);};};Object[_0xe97f83(0x1f8)](exports,_0xe97f83(0x1c1),{'value':!![]}),exports[_0xe97f83(0x1d4)]=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require(_0xe97f83(0x1b3)),typeorm_2=require(_0xe97f83(0x1d5)),menu_entity_1=require(_0xe97f83(0x1ae));function _0x511e(_0x5b25d0,_0x954ad6){const _0x86bc11=_0x86bc();return _0x511e=function(_0x511e79,_0x2f1b30){_0x511e79=_0x511e79-0x1ad;let _0x988e56=_0x86bc11[_0x511e79];return _0x988e56;},_0x511e(_0x5b25d0,_0x954ad6);}let MenuService=class MenuService{constructor(_0xe42241){this['menuEntity']=_0xe42241;}async[_0xe97f83(0x1c6)](){const _0x54a1b0=_0xe97f83;await this[_0x54a1b0(0x1af)]();}async[_0xe97f83(0x1af)](){const _0x15585c=_0xe97f83,_0x491b0e=await this[_0x15585c(0x1f9)]['count']();if(_0x491b0e>0x0)return;const _0x3b3c8a=[{'menuTipText':'对话聊天','menuIcon':'ri:message-3-line','menuName':_0x15585c(0x1c8),'menuPath':_0x15585c(0x1bd),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x15585c(0x1cc),'menuIcon':_0x15585c(0x1d8),'menuName':_0x15585c(0x1c0),'menuPath':_0x15585c(0x1b4),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x15585c(0x1ee),'menuIcon':'ri:landscape-line','menuName':_0x15585c(0x1b9),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x15585c(0x1c2),'menuIcon':_0x15585c(0x1c9),'menuName':_0x15585c(0x1e1),'menuPath':_0x15585c(0x1c7),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x15585c(0x1e8),'menuIcon':'fluent:draw-image-24-regular','menuName':_0x15585c(0x1e5),'menuPath':'/draw','menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x15585c(0x1b7),'menuIcon':_0x15585c(0x1f4),'menuName':_0x15585c(0x1e7),'menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x15585c(0x1b2),'menuIcon':_0x15585c(0x1ba),'menuName':_0x15585c(0x1e9),'menuPath':_0x15585c(0x1c5),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x15585c(0x1d1),'menuIcon':'uiw:share','menuName':_0x15585c(0x1f0),'menuPath':_0x15585c(0x1cd),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x2f3b29=[{'menuTipText':'对话聊天','menuIcon':_0x15585c(0x1e2),'menuName':_0x15585c(0x1c8),'menuPath':_0x15585c(0x1bd),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x15585c(0x1cc),'menuIcon':_0x15585c(0x1d8),'menuName':_0x15585c(0x1c0),'menuPath':_0x15585c(0x1b4),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x15585c(0x1ee),'menuIcon':_0x15585c(0x1ca),'menuName':_0x15585c(0x1b9),'menuPath':_0x15585c(0x1eb),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x15585c(0x1b7),'menuIcon':_0x15585c(0x1f4),'menuName':_0x15585c(0x1e7),'menuPath':_0x15585c(0x1e3),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x15585c(0x1cb),'menuIcon':_0x15585c(0x1e0),'menuName':_0x15585c(0x1f5),'menuPath':_0x15585c(0x1bb),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x2760d2=[..._0x3b3c8a,..._0x2f3b29];await this[_0x15585c(0x1f9)][_0x15585c(0x1dc)](_0x2760d2);}async['queryMenu'](_0x4d803d){const _0x5e9f8b=_0xe97f83,{menuPlatform:_0x4a728e}=_0x4d803d;let _0x543083={};return _0x4a728e&&(_0x543083[_0x5e9f8b(0x1bc)]=_0x4a728e),await this['menuEntity'][_0x5e9f8b(0x1c4)]({'where':_0x543083,'order':{'order':_0x5e9f8b(0x1c3)}});}async[_0xe97f83(0x1e4)](_0x143ec8){const _0x461efe=_0xe97f83,{menuPlatform:_0x224a25}=_0x143ec8;let _0x29148f={'isShow':!![]};return _0x224a25&&(_0x29148f[_0x461efe(0x1bc)]=_0x224a25),await this['menuEntity']['find']({'where':_0x29148f,'order':{'order':_0x461efe(0x1c3)}});}async[_0xe97f83(0x1da)](_0x399e6f){const _0x36c61e=_0xe97f83,{id:_0x29844a}=_0x399e6f;if(!_0x29844a)return;const _0x2f0a50=await this[_0x36c61e(0x1f9)][_0x36c61e(0x1df)]({'where':{'id':_0x29844a}});if(!_0x2f0a50)return;const {isShow:_0x6c79f4}=_0x2f0a50,_0x35811d=await this[_0x36c61e(0x1f9)][_0x36c61e(0x1ea)]({'id':_0x29844a},{'isShow':!_0x6c79f4});return _0x35811d[_0x36c61e(0x1e6)]>0x0;}async[_0xe97f83(0x1bf)](_0xe6a8ef){const _0x30c388=_0xe97f83,{id:_0x2304cb}=_0xe6a8ef;_0xe6a8ef[_0x30c388(0x1f6)]?_0xe6a8ef['menuPath']='':_0xe6a8ef[_0x30c388(0x1de)]='';delete _0xe6a8ef['isSystem'];try{if(_0x2304cb){const _0x484c0f=await this[_0x30c388(0x1f9)][_0x30c388(0x1ea)]({'id':_0x2304cb},_0xe6a8ef);return _0x484c0f['affected']>0x0;}else{const _0xb1f0be=await this[_0x30c388(0x1f9)][_0x30c388(0x1dc)](_0xe6a8ef);return _0xb1f0be;}}catch(_0x3bd32a){throw new common_1[(_0x30c388(0x1f3))]('操作菜单失败!',common_1['HttpStatus'][_0x30c388(0x1ec)]);}}async[_0xe97f83(0x1be)](_0x1ecf80){const _0xdee40c=_0xe97f83,{id:_0x3bcad4}=_0x1ecf80;if(!_0x3bcad4)throw new common_1[(_0xdee40c(0x1f3))](_0xdee40c(0x1f7),common_1[_0xdee40c(0x1b8)]['BAD_REQUEST']);const _0x3d69a4=await this[_0xdee40c(0x1f9)][_0xdee40c(0x1b1)]({'id':_0x3bcad4});return _0x3d69a4;}};MenuService=__decorate([(0x0,common_1[_0xe97f83(0x1b5)])(),__param(0x0,(0x0,typeorm_1[_0xe97f83(0x1b0)])(menu_entity_1[_0xe97f83(0x1dd)])),__metadata('design:paramtypes',[typeorm_2['Repository']])],MenuService),exports[_0xe97f83(0x1d4)]=MenuService;
'use strict';const _0x2abd57=_0xb280;(function(_0x2e4acf,_0x5568c8){const _0x283e6c=_0xb280,_0x23f401=_0x2e4acf();while(!![]){try{const _0x59b258=parseInt(_0x283e6c(0x14a))/0x1+parseInt(_0x283e6c(0x148))/0x2+-parseInt(_0x283e6c(0x10e))/0x3*(parseInt(_0x283e6c(0x107))/0x4)+parseInt(_0x283e6c(0x137))/0x5*(parseInt(_0x283e6c(0x109))/0x6)+-parseInt(_0x283e6c(0x12f))/0x7*(-parseInt(_0x283e6c(0x13c))/0x8)+parseInt(_0x283e6c(0x11e))/0x9+parseInt(_0x283e6c(0xff))/0xa*(-parseInt(_0x283e6c(0x130))/0xb);if(_0x59b258===_0x5568c8)break;else _0x23f401['push'](_0x23f401['shift']());}catch(_0x5d2157){_0x23f401['push'](_0x23f401['shift']());}}}(_0x137e,0x39786));function _0x137e(){const _0x129c09=['60SDrKGl','queryMenu','defineProperty','solar:album-line-duotone','decorate','__metadata','find','icon-park-outline:shopping','16108KBvKuQ','__param','72nKXvYH','@nestjs/common','MenuService','uiw:share','design:paramtypes','78GbEMxu','ASC','对话聊天','ri:message-3-line','affected','__esModule','@nestjs/typeorm','绘画广场','menuListFront','delMenu','setMenu','Repository','/app-store','Draw','visibleMenu','menuPlatform','1805724tqNXJQ','menuPath','个人中心','icon-park-outline:mindmap-map','isSystem','menuEntity','count','/midjourney','/draw','object','ri:landscape-line','专业绘画','/market','getOwnPropertyDescriptor','BAD_REQUEST','缺失必要参数!','AppStore','7YHZMNm','1066054UgRtps','delete','findOne','typeorm','./menu.entity','/mind','initMenu','76100JxmOUv','update','Mind','length','/pay','623608ikVDCb','Share','metadata','/chat','onModuleInit','基础绘画','function','UserCenter','/share','Midjourney','Pay','思维导图','141868WrHcmB','ant-design:appstore-outlined','389423poIDhT','fluent:draw-image-24-regular','HttpException','Chat'];_0x137e=function(){return _0x129c09;};return _0x137e();}var __decorate=this&&this['__decorate']||function(_0xbc407c,_0x225c6b,_0x193c29,_0x2011db){const _0x4843f0=_0xb280;var _0x3a0b18=arguments[_0x4843f0(0x13a)],_0x16df10=_0x3a0b18<0x3?_0x225c6b:_0x2011db===null?_0x2011db=Object[_0x4843f0(0x12b)](_0x225c6b,_0x193c29):_0x2011db,_0x132f72;if(typeof Reflect===_0x4843f0(0x127)&&typeof Reflect[_0x4843f0(0x103)]===_0x4843f0(0x142))_0x16df10=Reflect['decorate'](_0xbc407c,_0x225c6b,_0x193c29,_0x2011db);else{for(var _0x4683ad=_0xbc407c[_0x4843f0(0x13a)]-0x1;_0x4683ad>=0x0;_0x4683ad--)if(_0x132f72=_0xbc407c[_0x4683ad])_0x16df10=(_0x3a0b18<0x3?_0x132f72(_0x16df10):_0x3a0b18>0x3?_0x132f72(_0x225c6b,_0x193c29,_0x16df10):_0x132f72(_0x225c6b,_0x193c29))||_0x16df10;}return _0x3a0b18>0x3&&_0x16df10&&Object[_0x4843f0(0x101)](_0x225c6b,_0x193c29,_0x16df10),_0x16df10;},__metadata=this&&this[_0x2abd57(0x104)]||function(_0x11b19f,_0x321c22){const _0x32f079=_0x2abd57;if(typeof Reflect===_0x32f079(0x127)&&typeof Reflect[_0x32f079(0x13e)]===_0x32f079(0x142))return Reflect[_0x32f079(0x13e)](_0x11b19f,_0x321c22);},__param=this&&this[_0x2abd57(0x108)]||function(_0x100b97,_0xcc294d){return function(_0x4dddeb,_0x47449e){_0xcc294d(_0x4dddeb,_0x47449e,_0x100b97);};};function _0xb280(_0x4f3226,_0x4319d0){const _0x137e69=_0x137e();return _0xb280=function(_0xb28060,_0x3c3c09){_0xb28060=_0xb28060-0xfc;let _0x17a17a=_0x137e69[_0xb28060];return _0x17a17a;},_0xb280(_0x4f3226,_0x4319d0);}Object['defineProperty'](exports,_0x2abd57(0x113),{'value':!![]}),exports[_0x2abd57(0x10b)]=void 0x0;const common_1=require(_0x2abd57(0x10a)),typeorm_1=require(_0x2abd57(0x114)),typeorm_2=require(_0x2abd57(0x133)),menu_entity_1=require(_0x2abd57(0x134));let MenuService=class MenuService{constructor(_0x571ac2){const _0x17d433=_0x2abd57;this[_0x17d433(0x123)]=_0x571ac2;}async[_0x2abd57(0x140)](){await this['initMenu']();}async[_0x2abd57(0x136)](){const _0x4e607c=_0x2abd57,_0x3df383=await this['menuEntity'][_0x4e607c(0x124)]();if(_0x3df383>0x0)return;const _0x29f87a=[{'menuTipText':_0x4e607c(0x110),'menuIcon':_0x4e607c(0x111),'menuName':_0x4e607c(0xfe),'menuPath':_0x4e607c(0x13f),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0x4e607c(0x149),'menuName':_0x4e607c(0x12e),'menuPath':_0x4e607c(0x11a),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x4e607c(0x129),'menuIcon':_0x4e607c(0x128),'menuName':_0x4e607c(0x145),'menuPath':_0x4e607c(0x125),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x4e607c(0x115),'menuIcon':_0x4e607c(0x102),'menuName':'Market','menuPath':_0x4e607c(0x12a),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x4e607c(0x141),'menuIcon':_0x4e607c(0xfc),'menuName':_0x4e607c(0x11b),'menuPath':_0x4e607c(0x126),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x4e607c(0x147),'menuIcon':_0x4e607c(0x121),'menuName':_0x4e607c(0x139),'menuPath':_0x4e607c(0x135),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':'会员中心','menuIcon':_0x4e607c(0x106),'menuName':_0x4e607c(0x146),'menuPath':_0x4e607c(0x13b),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':'推广计划','menuIcon':_0x4e607c(0x10c),'menuName':_0x4e607c(0x13d),'menuPath':_0x4e607c(0x144),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x32cbf5=[{'menuTipText':'对话聊天','menuIcon':_0x4e607c(0x111),'menuName':_0x4e607c(0xfe),'menuPath':_0x4e607c(0x13f),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0x4e607c(0x149),'menuName':_0x4e607c(0x12e),'menuPath':_0x4e607c(0x11a),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'专业绘画','menuIcon':_0x4e607c(0x128),'menuName':'Midjourney','menuPath':_0x4e607c(0x125),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x4e607c(0x147),'menuIcon':_0x4e607c(0x121),'menuName':_0x4e607c(0x139),'menuPath':_0x4e607c(0x135),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x4e607c(0x120),'menuIcon':'ri:account-pin-box-line','menuName':_0x4e607c(0x143),'menuPath':'/user-center','menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x24395b=[..._0x29f87a,..._0x32cbf5];await this['menuEntity']['save'](_0x24395b);}async[_0x2abd57(0x100)](_0x44f080){const _0x418c63=_0x2abd57,{menuPlatform:_0x13b258}=_0x44f080;let _0x424cbd={};return _0x13b258&&(_0x424cbd['menuPlatform']=_0x13b258),await this[_0x418c63(0x123)][_0x418c63(0x105)]({'where':_0x424cbd,'order':{'order':_0x418c63(0x10f)}});}async[_0x2abd57(0x116)](_0x1e3056){const _0x5a1b14=_0x2abd57,{menuPlatform:_0x3e273b}=_0x1e3056;let _0x1d1ae9={'isShow':!![]};return _0x3e273b&&(_0x1d1ae9[_0x5a1b14(0x11d)]=_0x3e273b),await this[_0x5a1b14(0x123)][_0x5a1b14(0x105)]({'where':_0x1d1ae9,'order':{'order':_0x5a1b14(0x10f)}});}async[_0x2abd57(0x11c)](_0xa4113b){const _0x4c26c7=_0x2abd57,{id:_0x3f51b6}=_0xa4113b;if(!_0x3f51b6)return;const _0x759231=await this['menuEntity'][_0x4c26c7(0x132)]({'where':{'id':_0x3f51b6}});if(!_0x759231)return;const {isShow:_0x13bb83}=_0x759231,_0x1ac9fb=await this[_0x4c26c7(0x123)][_0x4c26c7(0x138)]({'id':_0x3f51b6},{'isShow':!_0x13bb83});return _0x1ac9fb['affected']>0x0;}async[_0x2abd57(0x118)](_0x550464){const _0x2c5fa5=_0x2abd57,{id:_0x28a286}=_0x550464;_0x550464[_0x2c5fa5(0x122)]?_0x550464[_0x2c5fa5(0x11f)]='':_0x550464['menuIframeUrl']='';delete _0x550464['isSystem'];try{if(_0x28a286){const _0x57a8de=await this['menuEntity'][_0x2c5fa5(0x138)]({'id':_0x28a286},_0x550464);return _0x57a8de[_0x2c5fa5(0x112)]>0x0;}else{const _0x198afe=await this[_0x2c5fa5(0x123)]['save'](_0x550464);return _0x198afe;}}catch(_0x3b53bc){throw new common_1[(_0x2c5fa5(0xfd))]('操作菜单失败!',common_1['HttpStatus'][_0x2c5fa5(0x12c)]);}}async[_0x2abd57(0x117)](_0x1fc309){const _0x2ce20a=_0x2abd57,{id:_0x334404}=_0x1fc309;if(!_0x334404)throw new common_1['HttpException'](_0x2ce20a(0x12d),common_1['HttpStatus'][_0x2ce20a(0x12c)]);const _0x26ec4d=await this[_0x2ce20a(0x123)][_0x2ce20a(0x131)]({'id':_0x334404});return _0x26ec4d;}};MenuService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(menu_entity_1['MenuEntity'])),__metadata(_0x2abd57(0x10d),[typeorm_2[_0x2abd57(0x119)]])],MenuService),exports[_0x2abd57(0x10b)]=MenuService;